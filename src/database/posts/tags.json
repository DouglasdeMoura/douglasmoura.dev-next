{
  "Node.js": [
    {
      "id": "5xfzc0v2gy17ywy",
      "title": "Usando TypeScript em projetos Node.js",
      "slug": "usando-typescript-em-projetos-node-js",
      "locale": "pt-BR",
      "created": "2024-07-08T09:51:28.826Z",
      "updated": "2024-07-08T09:51:28.826Z",
      "content": "[TypeScript](https://www.typescriptlang.org/) é extremamente útil durante o desenvolvimento de aplicações Node.js. Vamos ver como configurá-lo para uma experiência de desenvolvimento tranquila.\r\n\r\n## Configurando o TypeScript\r\n\r\nPrimeiro, precisamos instalar o TypeScript. Podemos fazer isso executando o seguinte comando:\r\n\r\n```bash\r\nnpm i -D typescript\r\n```\r\n\r\nEm seguida, precisamos criar um arquivo `tsconfig.json` na raiz do nosso projeto. Este arquivo conterá a configuração do TypeScript para o nosso projeto. Aqui está um exemplo de um arquivo `tsconfig.json` que peguei do [Total TypeScript](https://www.totaltypescript.com/tsconfig-cheat-sheet) e adicionei mais algumas coisas (leia o código e preste atenção aos comentários):\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    /* Opções Base: */\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"target\": \"es2022\",\r\n    \"allowJs\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"isolatedModules\": true,\r\n    \"verbatimModuleSyntax\": true,\r\n\r\n    /* Configurando ~ como alias para o diretório src/ */\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"src/*\"]\r\n    },\r\n\r\n    /* Rigor */\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n\r\n    /* Se compilando com TypeScript: */\r\n    \"module\": \"NodeNext\",\r\n    \"outDir\": \"dist\",\r\n    \"sourceMap\": true,\r\n\r\n    /* E se você estiver construindo para uma biblioteca: */\r\n    \"declaration\": true,\r\n\r\n    /* E se você estiver construindo para uma biblioteca em um monorepo: */\r\n    \"composite\": true,\r\n    \"declarationMap\": true,\r\n\r\n    /* Se NÃO estiver compilando com TypeScript: */\r\n    \"module\": \"preserve\",\r\n    \"noEmit\": true,\r\n\r\n    /* Se o seu código roda no DOM: */\r\n    \"lib\": [\"es2022\", \"dom\", \"dom.iterable\"],\r\n\r\n    /* Se o seu código não roda no DOM: */\r\n    \"lib\": [\"es2022\"],\r\n  },\r\n  /* Estou considerando que todo o seu código está em src/ */\r\n  \"include\": [\"src/**/*.ts\"]\r\n}\r\n```\r\n\r\n## Configurando o script de build\r\n\r\nEm seguida, precisamos configurar um script de build que irá compilar nosso código TypeScript para JavaScript. Primeiro, instale [`tsc-alias`](https://www.npmjs.com/package/tsc-alias) para lidar com os aliases que definimos no arquivo `tsconfig.json`:\r\n\r\n```bash\r\nnpm i -D tsc-alias\r\n```\r\n\r\nDepois, você pode adicionar o script `build` adicionando o seguinte script ao nosso arquivo `package.json`:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\"\r\n  }\r\n}\r\n```\r\n\r\n## Configurando o script de desenvolvimento\r\n\r\nAgora, precisamos configurar um script de desenvolvimento que irá observar mudanças em nossos arquivos TypeScript e recompilá-los. Pessoalmente, gosto de usar [`tsx`](https://tsx.is/), pois proporciona uma experiência de desenvolvimento muito mais rápida em comparação com o [TypeScript watcher](https://www.typescriptlang.org/docs/handbook/configuring-watch.html) ou [ts-node](https://typestrong.org/ts-node/). Primeiro, instale `tsx`:\r\n\r\n```bash\r\nnpm i -D tsx\r\n```\r\n\r\nDepois, você pode adicionar o script `dev` (para iniciar o projeto em modo de desenvolvimento) adicionando o seguinte script ao seu arquivo `package.json`:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\"\r\n  }\r\n}\r\n```\r\n\r\nSim, você não terá verificação de tipos enquanto desenvolve usando `tsx`, mas você pode rodar `npm run build` para isso ou adicionar um novo script `typecheck` ao seu `package.json` e executá-lo sempre que quiser verificar erros de tipos:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\",\r\n    \"typecheck\": \"tsc --noEmit\"\r\n  }\r\n}\r\n```\n",
      "tags": [
        "Node.js",
        "javascript",
        "typescript"
      ],
      "translates": "8cxztl6gvjs26in"
    },
    {
      "id": "8cxztl6gvjs26in",
      "title": "Using TypeScript in Node.js projects",
      "slug": "using-typescript-in-node-js-projects",
      "locale": "en-US",
      "created": "2024-07-01T12:24:04.381Z",
      "updated": "2024-07-08T09:51:36.801Z",
      "content": "[TypeScript](https://www.typescriptlang.org/) is tremendously helpful while developing Node.js applications. Let's see how to configure it for a seamless development experience.\r\n\r\n## Setting up TypeScript\r\n\r\nFirst, we need to install TypeScript. We can do this by running the following command:\r\n\r\n```bash\r\nnpm i -D typescript\r\n```\r\n\r\nNext, we need to create a `tsconfig.json` file in the root of our project. This file will contain the TypeScript configuration for our project. Here is an example of a `tsconfig.json` file that I picked from [Total TypeScript](https://www.totaltypescript.com/tsconfig-cheat-sheet) and added a few more things (read the code and pay attention to the comments):\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    /* Base Options: */\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"target\": \"es2022\",\r\n    \"allowJs\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"isolatedModules\": true,\r\n    \"verbatimModuleSyntax\": true,\r\n\r\n    /* Setting ~ as the alias for the src/ directory */\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"src/*\"]\r\n    },\r\n\r\n    /* Strictness */\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n\r\n    /* If transpiling with TypeScript: */\r\n    \"module\": \"NodeNext\",\r\n    \"outDir\": \"dist\",\r\n    \"sourceMap\": true,\r\n\r\n    /* AND if you're building for a library: */\r\n    \"declaration\": true,\r\n\r\n    /* AND if you're building for a library in a monorepo: */\r\n    \"composite\": true,\r\n    \"declarationMap\": true,\r\n\r\n    /* If NOT transpiling with TypeScript: */\r\n    \"module\": \"preserve\",\r\n    \"noEmit\": true,\r\n\r\n    /* If your code runs in the DOM: */\r\n    \"lib\": [\"es2022\", \"dom\", \"dom.iterable\"],\r\n\r\n    /* If your code doesn't run in the DOM: */\r\n    \"lib\": [\"es2022\"],\r\n  },\r\n  /* I'm considering all your code is in src/ */\r\n  \"include\": [\"src/**/*.ts\"]\r\n}\r\n```\r\n\r\n## Setting up the build script\r\n\r\nNext, we need to set up a build script that will compile our TypeScript code to JavaScript. First, install [`tsc-alias`](https://www.npmjs.com/package/tsc-alias) to handle the aliases we defined in the `tsconfig.json` file:\r\n\r\n```bash\r\nnpm i -D tsc-alias\r\n```\r\n\r\nThen, you can add the `build` script by adding the following script to our `package.json` file:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\"\r\n  }\r\n}\r\n```\r\n\r\n## Setting up the development script\r\n\r\nNext, we need to set up a development script that will watch for changes in our TypeScript files and recompile them. Personally, I like to use [`tsx`](https://tsx.is/), as it provides a much faster development experience compared to the built-in [TypeScript watcher](https://www.typescriptlang.org/docs/handbook/configuring-watch.html) or [ts-node](https://typestrong.org/ts-node/). First, install `tsx`:\r\n\r\n```bash\r\nnpm i -D tsx\r\n```\r\n\r\nThen, you can add the `dev` script (in order to start the project in development mode) by adding the following script to your `package.json` file:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\"\r\n  }\r\n}\r\n```\r\n\r\nYes, you won't get typechecks while developing using `tsx`, but you can run `npm run build` for that or add a new `typecheck` scripts to your `package.json`, and run it whenever you want to check for type errors:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\",\r\n    \"typecheck\": \"tsc --noEmit\"\r\n  }\r\n}\r\n```\n",
      "tags": [
        "typescript",
        "Node.js",
        "javascript"
      ],
      "translates": "5xfzc0v2gy17ywy"
    },
    {
      "id": "bjdnvqai9ykbt6v",
      "title": "Devo commitar o node_modules no git?",
      "slug": "devo-commitar-o-node-modules-no-git",
      "locale": "pt-BR",
      "created": "2024-06-04T17:49:35.568Z",
      "updated": "2024-06-04T17:49:35.568Z",
      "content": "TL; DR: Não. Por favor, adicione `node_modules` ao seu arquivo `.gitignore`:\r\n\r\n```\r\nnode_modules\r\n```\r\n\r\n## Mas, por quê?\r\n\r\nO diretório `node_modules` é onde o seu gerenciador de pacotes (que pode ser o [npm](https://www.npmjs.com/), [yarn](https://classic.yarnpkg.com/) ou [pnpm](https://pnpm.io/)) irá instalar todas as dependências do projeto listadas no seu `package.json`. Independentemente do gerenciador de pacotes que você escolher, um lockfile (`package-lock.json`, `yarn.lock` ou `pnpm-lock.yaml`, respectivamente) será gerado na primeira vez que você instalar as dependências do seu projeto, descrevendo toda a árvore de dependências. Dessa forma, toda vez que você precisar reinstalar as dependências do seu projeto, você obterá exatamente os mesmos arquivos.\r\n\r\nO lockfile deve ser _commitado_ no `git`, permitindo a reinstalação da árvore de dependências em qualquer outro ambiente, o que torna desnecessário commitar o diretório `node_modules` no `git` (além disso, isso reduz muito o tamanho do seu repositório, já que o `node_modules` pode consumir gigabytes de espaço).\n",
      "tags": [
        "Node.js",
        "javascript",
        "npm"
      ],
      "translates": "46trc5wkbpbc97s"
    },
    {
      "id": "46trc5wkbpbc97s",
      "title": "Should I commit node_modules directory to git?",
      "slug": "should-i-commit-node-modules-directory-to-git",
      "locale": "en-US",
      "created": "2024-06-04T17:45:35.356Z",
      "updated": "2024-06-04T17:49:44.038Z",
      "content": "TL; DR: No. Please add `node_modules` to your `.gitignore` file:\r\n\r\n```\r\nnode_modules\r\n```\r\n\r\n## But, why?\r\n\r\nThe `node_modules` directory is where your package manager (that can be [npm](https://www.npmjs.com/), [yarn](https://classic.yarnpkg.com/) or [pnpm](https://pnpm.io/)) will install all the project dependencies listed on your `package.json`. Regardless of the package manager you choose, a lockfile (`package-lock.json`,  `yarn.lock` or `pnpm-lock.yaml`, respectelly) will be generated in the first time you install your project dependencies, describing the entire dependency tree. This way, every time you need to reinstall your project dependencies, you shall get the exact same files.\r\n\r\nThe lockfile should be commited to `git`, enabling the re-installation of the tree of dependencies in any other ambient, what makes unecessary to commit the `node_modules` directory to `git` (also, it cuts the size of your repository by a lot, as `node_modules` can consumes gigabytes of space).\n",
      "tags": [
        "Node.js",
        "javascript",
        "npm"
      ],
      "translates": "bjdnvqai9ykbt6v"
    },
    {
      "id": "91sox12o3ozzl5n",
      "title": "Rendering JSX on the Server with Fastify",
      "slug": "rendering-jsx-on-the-server-with-fastify",
      "locale": "en-US",
      "created": "2024-01-25T00:35:37.056Z",
      "updated": "2024-01-25T00:42:06.600Z",
      "content": "[JSX](https://facebook.github.io/jsx/) is an excellent abstraction for building web interfaces. Introduced by Facebook and popularized by React, it's an extension of JavaScript designed to abstract nested function calls. It's expected that JSX code will be pre-processed (transpiled) into valid JavaScript before being executed in browsers or environments like Node.js.\r\n\r\n##   Project Setup\r\n\r\nFirst of all, let's start our project and install the necessary dependencies:\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nNow, we set up the scripts for our project. The `package.json` should look like this:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\nAnd this is the `tsconfig.json` that we will use:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Creating our components\r\n\r\nThe React ecosystem already provides the necessary tools for rendering our components to HTML and sending them directly from the server to our client. So, first, let's create the root component:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nAnd our home page:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n##   Configuring Fastify to Render Our React Component\r\nAs we don't intend to load React to hydrate our HTML on the client side, we can use the `renderToStaticMarkup` function exported from `react-dom/server`. Our server initialization file will look like this:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nIf you start the project now (`npm run dev`), you should see the page at [http://localhost:3000](http://localhost:3000/). Of course, we can enhance our implementation by using the new streaming API, introduced in React 18 ([which is the recommended method](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). To do that, we will make the following changes to our code:\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\nAnd with that, we are able to render our React components on the server side and stream them to our client. Here is the [link](https://github.com/DouglasdeMoura/react-fastify) to the repository.\n",
      "tags": [
        "Fastify",
        "Tips",
        "javascript",
        "Node.js"
      ],
      "translates": "p7310widh7o7h9e"
    },
    {
      "id": "p7310widh7o7h9e",
      "title": "Renderizando JSX no servidor com Fastify",
      "slug": "renderizando-jsx-no-servidor-com-fastify",
      "locale": "pt-BR",
      "created": "2024-01-25T00:16:10.675Z",
      "updated": "2024-01-25T00:42:27.538Z",
      "content": "[JSX](https://facebook.github.io/jsx/) é uma excelente abstração para montar interfaces. Introduzida pelo Facebook e popularizada pelo React, trata-se de uma extensão do JavaScript para abstrair a chamada de funções aninhadas. É esperado que o código JSX seja pré-processado (transpilado) para JavaScript válido antes de ser executada nos navegadores ou em ambientes como Node.js.\r\n\r\n## Configuração do projeto\r\n\r\nAntes de tudo, vamos iniciar o nosso projeto e instalar as dependências necessárias:\r\n\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nAgora, configuramos os _scripts_ do nosso projeto. O `package.json` deverá ficará assim:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\n\r\nE esse é o `tsconfig.json` que iremos utilizar:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Criando nossos componentes\r\n\r\nO ecossistema do React já fornece as ferramentas necessárias para renderizarmos os nossos componentes para HTML e enviarmos diretamente do servidor para o nosso cliente. Então, primeiro, vamos criar o componente raiz:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nE nossa página inicial:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n## Configurando o Fastify para renderizar nosso componente React\r\n\r\nComo não pretendemos carregar o React para hidratar o nosso HTML do lado do cliente, podemos usar a função `renderToStaticMarkup` exportada de `react-dom/server`. Nosso arquivo de inicialização do servidor ficará assim:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\n// Importando com o `.js` no final, o arquivo \"buildado\"\r\n// fará as importações corretamente e você não deverá ver nenhum erro na\r\n// IDE, ainda que os arquivos tenham a extensão `.tsx`.\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  // Aqui, inserimos `<!DOCTYPE html>`\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você iniciar o projeto agora (`npm run dev`), você deverá ver a página em http://localhost:3000. Claro, podemos melhorar a nossa implementação usando a nova API de stream, introduzida no React 18 ([que é o método recomendado](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). Para isso, faremos as seguintes alterações no nosso código:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE com isso, conseguimos renderizar nossos componentes React do lado do servidor e fazer _streaming_ deles para o nosso cliente. E este é o [link](https://github.com/DouglasdeMoura/react-fastify) do repositório.\n",
      "tags": [
        "Dicas",
        "Node.js",
        "javascript",
        "Fastify"
      ],
      "translates": "91sox12o3ozzl5n"
    },
    {
      "id": "bdwhaei947bfrx4",
      "title": "Generating MD5 hashes on Node.js",
      "slug": "generating-md5-hashes-on-node-js",
      "locale": "en-US",
      "created": "2024-01-23T13:20:06.581Z",
      "updated": "2024-01-23T13:29:10.648Z",
      "content": "You can create hashes in Node.js without the need to install any external library. Usually, I create the following utility function in the projects I work on:\r\n\r\n```javascript\r\n/**\r\n * Hashes a string using md5\r\n *\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport const md5 = (str) => createHash('md5').update(str).digest('hex')\r\n```\r\n\r\nAnd I use it to replace the [md5](https://www.npmjs.com/package/md5) library whenever I come across it.\r\n\r\nNote that you can create hashes for any algorithm supported by the OpenSSL version on your platform. On Linux and Mac, you can see which algorithms are available with the command `openssl list -digest-algorithms`.\n",
      "tags": [
        "Node.js",
        "javascript"
      ],
      "translates": "zj7xcfn2r753ld7"
    },
    {
      "id": "zj7xcfn2r753ld7",
      "title": "Gerando hashes MD5 no Node.js",
      "slug": "gerando-hashes-md5-no-node-js",
      "locale": "pt-BR",
      "created": "2024-01-22T20:36:58.299Z",
      "updated": "2024-01-23T13:20:20.671Z",
      "content": "Você pode criar _hashes_ com Node.js sem a necessidade instalar nenhuma biblioteca externa. Normalmente eu crio a seguinte função utilitária nos projetos em que trabalho:\r\n\r\n```javascript\r\n/**\r\n * Cria um hash MD5 para a string dada\r\n *\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport const md5 = (str) => createHash('md5').update(str).digest('hex')\r\n```\r\n\r\nE a uso para substituir a biblioteca [md5](https://www.npmjs.com/package/md5) sempre que encontro.\r\n\r\nNote que você pode criar _hashes_ para qualquer algoritmo suportado pela versão do OpenSSL da sua plataforma. No Linux e no Mac, você pode ver quais os algoritmos disponíveis com o comando `openssl list -digest-algorithms`.\n",
      "tags": [
        "javascript",
        "Node.js"
      ],
      "translates": "bdwhaei947bfrx4"
    },
    {
      "id": "8mgwfzzig2t1wd9",
      "title": "Understanding Tail Call Optimization With JavaScript",
      "slug": "understanding-tail-call-optimization-with-javascript",
      "locale": "en-US",
      "created": "2023-10-24T15:13:38.216Z",
      "updated": "2023-10-24T15:27:40.960Z",
      "content": "Consider the following function that calculates the factorial of a number:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Factorial\" mb=\"md\" color=\"blue\">\r\nIn Mathematics, the factorial of a non-negative integer (n!) is the product of all positive integers less than or equal to n.\r\n</Alert>\r\n\r\nThe function above was implemented iteratively, that is, it uses a loop to calculate the factorial of a number. However, it is possible to implement the same function recursively (that is, a function that references itself):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nThe result of both functions is the same, however, the iterative function is [much more efficient](https://jsben.ch/1qyl8) (in JavaScript) than the recursive function. In addition, if we try to calculate the factorial of a very large number, we encounter the error RangeError: Maximum call stack size exceeded. Let's understand why this happens and how we can improve the recursive function.\r\n\r\n## Call Stack\r\n\r\nA [call stack](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) is a data structure that stores information about a program's functions. When a function is called, it is added to the execution stack, as well as all the functions it calls. When a function returns, it is removed from the execution stack. Each function added to the stack is called a _stack frame_.\r\n\r\nIn order to understand what is happening, let's try to represent, graphically, how the calculation of the factorial of 6 is done with the iterative function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNow, compare it with the substitution model for calculating the factorial of 6 using the recursive function:\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNote that, in the iterative function, the arrow shape is linear and we can see the state of each variable at each step. In addition, at each iteration of our loop, a calculation is performed and the variables stored in memory are updated. In the recursive function, the arrow shape is exponential and we cannot see the state of all variables in the first half of the processing. In addition, each time the function is executed, more memory needs to be used to store the resulting values of each execution.\r\n\r\nBut what does this mean? In order for JavaScript to calculate the factorial of 6 using the iterative function, the `while` condition is added to the stack, where its calculation is performed, the `result` variable is updated, and then the executed code block of the `while` is removed from the stack. This is done until the while condition is false, that is, until the value of `n` is less than or equal to 1.\r\n\r\nIn the recursive function, each call to the `factorial` function is added to the stack as many times as necessary until the if condition is false, that is, until the value of `n` is less than or equal to 1. This means that, to calculate the factorial of 6, the `factorial` function is added to the stack 6 times before being executed. And that's why, when we try to calculate the factorial of a large number (100,000, for example), we encounter the error `RangeError: Maximum call stack size exceeded`: there is not enough space in the stack to store all the calls to the `factorial` function.\r\n\r\n## Introducing Tail Call Optimization\r\n\r\nAs defined by [Dr. Axel Rauschmayer](https://dr-axel.de/):\r\n\r\n> [...] whenever the last thing a function does is call another function, then this last function does not need to return to its caller. As a consequence, no information needs to be stored on the call stack and the function call is more like a goto (a jump). This type of call is called a _tail call_; not increasing the stack is called tail call optimization (TCO).\r\n\r\nNow, we have discovered that our factorial calculation function is not tail recursive. But how can we make it tail recursive? With the help of another function:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nNow, our function is tail recursive: the last thing it does is call a function (and not calculate an expression, as in the first implementation). Now, let's see the substitution model for calculating the factorial of 6 with our new `factorial` function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[The performance is superior](https://jsben.ch/vOf9P) to our first implementation, although it still doesn't beat the performance of the iterative function. However, we still encounter the error `RangeError: Maximum call stack size exceeded`. But why does this happen? Because, despite our function being tail recursive, current versions of Node.js and browsers ([with the exception of Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) do not implement Tail Call Optimization (despite its inclusion in the [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) specification since 2015).\r\n\r\nBut how will we solve this problem? With the help of another function, of course! For that, we will rely on the [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)) pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nOur trampoline function consists of a loop that invokes a function that wraps another function (what we call a [thunk](https://en.wikipedia.org/wiki/Thunk)) until there are no more functions to execute. Let's see how the implementation of our factorial function would look like with the Trampoline pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Now, a function returns another function\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nAnd now, we can call our factorial function with a large number, without encountering the error `RangeError: Maximum call stack size exceeded`. Of course, depending on the factorial we want to calculate, we will encounter an Infinity, as it is a very large number (a number greater than Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). In this case, we can use [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Converting values to BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Typing our function\r\n\r\nAnd finally, let's add the necessary types to our factorial function:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## References\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "algorithms",
        "javascript",
        "mathematic",
        "Node.js"
      ],
      "translates": "rc3oq9fakzdn3ad"
    },
    {
      "id": "jdwjqfxbwki78t2",
      "title": "Dissecando URLs com JavaScript",
      "slug": "dissecando-urls-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-11T12:48:41.199Z",
      "updated": "2023-09-11T12:52:25.736Z",
      "content": "Vamos entender o que significa cada parte de uma URL (Uniform Resource Locator). Observe a URL abaixo:\r\n\r\n```\r\nhttps://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\r\n```\r\n\r\n<Alert title=\"URL (Uniform Resource Locator)\" color=\"blue\" mb=\"md\">\r\nUma URL é um endereço de uma localização específica na web e uma mecanismo que especifica a forma de recuperar este conteúdo, que pode ser um documento, uma imagem, um vídeo, etc.\r\n</Alert>\r\n\r\n- `https://`: **Protocolo de comunicação** (padrão de comunicação utilizado entre o cliente e o servidor);\r\n- `user:password@`: **Credenciais de autenticação para o [esquema Basic](https://datatracker.ietf.org/doc/html/rfc7617)** (obviamente, por questões de segurança, você **não** deve colocar suas credenciais diretamente na URL - inclusive, alguns navegadores [já não permitem mais isso](https://crbug.com/82250#c7));\r\n- `blog`: **Subdomínio** (um domínio dentro de outro domínio);\r\n- `exemple.com.br`: **Domínio** (nome do site);\r\n- `.br`: **TLD (Top Level Domain)** (domínio de primeiro nível - identifica o país ou a região geográfica do site);\r\n- `.com.br`: **SLD (Second Level Domain)** (domínio de segundo nível - alguns são reservados para entidades específicas, como governos, universidades, etc.);\r\n- `:443`: **Porta de comunicação** (cada protocolo de comunicação possui uma porta padrão, por exemplo, o HTTP utiliza a porta 80 , HTTPS utiliza a porta 443. Porém, podemos utilizar outras portas, caso necessário);\r\n- `/posts`: **Caminho do recurso no servidor**;\r\n- `?s=javascript&tags[]=html&tags[]=css`: **Parâmetros da requisição** (informações adicionais que podem ser enviadas para o servidor);\r\n- `#top`: **Âncora** (identifica um local específico dentro de uma página - normalmente utilizado para rolar a página até o local desejado).\r\n\r\n## O construtor URL\r\n\r\nO JavaScript possui um construtor chamado `URL` que nos permite criar um objeto com as informações de uma URL. Veja o exemplo abaixo:\r\n\r\n```javascript\r\n// Criando um objeto URL\r\nconst url = new URL(\r\n  \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n);\r\n\r\n// Exibindo o objeto URL\r\nconsole.log(url);\r\n/*\r\nVocê verá o seguinte resultado:\r\n\r\nURL {\r\n  hash:  \"#top\"\r\n  host: \"blog.exemple.com.br\"\r\n  hostname: \"blog.exemple.com.br\"\r\n  href: \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n  origin: \"https://blog.exemple.com.br\"\r\n  password: \"password\"\r\n  pathname: \"/posts\"\r\n  port: \"\"\r\n  protocol: \"https:\"\r\n  search: \"?s=javascript&tags[]=html&tags[]=css\"\r\n  searchParams: URLSearchParams {size: 3}\r\n  username: \"user\"\r\n}\r\n*/\r\n```\r\n\r\nNote que a porta está vazia, pois o protocolo HTTPS utiliza a porta 443 por padrão. Caso houvesse uma porta diferente, ela seria exibida no atributo `port`.\r\n\r\n## O construtor URLSearchParams\r\n\r\nO JavaScript também possui um construtor chamado [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) que nos permite criar um objeto com os parâmetros de uma URL. Veja o exemplo abaixo:\r\n\r\n```javascript\r\n// Criando um objeto URLSearchParams\r\nconst params = new URLSearchParams(\"s=javascript&tags[]=html&tags[]=css\");\r\n```\r\n\r\nNote que ele já é está presente no objeto URL que criamos anteriormente (no attributo `searchParams`), de modo que podemos acessar os parâmetros da URL da seguinte maneira:\r\n\r\n```javascript\r\nconst url = new URL(\r\n  \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n);\r\n\r\nconsole.log(url.searchParams.get(\"s\")); // javascript\r\nconsole.log(url.searchParams.get(\"tags\")); // ['html', 'css']\r\n```\r\n\r\n## Uma nota importante sobre a âncora\r\n\r\nOs navegadores não enviam a âncora para o servidor, de modo que, no nosso exemplo, os caracteres `#top` só é acessível do lado do navegador. Algumas pessoas utilizam este recurso para armazenar o estado da aplicação ou informações encriptadas na URL que só serão acessíveis do lado do navegador, sem nunca ter acesso à isso pelo servidor.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "Node.js"
      ],
      "translates": null
    },
    {
      "id": "r244td2x5346p6e",
      "title": "Configurando variáveis de ambiente em aplicações Node.js",
      "slug": "configurando-variaveis-de-ambiente-em-aplicacoes-node-js",
      "locale": "pt-BR",
      "created": "2023-09-05T21:01:49.238Z",
      "updated": "2023-09-05T21:06:00.400Z",
      "content": "A partir do Node.js 20.6.0, é possível carregar variáveis de ambiente a partir de um arquivo `.env` de maneira nativa, sem a necessidade de utilizar o pacote [`dotenv`](https://www.npmjs.com/package/dotenv).\r\n\r\nPara isso, basta iniciar o seu projeto usando o seguinte comando:\r\n\r\n```bash\r\nnode --env-file=.env index.js\r\n```\r\n\r\n<Alert title=\"Variáveis de ambiente\" mb=\"md\" color=\"blue\">\r\n<a href=\"https://pt.wikipedia.org/wiki/Vari%C3%A1vel_de_ambiente\">Variáveis de ambiente</a> são valores, definidos pelo usuário que podem afetar o o modo que um programa é executado no computador. Tais valores são usados para passar informações para programas, scripts e comandos, sem que seja necessário alterar o código fonte.\r\n</Alert>\r\n\r\n## E para versões mais antigas do Node.js?\r\n\r\nBom, neste caso você pode continuar utilizando o pacote [`dotenv`](https://www.npmjs.com/package/dotenv):\r\n\r\n```bash\r\nnpm install dotenv\r\nnode -r dotenv/config index.js\r\n```\r\n\r\n## E por que eu deveria usar variáveis de ambiente?\r\n\r\nVariáveis de ambiente permitem que você acesse informações sensíveis em seu código (credenciais de acesso ao banco de dados, chaves de API, etc.), sem que seja necessário armazenar essas informações diretamente no código fonte. Isso facilita a definição de variáveis distintas para diferentes ambientes de desenvolvimento (local, desenvolvimento, homologação, produção, etc.) sem que seja necessário alterar o código. Conforme a própria recomendação do [Twelve-Factor App](https://12factor.net/pt_br/config):\r\n\r\n> A prova de fogo para saber se uma aplicação tem todas as configurações corretamente consignadas fora do código é saber se a base de código poderia ter seu código aberto ao público a qualquer momento, sem comprometer as credenciais.\r\n\r\nAlém disso facilitar o trabalho da equipe, também evita que informações sensíveis possam vazar para o repositório de projeto.\r\n\r\nEntão, nunca esqueça de adicionar seus arquivos `.env` ao `.gitignore`:\r\n\r\n```\r\n// .gitignore\r\n.env\r\n*.env\r\n.env.*\r\n*.env.*\r\n```\n",
      "tags": [
        "Node.js",
        "javascript"
      ],
      "translates": null
    },
    {
      "id": "rc3oq9fakzdn3ad",
      "title": "Entendendo o que é Tail Call Optimization com JavaScript",
      "slug": "entendendo-o-que-e-tail-call-optimization-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-03T02:40:27.535Z",
      "updated": "2023-10-24T15:13:47.577Z",
      "content": "Considere a seguinte função que calcula o fatorial de um número:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Fatorial\" mb=\"md\" color=\"blue\">\r\nEm matemática, o fatorial de um inteiro n não negativo (n!), é o produto de todos os inteiros positivos menores ou iguais a n.\r\n</Alert>\r\n\r\nA função acima foi implementada de forma iterativa, ou seja, ela utiliza um laço de repetição para calcular o fatorial de um número. Porém, é possível implementar a mesma função de forma recursiva (ou seja: uma função que referencia a si mesma):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nO resultado de ambas às funções é o mesmo, porém, a função iterativa é [muito mais eficiente](https://jsben.ch/1qyl8) (no JavaScript) que a função recursiva. Além disso, se tentarmos calcular o fatorial de um número muito grande, nós deparamos com o erro RangeError: Maximum call stack size exceeded. Vamos entender o porquê disso e como podemos melhorar a função recursiva.\r\n\r\n## Pilha de execução\r\n\r\nUma [pilha de execução (call stack)](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) é uma estrutura de dados que armazena informações sobre as funções de um programa. Quando uma função é chamada, ela é adicionada à pilha de execução, assim como todas as funções que ela chamar. Quando uma função retorna, ela é removida da pilha de execução. Cada função adicionada à pilha é chamada de _stack frame_.\r\n\r\nPara entendermos o que está acontecendo, vamos tentar representar, graficamente, como o cálculo do fatorial de 6 é feito com a função iterativa:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nAgora, compare com o modelo de substituição para o cálculo do fatorial de 6 com a função recursiva:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nObserve, que, na função iterativa, a forma da seta é linear e podemos ver o estado de cada variável em cada passo. Além disso, a cada iteração do nosso laço de repetição, um cálculo e efetuado e as variáveis armazenadas na memória são atualizadas. Na função recursiva, a forma da seta é exponencial e não podemos ver o estado de todas as variáveis na primeira metade do processamento. Além disso, a cada vez que a função é executada, mais memória precisa ser utilizada para armazenar os valores resultantes de cada execução.\r\n\r\nMas, o que isso significa? Para que o JavaScript possa calcular o fatorial de 6, com a função iterativa, a condição `while` é adicionada à pilha, onde seu cálculo é efetuado, a variável result é atualizada e, em seguida, o bloco de código executado do `while` é retirado da pilha. Isso é feito até que a condição while seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1.\r\n\r\nJá, na função recursiva, cada chamada da função `factorial` é adicionada à pilha quantas vezes forem necessárias até que a condição if seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1. Isso significa que, para calcular o fatorial de 6, a função factorial é adicionada à pilha 6 vezes, para, então ser executada. E é por isso que, quando tentamos calcular o fatorial de um número grande (100.000, por exemplo), nos deparamos com o erro `RangeError: Maximum call stack size exceeded`: não há espaço suficiente na pilha para armazenar todas as chamadas da função factorial.\r\n\r\n## Introduzindo Tail Call Optimization\r\n\r\nComo bem definido pelo [Dr. Axel Rauschmayer](https://dr-axel.de/) (grifo meu):\r\n\r\n> [...] sempre que a última coisa que uma função faz é chamar outra função, então esta última não precisa retornar para sua chamadora. Como consequência, nenhuma informação precisa ser armazenada na pilha de chamadas e a chamada de função é mais como um goto (um salto). Esse tipo de chamada é chamado de _tail call_; não aumentar a pilha é chamado de tail call optmization (TCO).\r\n\r\nOra, descobrimos que nossa função para calcular fatorial não é _tail recursive_. Mas, como podemos torná-la tail recursiva? Com a ajuda de outra função:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nAgora, sim, nossa função é _tail recursive_: a última coisa que ela faz é chamar uma função (e não calcular uma expressão, como na primeira implementação).Agora, vamos ver o modelo de substituição para o cálculo do fatorial de 6 com a nossa nova função `factorial`:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[O desempenho é superior](https://jsben.ch/vOf9P) ao da nossa primeira implementação, apesar de ainda não bater o desempenho da função iterativa. Porém, ainda nos deparamos com o erro `RangeError: Maximum call stack size exceeded`. Mas, por que isso acontece? Porque, apesar de nossa função ser _tail recursive_, as atuais versões do Node.js e os navegadores ([com exceção do Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) não implementa Tail Call Optimization (apesar de sua inclusão na especificação do [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) desde 2015).\r\n\r\nMas, como resolveremos este problema? Com a ajuda de outra função, claro! Para isso, vamos contar com a ajuda do padrão [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nNossas função trampoline consiste em um laço de repetição que invoca uma função que envolve outra função (o que chamamos de [thunk](https://en.wikipedia.org/wiki/Thunk)) até que não haja mais funções para executar. Vamos ver como ficaria a implementação da nossa função factorial com o padrão Trampoline:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Note que, agora, a função retorna uma função\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nE agora sim, podemos chamar a nossa função factorial com um número grande, sem nos depararmos com o erro RangeError: Maximum call stack size exceeded. Claro, dependendo do fatorial que quisermos calcular, nos depararemos com um Infinity, por se tratar de um número muito grande (um número maior que o Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). Neste caso, podemos usar o [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Convertendo os valores para BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Tipando a nossa função\r\n\r\nE, para finalizar, vamos adicionar os tipos necessários para a nossa função factorial:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Referências\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "javascript",
        "algorithms",
        "mathematic",
        "Node.js"
      ],
      "translates": "8mgwfzzig2t1wd9"
    }
  ],
  "javascript": [
    {
      "id": "5xfzc0v2gy17ywy",
      "title": "Usando TypeScript em projetos Node.js",
      "slug": "usando-typescript-em-projetos-node-js",
      "locale": "pt-BR",
      "created": "2024-07-08T09:51:28.826Z",
      "updated": "2024-07-08T09:51:28.826Z",
      "content": "[TypeScript](https://www.typescriptlang.org/) é extremamente útil durante o desenvolvimento de aplicações Node.js. Vamos ver como configurá-lo para uma experiência de desenvolvimento tranquila.\r\n\r\n## Configurando o TypeScript\r\n\r\nPrimeiro, precisamos instalar o TypeScript. Podemos fazer isso executando o seguinte comando:\r\n\r\n```bash\r\nnpm i -D typescript\r\n```\r\n\r\nEm seguida, precisamos criar um arquivo `tsconfig.json` na raiz do nosso projeto. Este arquivo conterá a configuração do TypeScript para o nosso projeto. Aqui está um exemplo de um arquivo `tsconfig.json` que peguei do [Total TypeScript](https://www.totaltypescript.com/tsconfig-cheat-sheet) e adicionei mais algumas coisas (leia o código e preste atenção aos comentários):\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    /* Opções Base: */\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"target\": \"es2022\",\r\n    \"allowJs\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"isolatedModules\": true,\r\n    \"verbatimModuleSyntax\": true,\r\n\r\n    /* Configurando ~ como alias para o diretório src/ */\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"src/*\"]\r\n    },\r\n\r\n    /* Rigor */\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n\r\n    /* Se compilando com TypeScript: */\r\n    \"module\": \"NodeNext\",\r\n    \"outDir\": \"dist\",\r\n    \"sourceMap\": true,\r\n\r\n    /* E se você estiver construindo para uma biblioteca: */\r\n    \"declaration\": true,\r\n\r\n    /* E se você estiver construindo para uma biblioteca em um monorepo: */\r\n    \"composite\": true,\r\n    \"declarationMap\": true,\r\n\r\n    /* Se NÃO estiver compilando com TypeScript: */\r\n    \"module\": \"preserve\",\r\n    \"noEmit\": true,\r\n\r\n    /* Se o seu código roda no DOM: */\r\n    \"lib\": [\"es2022\", \"dom\", \"dom.iterable\"],\r\n\r\n    /* Se o seu código não roda no DOM: */\r\n    \"lib\": [\"es2022\"],\r\n  },\r\n  /* Estou considerando que todo o seu código está em src/ */\r\n  \"include\": [\"src/**/*.ts\"]\r\n}\r\n```\r\n\r\n## Configurando o script de build\r\n\r\nEm seguida, precisamos configurar um script de build que irá compilar nosso código TypeScript para JavaScript. Primeiro, instale [`tsc-alias`](https://www.npmjs.com/package/tsc-alias) para lidar com os aliases que definimos no arquivo `tsconfig.json`:\r\n\r\n```bash\r\nnpm i -D tsc-alias\r\n```\r\n\r\nDepois, você pode adicionar o script `build` adicionando o seguinte script ao nosso arquivo `package.json`:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\"\r\n  }\r\n}\r\n```\r\n\r\n## Configurando o script de desenvolvimento\r\n\r\nAgora, precisamos configurar um script de desenvolvimento que irá observar mudanças em nossos arquivos TypeScript e recompilá-los. Pessoalmente, gosto de usar [`tsx`](https://tsx.is/), pois proporciona uma experiência de desenvolvimento muito mais rápida em comparação com o [TypeScript watcher](https://www.typescriptlang.org/docs/handbook/configuring-watch.html) ou [ts-node](https://typestrong.org/ts-node/). Primeiro, instale `tsx`:\r\n\r\n```bash\r\nnpm i -D tsx\r\n```\r\n\r\nDepois, você pode adicionar o script `dev` (para iniciar o projeto em modo de desenvolvimento) adicionando o seguinte script ao seu arquivo `package.json`:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\"\r\n  }\r\n}\r\n```\r\n\r\nSim, você não terá verificação de tipos enquanto desenvolve usando `tsx`, mas você pode rodar `npm run build` para isso ou adicionar um novo script `typecheck` ao seu `package.json` e executá-lo sempre que quiser verificar erros de tipos:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\",\r\n    \"typecheck\": \"tsc --noEmit\"\r\n  }\r\n}\r\n```\n",
      "tags": [
        "Node.js",
        "javascript",
        "typescript"
      ],
      "translates": "8cxztl6gvjs26in"
    },
    {
      "id": "8cxztl6gvjs26in",
      "title": "Using TypeScript in Node.js projects",
      "slug": "using-typescript-in-node-js-projects",
      "locale": "en-US",
      "created": "2024-07-01T12:24:04.381Z",
      "updated": "2024-07-08T09:51:36.801Z",
      "content": "[TypeScript](https://www.typescriptlang.org/) is tremendously helpful while developing Node.js applications. Let's see how to configure it for a seamless development experience.\r\n\r\n## Setting up TypeScript\r\n\r\nFirst, we need to install TypeScript. We can do this by running the following command:\r\n\r\n```bash\r\nnpm i -D typescript\r\n```\r\n\r\nNext, we need to create a `tsconfig.json` file in the root of our project. This file will contain the TypeScript configuration for our project. Here is an example of a `tsconfig.json` file that I picked from [Total TypeScript](https://www.totaltypescript.com/tsconfig-cheat-sheet) and added a few more things (read the code and pay attention to the comments):\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    /* Base Options: */\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"target\": \"es2022\",\r\n    \"allowJs\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"isolatedModules\": true,\r\n    \"verbatimModuleSyntax\": true,\r\n\r\n    /* Setting ~ as the alias for the src/ directory */\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"src/*\"]\r\n    },\r\n\r\n    /* Strictness */\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n\r\n    /* If transpiling with TypeScript: */\r\n    \"module\": \"NodeNext\",\r\n    \"outDir\": \"dist\",\r\n    \"sourceMap\": true,\r\n\r\n    /* AND if you're building for a library: */\r\n    \"declaration\": true,\r\n\r\n    /* AND if you're building for a library in a monorepo: */\r\n    \"composite\": true,\r\n    \"declarationMap\": true,\r\n\r\n    /* If NOT transpiling with TypeScript: */\r\n    \"module\": \"preserve\",\r\n    \"noEmit\": true,\r\n\r\n    /* If your code runs in the DOM: */\r\n    \"lib\": [\"es2022\", \"dom\", \"dom.iterable\"],\r\n\r\n    /* If your code doesn't run in the DOM: */\r\n    \"lib\": [\"es2022\"],\r\n  },\r\n  /* I'm considering all your code is in src/ */\r\n  \"include\": [\"src/**/*.ts\"]\r\n}\r\n```\r\n\r\n## Setting up the build script\r\n\r\nNext, we need to set up a build script that will compile our TypeScript code to JavaScript. First, install [`tsc-alias`](https://www.npmjs.com/package/tsc-alias) to handle the aliases we defined in the `tsconfig.json` file:\r\n\r\n```bash\r\nnpm i -D tsc-alias\r\n```\r\n\r\nThen, you can add the `build` script by adding the following script to our `package.json` file:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\"\r\n  }\r\n}\r\n```\r\n\r\n## Setting up the development script\r\n\r\nNext, we need to set up a development script that will watch for changes in our TypeScript files and recompile them. Personally, I like to use [`tsx`](https://tsx.is/), as it provides a much faster development experience compared to the built-in [TypeScript watcher](https://www.typescriptlang.org/docs/handbook/configuring-watch.html) or [ts-node](https://typestrong.org/ts-node/). First, install `tsx`:\r\n\r\n```bash\r\nnpm i -D tsx\r\n```\r\n\r\nThen, you can add the `dev` script (in order to start the project in development mode) by adding the following script to your `package.json` file:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\"\r\n  }\r\n}\r\n```\r\n\r\nYes, you won't get typechecks while developing using `tsx`, but you can run `npm run build` for that or add a new `typecheck` scripts to your `package.json`, and run it whenever you want to check for type errors:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\",\r\n    \"typecheck\": \"tsc --noEmit\"\r\n  }\r\n}\r\n```\n",
      "tags": [
        "typescript",
        "Node.js",
        "javascript"
      ],
      "translates": "5xfzc0v2gy17ywy"
    },
    {
      "id": "bjdnvqai9ykbt6v",
      "title": "Devo commitar o node_modules no git?",
      "slug": "devo-commitar-o-node-modules-no-git",
      "locale": "pt-BR",
      "created": "2024-06-04T17:49:35.568Z",
      "updated": "2024-06-04T17:49:35.568Z",
      "content": "TL; DR: Não. Por favor, adicione `node_modules` ao seu arquivo `.gitignore`:\r\n\r\n```\r\nnode_modules\r\n```\r\n\r\n## Mas, por quê?\r\n\r\nO diretório `node_modules` é onde o seu gerenciador de pacotes (que pode ser o [npm](https://www.npmjs.com/), [yarn](https://classic.yarnpkg.com/) ou [pnpm](https://pnpm.io/)) irá instalar todas as dependências do projeto listadas no seu `package.json`. Independentemente do gerenciador de pacotes que você escolher, um lockfile (`package-lock.json`, `yarn.lock` ou `pnpm-lock.yaml`, respectivamente) será gerado na primeira vez que você instalar as dependências do seu projeto, descrevendo toda a árvore de dependências. Dessa forma, toda vez que você precisar reinstalar as dependências do seu projeto, você obterá exatamente os mesmos arquivos.\r\n\r\nO lockfile deve ser _commitado_ no `git`, permitindo a reinstalação da árvore de dependências em qualquer outro ambiente, o que torna desnecessário commitar o diretório `node_modules` no `git` (além disso, isso reduz muito o tamanho do seu repositório, já que o `node_modules` pode consumir gigabytes de espaço).\n",
      "tags": [
        "Node.js",
        "javascript",
        "npm"
      ],
      "translates": "46trc5wkbpbc97s"
    },
    {
      "id": "46trc5wkbpbc97s",
      "title": "Should I commit node_modules directory to git?",
      "slug": "should-i-commit-node-modules-directory-to-git",
      "locale": "en-US",
      "created": "2024-06-04T17:45:35.356Z",
      "updated": "2024-06-04T17:49:44.038Z",
      "content": "TL; DR: No. Please add `node_modules` to your `.gitignore` file:\r\n\r\n```\r\nnode_modules\r\n```\r\n\r\n## But, why?\r\n\r\nThe `node_modules` directory is where your package manager (that can be [npm](https://www.npmjs.com/), [yarn](https://classic.yarnpkg.com/) or [pnpm](https://pnpm.io/)) will install all the project dependencies listed on your `package.json`. Regardless of the package manager you choose, a lockfile (`package-lock.json`,  `yarn.lock` or `pnpm-lock.yaml`, respectelly) will be generated in the first time you install your project dependencies, describing the entire dependency tree. This way, every time you need to reinstall your project dependencies, you shall get the exact same files.\r\n\r\nThe lockfile should be commited to `git`, enabling the re-installation of the tree of dependencies in any other ambient, what makes unecessary to commit the `node_modules` directory to `git` (also, it cuts the size of your repository by a lot, as `node_modules` can consumes gigabytes of space).\n",
      "tags": [
        "Node.js",
        "javascript",
        "npm"
      ],
      "translates": "bjdnvqai9ykbt6v"
    },
    {
      "id": "ivk3bq1nejzjip8",
      "title": "Um array com todos os estados do Brasil, para você reusar em suas aplicações",
      "slug": "um-array-com-todos-os-estados-do-brasil-para-voce-reusar-em-suas-aplicacoes",
      "locale": "pt-BR",
      "created": "2024-05-31T15:26:20.916Z",
      "updated": "2024-05-31T15:41:29.153Z",
      "content": "Eu já recriei este array tantas vezes na última década que eu só vou deixar este _snippet_ (em JSON) aqui para que eu possa apenas copiá-lo a qualquer momento.\r\n\r\n```json\r\n[\r\n  { \"value\": \"AC\", \"label\": \"Acre\" },\r\n  { \"value\": \"AL\", \"label\": \"Alagoas\" },\r\n  { \"value\": \"AP\", \"label\": \"Amapá\" },\r\n  { \"value\": \"AM\", \"label\": \"Amazonas\" },\r\n  { \"value\": \"BA\", \"label\": \"Bahia\" },\r\n  { \"value\": \"CE\", \"label\": \"Ceará\" },\r\n  { \"value\": \"DF\", \"label\": \"Distrito Federal\" },\r\n  { \"value\": \"ES\", \"label\": \"Espirito Santo\" },\r\n  { \"value\": \"GO\", \"label\": \"Goiás\" },\r\n  { \"value\": \"MA\", \"label\": \"Maranhão\" },\r\n  { \"value\": \"MS\", \"label\": \"Mato Grosso do Sul\" },\r\n  { \"value\": \"MT\", \"label\": \"Mato Grosso\" },\r\n  { \"value\": \"MG\", \"label\": \"Minas Gerais\" },\r\n  { \"value\": \"PA\", \"label\": \"Pará\" },\r\n  { \"value\": \"PB\", \"label\": \"Paraíba\" },\r\n  { \"value\": \"PR\", \"label\": \"Paraná\" },\r\n  { \"value\": \"PE\", \"label\": \"Pernambuco\" },\r\n  { \"value\": \"PI\", \"label\": \"Piauí\" },\r\n  { \"value\": \"RJ\", \"label\": \"Rio de Janeiro\" },\r\n  { \"value\": \"RN\", \"label\": \"Rio Grande do Norte\" },\r\n  { \"value\": \"RS\", \"label\": \"Rio Grande do Sul\" },\r\n  { \"value\": \"RO\", \"label\": \"Rondônia\" },\r\n  { \"value\": \"RR\", \"label\": \"Roraima\" },\r\n  { \"value\": \"SC\", \"label\": \"Santa Catarina\" },\r\n  { \"value\": \"SP\", \"label\": \"São Paulo\" },\r\n  { \"value\": \"SE\", \"label\": \"Sergipe\" },\r\n  { \"value\": \"TO\", \"label\": \"Tocantins\" }\r\n]\r\n```\n",
      "tags": [
        "javascript",
        "html",
        "Snippet"
      ],
      "translates": null
    },
    {
      "id": "vfb16zvqx9d6eq8",
      "title": "Encontrando o maior divisor comum em TypeScript",
      "slug": "encontrando-o-maior-divisor-comum-em-typescript",
      "locale": "pt-BR",
      "created": "2024-01-25T13:47:59.773Z",
      "updated": "2024-01-25T13:56:47.886Z",
      "content": "Primeiramente descrito no clássico livro de geometria _Elementos_, pelo matemático grego antigo Euclides (cerca de 300 a.C., no livro VII, proposição 2), o método de encontrar o maior divisor comum entre os números positivos $a$ e $b$, sendo $a > b$, consiste no conhecimento de que os divisores comuns de $a$ e $b$ são os mesmos de $a - b$ e $b$. Portanto, podemos encontrar esse maior divisor comum substituindo o maior número ($a$) pela diferença entre os dois números ($a - b$), repetidamente, até que os dois números sejam iguais. Em TypeScript, podemos fazer isso assim:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Quando `a` for igual a `b`, retorna o resultado\r\n  if (a === b) {\r\n    return a\r\n  }\r\n\r\n  // Enquanto `a` é maior que b, chama a função novamente\r\n  // com o novo `a` sendo `a - b`:\r\n  if (a > b) {\r\n    return gcd(a - b, b)\r\n  }\r\n\r\n  // Se o novo `b` for maior que `a`,\r\n  // subtraia `a` de `b`.\r\n  return gcd(a, b - a)\r\n}\r\n```\r\n\r\nEste método pode ser muito lento se a diferença entre $a$ e $b$ for muito grande. Felizmente, existe outro método para encontrar o maior divisor comum entre dois números, que pode ser descrito da seguinte forma:\r\n\r\nPara encontrar o maior divisor comum entre $a$ e $b$, sendo $a > b$, realize a divisão entre os dois números. Esta operação dará um quociente e um resto (que chamaremos de $q$ e $r$, respectivamente). Assim, $a$ pode ser descrito como $a = q \\times b + r$;\r\nSe $r$ for igual a 0, paramos, porque descobrimos que o maior divisor comum de $a$ e $b$ é $b$. Caso contrário, voltamos ao passo 1, fazendo de $b$ o novo $a$ e $r$ será o novo $b$.\r\nAgora, podemos começar com a implementação do algoritmo acima:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Primeiro, calculamos o resto da divisão entre `a` e `b`:\r\n  const r = a % b\r\n  \r\n  // Se o resto for igual a zero, significamos que já encontramos o\r\n  // maior divisor comum, porrtanto, retornamos `b`:\r\n  if (r === 0) {\r\n    return b\r\n  }\r\n  \r\n  // Enquanto o resto não for igual a 0, chamamos a função novamente,\r\n  // com os novos valores de `a` e `b`:\r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nA implementação é muito direta e pode ser lida exatamente como descrita nos passos 1 e 2. Podemos tornar a função mais simples, verificando diretamente se $b$ é igual a zero e só realizando a operação de resto depois disso. Portanto, se a função receber um $b$ que seja igual a zero, saberemos que $a$ é o maior divisor comum:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  if (b === 0) {\r\n    return a\r\n  }\r\n  \r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nEsta variante é chamada de _algoritmo euclidiano_ (em contraste com a primeira, que é o _algoritmo de Euclides_) e é significativamente mais rápida do que a primeira implementação.\r\n\r\n## Implementações alternativas\r\n\r\nTambém podemos adotar uma abordagem diferente. Em vez de chamar nossa função gcd recursivamente, podemos implementar nossa função usando um laço `while` (análogo à nossa primeira implementação acima):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Roda este laço enquanto `a` for diferente de `b`\r\n  while (a !== b) {\r\n    if (a > b) {\r\n      // Subtrai `b` de `a` enquanto `a` for maior que `b`\r\n      a = a - b\r\n      // Pula para a próxima iteração\r\n      continue\r\n    }\r\n    // Subtrai `a` de `b` quanto a <= b\r\n    b = b - a\r\n  }\r\n  // Retorna o resultado\r\n  return a\r\n}\r\n```\r\n\r\nE esta é outra maneira (análoga à nossa segunda implementação acima):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Roda este laço enquanto `b` for diferente de 0\r\n  while (b !== 0) {\r\n    // Salva o novo valor em uma variável temporária\r\n    const newA = b\r\n    b = a % b\r\n    a = newA\r\n  }\r\n\r\n  return a\r\n}\r\n```\r\n\r\n## Encontrando o maior divisor comum entre três ou mais números\r\n\r\nO maior divisor comum de três ou mais números é igual ao produto dos fatores primos comuns a todos os números (exploraremos mais isso em um futuro artigo), mas, você também pode calcular o maior divisor comum entre pares desta lista de números com as mesmas funções que já mostramos. Então, vamos refatorar nossa função`gcd` para receber múltiplos parâmetros:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b)\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Só por precaução, ordena os números em ordem descendente:\r\n      .sort((a, b) => b - a)\r\n      // Chama `calculateGcd` para cada par de números na lista:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\r\n\r\n## Validando nossas entradas\r\nVamos garantir que nossas funções devem sempre receber, pelo menos, dois números e que todos os números deve ser positivos:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  if (numbers.length < 2) {\r\n    throw new Error(\"Você deve passar, pelo menos, 2 números\")\r\n  }\r\n\r\n  if (numbers.some((number) => number < 0)) {\r\n    throw new Error(\"Os números devem ser >= 0\")\r\n  }\r\n\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b);\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      .sort((a, b) => b - a)\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "mathematic",
        "typescript"
      ],
      "translates": "5d4agn9wp8tkd45"
    },
    {
      "id": "91sox12o3ozzl5n",
      "title": "Rendering JSX on the Server with Fastify",
      "slug": "rendering-jsx-on-the-server-with-fastify",
      "locale": "en-US",
      "created": "2024-01-25T00:35:37.056Z",
      "updated": "2024-01-25T00:42:06.600Z",
      "content": "[JSX](https://facebook.github.io/jsx/) is an excellent abstraction for building web interfaces. Introduced by Facebook and popularized by React, it's an extension of JavaScript designed to abstract nested function calls. It's expected that JSX code will be pre-processed (transpiled) into valid JavaScript before being executed in browsers or environments like Node.js.\r\n\r\n##   Project Setup\r\n\r\nFirst of all, let's start our project and install the necessary dependencies:\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nNow, we set up the scripts for our project. The `package.json` should look like this:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\nAnd this is the `tsconfig.json` that we will use:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Creating our components\r\n\r\nThe React ecosystem already provides the necessary tools for rendering our components to HTML and sending them directly from the server to our client. So, first, let's create the root component:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nAnd our home page:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n##   Configuring Fastify to Render Our React Component\r\nAs we don't intend to load React to hydrate our HTML on the client side, we can use the `renderToStaticMarkup` function exported from `react-dom/server`. Our server initialization file will look like this:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nIf you start the project now (`npm run dev`), you should see the page at [http://localhost:3000](http://localhost:3000/). Of course, we can enhance our implementation by using the new streaming API, introduced in React 18 ([which is the recommended method](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). To do that, we will make the following changes to our code:\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\nAnd with that, we are able to render our React components on the server side and stream them to our client. Here is the [link](https://github.com/DouglasdeMoura/react-fastify) to the repository.\n",
      "tags": [
        "Fastify",
        "Tips",
        "javascript",
        "Node.js"
      ],
      "translates": "p7310widh7o7h9e"
    },
    {
      "id": "p7310widh7o7h9e",
      "title": "Renderizando JSX no servidor com Fastify",
      "slug": "renderizando-jsx-no-servidor-com-fastify",
      "locale": "pt-BR",
      "created": "2024-01-25T00:16:10.675Z",
      "updated": "2024-01-25T00:42:27.538Z",
      "content": "[JSX](https://facebook.github.io/jsx/) é uma excelente abstração para montar interfaces. Introduzida pelo Facebook e popularizada pelo React, trata-se de uma extensão do JavaScript para abstrair a chamada de funções aninhadas. É esperado que o código JSX seja pré-processado (transpilado) para JavaScript válido antes de ser executada nos navegadores ou em ambientes como Node.js.\r\n\r\n## Configuração do projeto\r\n\r\nAntes de tudo, vamos iniciar o nosso projeto e instalar as dependências necessárias:\r\n\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nAgora, configuramos os _scripts_ do nosso projeto. O `package.json` deverá ficará assim:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\n\r\nE esse é o `tsconfig.json` que iremos utilizar:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Criando nossos componentes\r\n\r\nO ecossistema do React já fornece as ferramentas necessárias para renderizarmos os nossos componentes para HTML e enviarmos diretamente do servidor para o nosso cliente. Então, primeiro, vamos criar o componente raiz:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nE nossa página inicial:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n## Configurando o Fastify para renderizar nosso componente React\r\n\r\nComo não pretendemos carregar o React para hidratar o nosso HTML do lado do cliente, podemos usar a função `renderToStaticMarkup` exportada de `react-dom/server`. Nosso arquivo de inicialização do servidor ficará assim:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\n// Importando com o `.js` no final, o arquivo \"buildado\"\r\n// fará as importações corretamente e você não deverá ver nenhum erro na\r\n// IDE, ainda que os arquivos tenham a extensão `.tsx`.\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  // Aqui, inserimos `<!DOCTYPE html>`\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você iniciar o projeto agora (`npm run dev`), você deverá ver a página em http://localhost:3000. Claro, podemos melhorar a nossa implementação usando a nova API de stream, introduzida no React 18 ([que é o método recomendado](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). Para isso, faremos as seguintes alterações no nosso código:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE com isso, conseguimos renderizar nossos componentes React do lado do servidor e fazer _streaming_ deles para o nosso cliente. E este é o [link](https://github.com/DouglasdeMoura/react-fastify) do repositório.\n",
      "tags": [
        "Dicas",
        "Node.js",
        "javascript",
        "Fastify"
      ],
      "translates": "91sox12o3ozzl5n"
    },
    {
      "id": "bdwhaei947bfrx4",
      "title": "Generating MD5 hashes on Node.js",
      "slug": "generating-md5-hashes-on-node-js",
      "locale": "en-US",
      "created": "2024-01-23T13:20:06.581Z",
      "updated": "2024-01-23T13:29:10.648Z",
      "content": "You can create hashes in Node.js without the need to install any external library. Usually, I create the following utility function in the projects I work on:\r\n\r\n```javascript\r\n/**\r\n * Hashes a string using md5\r\n *\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport const md5 = (str) => createHash('md5').update(str).digest('hex')\r\n```\r\n\r\nAnd I use it to replace the [md5](https://www.npmjs.com/package/md5) library whenever I come across it.\r\n\r\nNote that you can create hashes for any algorithm supported by the OpenSSL version on your platform. On Linux and Mac, you can see which algorithms are available with the command `openssl list -digest-algorithms`.\n",
      "tags": [
        "Node.js",
        "javascript"
      ],
      "translates": "zj7xcfn2r753ld7"
    },
    {
      "id": "zj7xcfn2r753ld7",
      "title": "Gerando hashes MD5 no Node.js",
      "slug": "gerando-hashes-md5-no-node-js",
      "locale": "pt-BR",
      "created": "2024-01-22T20:36:58.299Z",
      "updated": "2024-01-23T13:20:20.671Z",
      "content": "Você pode criar _hashes_ com Node.js sem a necessidade instalar nenhuma biblioteca externa. Normalmente eu crio a seguinte função utilitária nos projetos em que trabalho:\r\n\r\n```javascript\r\n/**\r\n * Cria um hash MD5 para a string dada\r\n *\r\n * @param {string} str\r\n * @returns {string}\r\n */\r\nexport const md5 = (str) => createHash('md5').update(str).digest('hex')\r\n```\r\n\r\nE a uso para substituir a biblioteca [md5](https://www.npmjs.com/package/md5) sempre que encontro.\r\n\r\nNote que você pode criar _hashes_ para qualquer algoritmo suportado pela versão do OpenSSL da sua plataforma. No Linux e no Mac, você pode ver quais os algoritmos disponíveis com o comando `openssl list -digest-algorithms`.\n",
      "tags": [
        "javascript",
        "Node.js"
      ],
      "translates": "bdwhaei947bfrx4"
    },
    {
      "id": "5d4agn9wp8tkd45",
      "title": "Finding the greatest common divisor in TypeScript",
      "slug": "finding-the-greatest-common-divisor-in-typescript",
      "locale": "en-US",
      "created": "2024-01-12T16:31:36.266Z",
      "updated": "2024-01-25T13:55:08.252Z",
      "content": "First described in the classic geometry book *Elements*, by the ancient Greek mathematician Euclid (ca. 300 BC, at the book VII, proposition 2), the method of finding de greatest common divisor between the positive numbers $a$ and $b$, being $a > b$ consists on the knowledge that the common divisors of $a$ and $b$ are the same of $a - b$ and $b$. Therefore, we can find this greatest common divisor by replacing the largest number ($a$) by the different between the two numbers ($a - b$), repeatedly, until the two numbers are equal. In TypeScript, we can do that like this:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // When `a` is equal to `b`, return the result\r\n  if (a === b) {\r\n    return a\r\n  }\r\n\r\n  // When `a` is bigger than b, calculate the the GCD again\r\n  // with the new `a` being `a - b`.\r\n  if (a > b) {\r\n    return gcd(a - b, b)\r\n  }\r\n\r\n  // If the new `b` is bigger than `a`,\r\n  // subtract a from it.\r\n  return gcd(a, b - a)\r\n}\r\n```\r\n\r\nThis method can be very slow if the difference between $a$ and $b$ is too large. Thankfully, there's another method to find the greatest common divisor between two numbers, that can be described as follows:\r\n\r\n1. In order to find the greatest common divisor between $a$ and $b$, being $a > b$, perform the division between the two numbers. This operation will give a quotient and a remainder (that we will call $q$ and $r$, respectively). Thus, $a$ can be described as $a = q \\times b + r$;\r\n2.  If $r$ is equal to 0, we stop, because we found that the greatest common divisor of $a$ and $b$ is $b$. Otherwise, we go back to step 1, making $b$ the new $a$ and $r$ will be the new $b$.\r\n\r\nNow, we can start with the implementation of the algorithm above:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // First, we take the remainder between the division of a and b:\r\n  const r = a % b\r\n  \r\n  // If the remainder is equal to zero, it means that we already found the\r\n  // greatest common divisor, therefore, we return b:\r\n  if (r === 0) {\r\n    return b\r\n  }\r\n  \r\n  // If the remainder is not equal to 0, we call the function again\r\n  // with the new values for a and b:\r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nThe implementation is very straightforward and can be read exactly as is described in steps 1 and 2. We can make the function simpler, by checking, directly, if $b$ is equal to zero and only doing the remainder operation afterwards. Therefore, if the function receive a $b$ that is equal to zero, we will know that $a$ is the greatest common divisor:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  if (b === 0) {\r\n    return a\r\n  }\r\n  \r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nThis variant is called *Euclidean algorithm* (in contrast of the first one, which is the *Euclid's algorithm*) and it significantly faster than the first implementation.\r\n\r\n## Alternative implementations\r\n\r\nWe can also take a different approach. Instead of calling our `gcd` function recursively, we can implement our function using a `while` loop (analogous to our first implementation above):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Run this loop while a is different of b\r\n  while (a !== b) {\r\n    if (a > b) {\r\n      // Subtracts b from a while a is bigger than b\r\n      a = a - b\r\n      // Go to the next loop\r\n      continue\r\n    }\r\n    // Subtracts a from b when a <= b\r\n    b = b - a\r\n  }\r\n  // Returns the greatest common divisor between a and b\r\n  return a\r\n}\r\n```\r\n\r\nAnd this is another way (analogous to our second implementation above):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Run this loop while `b` is different from 0\r\n  while (b !== 0) {\r\n    // Save the new value for a in a temporary variable\r\n    const newA = b\r\n    // Set b to the modulo of a and b (the remainder of the division between a and b)\r\n    b = a % b\r\n    // Set a to its new value before the next loop\r\n    a = newA\r\n  }\r\n  \r\n  // Now that b is equal to 0, we know that a is the greatest common divisor\r\n  return a\r\n}\r\n```\r\n\r\n## Finding the greatest common between three or more numbers\r\n\r\nThe greatest  of three or more numbers is equal the product of the prime factors common to all the numbers (we will explore more of that in a future article), but, you can also calculate the greatest common divisor between pairs of this list of numbers with the same functions we have showed already. So, let's refactor our `gcd` function to receive multiple parameters:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b)\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Just to be sure, sort numbers in descendant order:\r\n      .sort((a, b) => b - a)\r\n      // Call `calculateGcd` for each pair in the numbers array:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\r\n\r\n## Validating our input\r\n\r\nLet's guarantee that our functions should always receive, at least, two numbers and that all numbers must not be negative:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  if (numbers.length < 2) {\r\n    throw new Error(\"You must pass, at least, 2 numbers\")\r\n  }\r\n\r\n  if (numbers.some((number) => number < 0)) {\r\n    throw new Error(\"The numbers must be >= 0\")\r\n  }\r\n\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b);\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Just to be sure, sort numbers in descendant order:\r\n      .sort((a, b) => b - a)\r\n      // Call `calculateGcd` for each pair in the numbers array:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\n",
      "tags": [
        "typescript",
        "mathematic",
        "javascript"
      ],
      "translates": "vfb16zvqx9d6eq8"
    },
    {
      "id": "8mgwfzzig2t1wd9",
      "title": "Understanding Tail Call Optimization With JavaScript",
      "slug": "understanding-tail-call-optimization-with-javascript",
      "locale": "en-US",
      "created": "2023-10-24T15:13:38.216Z",
      "updated": "2023-10-24T15:27:40.960Z",
      "content": "Consider the following function that calculates the factorial of a number:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Factorial\" mb=\"md\" color=\"blue\">\r\nIn Mathematics, the factorial of a non-negative integer (n!) is the product of all positive integers less than or equal to n.\r\n</Alert>\r\n\r\nThe function above was implemented iteratively, that is, it uses a loop to calculate the factorial of a number. However, it is possible to implement the same function recursively (that is, a function that references itself):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nThe result of both functions is the same, however, the iterative function is [much more efficient](https://jsben.ch/1qyl8) (in JavaScript) than the recursive function. In addition, if we try to calculate the factorial of a very large number, we encounter the error RangeError: Maximum call stack size exceeded. Let's understand why this happens and how we can improve the recursive function.\r\n\r\n## Call Stack\r\n\r\nA [call stack](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) is a data structure that stores information about a program's functions. When a function is called, it is added to the execution stack, as well as all the functions it calls. When a function returns, it is removed from the execution stack. Each function added to the stack is called a _stack frame_.\r\n\r\nIn order to understand what is happening, let's try to represent, graphically, how the calculation of the factorial of 6 is done with the iterative function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNow, compare it with the substitution model for calculating the factorial of 6 using the recursive function:\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNote that, in the iterative function, the arrow shape is linear and we can see the state of each variable at each step. In addition, at each iteration of our loop, a calculation is performed and the variables stored in memory are updated. In the recursive function, the arrow shape is exponential and we cannot see the state of all variables in the first half of the processing. In addition, each time the function is executed, more memory needs to be used to store the resulting values of each execution.\r\n\r\nBut what does this mean? In order for JavaScript to calculate the factorial of 6 using the iterative function, the `while` condition is added to the stack, where its calculation is performed, the `result` variable is updated, and then the executed code block of the `while` is removed from the stack. This is done until the while condition is false, that is, until the value of `n` is less than or equal to 1.\r\n\r\nIn the recursive function, each call to the `factorial` function is added to the stack as many times as necessary until the if condition is false, that is, until the value of `n` is less than or equal to 1. This means that, to calculate the factorial of 6, the `factorial` function is added to the stack 6 times before being executed. And that's why, when we try to calculate the factorial of a large number (100,000, for example), we encounter the error `RangeError: Maximum call stack size exceeded`: there is not enough space in the stack to store all the calls to the `factorial` function.\r\n\r\n## Introducing Tail Call Optimization\r\n\r\nAs defined by [Dr. Axel Rauschmayer](https://dr-axel.de/):\r\n\r\n> [...] whenever the last thing a function does is call another function, then this last function does not need to return to its caller. As a consequence, no information needs to be stored on the call stack and the function call is more like a goto (a jump). This type of call is called a _tail call_; not increasing the stack is called tail call optimization (TCO).\r\n\r\nNow, we have discovered that our factorial calculation function is not tail recursive. But how can we make it tail recursive? With the help of another function:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nNow, our function is tail recursive: the last thing it does is call a function (and not calculate an expression, as in the first implementation). Now, let's see the substitution model for calculating the factorial of 6 with our new `factorial` function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[The performance is superior](https://jsben.ch/vOf9P) to our first implementation, although it still doesn't beat the performance of the iterative function. However, we still encounter the error `RangeError: Maximum call stack size exceeded`. But why does this happen? Because, despite our function being tail recursive, current versions of Node.js and browsers ([with the exception of Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) do not implement Tail Call Optimization (despite its inclusion in the [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) specification since 2015).\r\n\r\nBut how will we solve this problem? With the help of another function, of course! For that, we will rely on the [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)) pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nOur trampoline function consists of a loop that invokes a function that wraps another function (what we call a [thunk](https://en.wikipedia.org/wiki/Thunk)) until there are no more functions to execute. Let's see how the implementation of our factorial function would look like with the Trampoline pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Now, a function returns another function\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nAnd now, we can call our factorial function with a large number, without encountering the error `RangeError: Maximum call stack size exceeded`. Of course, depending on the factorial we want to calculate, we will encounter an Infinity, as it is a very large number (a number greater than Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). In this case, we can use [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Converting values to BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Typing our function\r\n\r\nAnd finally, let's add the necessary types to our factorial function:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## References\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "algorithms",
        "javascript",
        "mathematic",
        "Node.js"
      ],
      "translates": "rc3oq9fakzdn3ad"
    },
    {
      "id": "jdwjqfxbwki78t2",
      "title": "Dissecando URLs com JavaScript",
      "slug": "dissecando-urls-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-11T12:48:41.199Z",
      "updated": "2023-09-11T12:52:25.736Z",
      "content": "Vamos entender o que significa cada parte de uma URL (Uniform Resource Locator). Observe a URL abaixo:\r\n\r\n```\r\nhttps://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\r\n```\r\n\r\n<Alert title=\"URL (Uniform Resource Locator)\" color=\"blue\" mb=\"md\">\r\nUma URL é um endereço de uma localização específica na web e uma mecanismo que especifica a forma de recuperar este conteúdo, que pode ser um documento, uma imagem, um vídeo, etc.\r\n</Alert>\r\n\r\n- `https://`: **Protocolo de comunicação** (padrão de comunicação utilizado entre o cliente e o servidor);\r\n- `user:password@`: **Credenciais de autenticação para o [esquema Basic](https://datatracker.ietf.org/doc/html/rfc7617)** (obviamente, por questões de segurança, você **não** deve colocar suas credenciais diretamente na URL - inclusive, alguns navegadores [já não permitem mais isso](https://crbug.com/82250#c7));\r\n- `blog`: **Subdomínio** (um domínio dentro de outro domínio);\r\n- `exemple.com.br`: **Domínio** (nome do site);\r\n- `.br`: **TLD (Top Level Domain)** (domínio de primeiro nível - identifica o país ou a região geográfica do site);\r\n- `.com.br`: **SLD (Second Level Domain)** (domínio de segundo nível - alguns são reservados para entidades específicas, como governos, universidades, etc.);\r\n- `:443`: **Porta de comunicação** (cada protocolo de comunicação possui uma porta padrão, por exemplo, o HTTP utiliza a porta 80 , HTTPS utiliza a porta 443. Porém, podemos utilizar outras portas, caso necessário);\r\n- `/posts`: **Caminho do recurso no servidor**;\r\n- `?s=javascript&tags[]=html&tags[]=css`: **Parâmetros da requisição** (informações adicionais que podem ser enviadas para o servidor);\r\n- `#top`: **Âncora** (identifica um local específico dentro de uma página - normalmente utilizado para rolar a página até o local desejado).\r\n\r\n## O construtor URL\r\n\r\nO JavaScript possui um construtor chamado `URL` que nos permite criar um objeto com as informações de uma URL. Veja o exemplo abaixo:\r\n\r\n```javascript\r\n// Criando um objeto URL\r\nconst url = new URL(\r\n  \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n);\r\n\r\n// Exibindo o objeto URL\r\nconsole.log(url);\r\n/*\r\nVocê verá o seguinte resultado:\r\n\r\nURL {\r\n  hash:  \"#top\"\r\n  host: \"blog.exemple.com.br\"\r\n  hostname: \"blog.exemple.com.br\"\r\n  href: \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n  origin: \"https://blog.exemple.com.br\"\r\n  password: \"password\"\r\n  pathname: \"/posts\"\r\n  port: \"\"\r\n  protocol: \"https:\"\r\n  search: \"?s=javascript&tags[]=html&tags[]=css\"\r\n  searchParams: URLSearchParams {size: 3}\r\n  username: \"user\"\r\n}\r\n*/\r\n```\r\n\r\nNote que a porta está vazia, pois o protocolo HTTPS utiliza a porta 443 por padrão. Caso houvesse uma porta diferente, ela seria exibida no atributo `port`.\r\n\r\n## O construtor URLSearchParams\r\n\r\nO JavaScript também possui um construtor chamado [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) que nos permite criar um objeto com os parâmetros de uma URL. Veja o exemplo abaixo:\r\n\r\n```javascript\r\n// Criando um objeto URLSearchParams\r\nconst params = new URLSearchParams(\"s=javascript&tags[]=html&tags[]=css\");\r\n```\r\n\r\nNote que ele já é está presente no objeto URL que criamos anteriormente (no attributo `searchParams`), de modo que podemos acessar os parâmetros da URL da seguinte maneira:\r\n\r\n```javascript\r\nconst url = new URL(\r\n  \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n);\r\n\r\nconsole.log(url.searchParams.get(\"s\")); // javascript\r\nconsole.log(url.searchParams.get(\"tags\")); // ['html', 'css']\r\n```\r\n\r\n## Uma nota importante sobre a âncora\r\n\r\nOs navegadores não enviam a âncora para o servidor, de modo que, no nosso exemplo, os caracteres `#top` só é acessível do lado do navegador. Algumas pessoas utilizam este recurso para armazenar o estado da aplicação ou informações encriptadas na URL que só serão acessíveis do lado do navegador, sem nunca ter acesso à isso pelo servidor.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "Node.js"
      ],
      "translates": null
    },
    {
      "id": "r244td2x5346p6e",
      "title": "Configurando variáveis de ambiente em aplicações Node.js",
      "slug": "configurando-variaveis-de-ambiente-em-aplicacoes-node-js",
      "locale": "pt-BR",
      "created": "2023-09-05T21:01:49.238Z",
      "updated": "2023-09-05T21:06:00.400Z",
      "content": "A partir do Node.js 20.6.0, é possível carregar variáveis de ambiente a partir de um arquivo `.env` de maneira nativa, sem a necessidade de utilizar o pacote [`dotenv`](https://www.npmjs.com/package/dotenv).\r\n\r\nPara isso, basta iniciar o seu projeto usando o seguinte comando:\r\n\r\n```bash\r\nnode --env-file=.env index.js\r\n```\r\n\r\n<Alert title=\"Variáveis de ambiente\" mb=\"md\" color=\"blue\">\r\n<a href=\"https://pt.wikipedia.org/wiki/Vari%C3%A1vel_de_ambiente\">Variáveis de ambiente</a> são valores, definidos pelo usuário que podem afetar o o modo que um programa é executado no computador. Tais valores são usados para passar informações para programas, scripts e comandos, sem que seja necessário alterar o código fonte.\r\n</Alert>\r\n\r\n## E para versões mais antigas do Node.js?\r\n\r\nBom, neste caso você pode continuar utilizando o pacote [`dotenv`](https://www.npmjs.com/package/dotenv):\r\n\r\n```bash\r\nnpm install dotenv\r\nnode -r dotenv/config index.js\r\n```\r\n\r\n## E por que eu deveria usar variáveis de ambiente?\r\n\r\nVariáveis de ambiente permitem que você acesse informações sensíveis em seu código (credenciais de acesso ao banco de dados, chaves de API, etc.), sem que seja necessário armazenar essas informações diretamente no código fonte. Isso facilita a definição de variáveis distintas para diferentes ambientes de desenvolvimento (local, desenvolvimento, homologação, produção, etc.) sem que seja necessário alterar o código. Conforme a própria recomendação do [Twelve-Factor App](https://12factor.net/pt_br/config):\r\n\r\n> A prova de fogo para saber se uma aplicação tem todas as configurações corretamente consignadas fora do código é saber se a base de código poderia ter seu código aberto ao público a qualquer momento, sem comprometer as credenciais.\r\n\r\nAlém disso facilitar o trabalho da equipe, também evita que informações sensíveis possam vazar para o repositório de projeto.\r\n\r\nEntão, nunca esqueça de adicionar seus arquivos `.env` ao `.gitignore`:\r\n\r\n```\r\n// .gitignore\r\n.env\r\n*.env\r\n.env.*\r\n*.env.*\r\n```\n",
      "tags": [
        "Node.js",
        "javascript"
      ],
      "translates": null
    },
    {
      "id": "rc3oq9fakzdn3ad",
      "title": "Entendendo o que é Tail Call Optimization com JavaScript",
      "slug": "entendendo-o-que-e-tail-call-optimization-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-03T02:40:27.535Z",
      "updated": "2023-10-24T15:13:47.577Z",
      "content": "Considere a seguinte função que calcula o fatorial de um número:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Fatorial\" mb=\"md\" color=\"blue\">\r\nEm matemática, o fatorial de um inteiro n não negativo (n!), é o produto de todos os inteiros positivos menores ou iguais a n.\r\n</Alert>\r\n\r\nA função acima foi implementada de forma iterativa, ou seja, ela utiliza um laço de repetição para calcular o fatorial de um número. Porém, é possível implementar a mesma função de forma recursiva (ou seja: uma função que referencia a si mesma):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nO resultado de ambas às funções é o mesmo, porém, a função iterativa é [muito mais eficiente](https://jsben.ch/1qyl8) (no JavaScript) que a função recursiva. Além disso, se tentarmos calcular o fatorial de um número muito grande, nós deparamos com o erro RangeError: Maximum call stack size exceeded. Vamos entender o porquê disso e como podemos melhorar a função recursiva.\r\n\r\n## Pilha de execução\r\n\r\nUma [pilha de execução (call stack)](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) é uma estrutura de dados que armazena informações sobre as funções de um programa. Quando uma função é chamada, ela é adicionada à pilha de execução, assim como todas as funções que ela chamar. Quando uma função retorna, ela é removida da pilha de execução. Cada função adicionada à pilha é chamada de _stack frame_.\r\n\r\nPara entendermos o que está acontecendo, vamos tentar representar, graficamente, como o cálculo do fatorial de 6 é feito com a função iterativa:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nAgora, compare com o modelo de substituição para o cálculo do fatorial de 6 com a função recursiva:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nObserve, que, na função iterativa, a forma da seta é linear e podemos ver o estado de cada variável em cada passo. Além disso, a cada iteração do nosso laço de repetição, um cálculo e efetuado e as variáveis armazenadas na memória são atualizadas. Na função recursiva, a forma da seta é exponencial e não podemos ver o estado de todas as variáveis na primeira metade do processamento. Além disso, a cada vez que a função é executada, mais memória precisa ser utilizada para armazenar os valores resultantes de cada execução.\r\n\r\nMas, o que isso significa? Para que o JavaScript possa calcular o fatorial de 6, com a função iterativa, a condição `while` é adicionada à pilha, onde seu cálculo é efetuado, a variável result é atualizada e, em seguida, o bloco de código executado do `while` é retirado da pilha. Isso é feito até que a condição while seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1.\r\n\r\nJá, na função recursiva, cada chamada da função `factorial` é adicionada à pilha quantas vezes forem necessárias até que a condição if seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1. Isso significa que, para calcular o fatorial de 6, a função factorial é adicionada à pilha 6 vezes, para, então ser executada. E é por isso que, quando tentamos calcular o fatorial de um número grande (100.000, por exemplo), nos deparamos com o erro `RangeError: Maximum call stack size exceeded`: não há espaço suficiente na pilha para armazenar todas as chamadas da função factorial.\r\n\r\n## Introduzindo Tail Call Optimization\r\n\r\nComo bem definido pelo [Dr. Axel Rauschmayer](https://dr-axel.de/) (grifo meu):\r\n\r\n> [...] sempre que a última coisa que uma função faz é chamar outra função, então esta última não precisa retornar para sua chamadora. Como consequência, nenhuma informação precisa ser armazenada na pilha de chamadas e a chamada de função é mais como um goto (um salto). Esse tipo de chamada é chamado de _tail call_; não aumentar a pilha é chamado de tail call optmization (TCO).\r\n\r\nOra, descobrimos que nossa função para calcular fatorial não é _tail recursive_. Mas, como podemos torná-la tail recursiva? Com a ajuda de outra função:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nAgora, sim, nossa função é _tail recursive_: a última coisa que ela faz é chamar uma função (e não calcular uma expressão, como na primeira implementação).Agora, vamos ver o modelo de substituição para o cálculo do fatorial de 6 com a nossa nova função `factorial`:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[O desempenho é superior](https://jsben.ch/vOf9P) ao da nossa primeira implementação, apesar de ainda não bater o desempenho da função iterativa. Porém, ainda nos deparamos com o erro `RangeError: Maximum call stack size exceeded`. Mas, por que isso acontece? Porque, apesar de nossa função ser _tail recursive_, as atuais versões do Node.js e os navegadores ([com exceção do Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) não implementa Tail Call Optimization (apesar de sua inclusão na especificação do [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) desde 2015).\r\n\r\nMas, como resolveremos este problema? Com a ajuda de outra função, claro! Para isso, vamos contar com a ajuda do padrão [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nNossas função trampoline consiste em um laço de repetição que invoca uma função que envolve outra função (o que chamamos de [thunk](https://en.wikipedia.org/wiki/Thunk)) até que não haja mais funções para executar. Vamos ver como ficaria a implementação da nossa função factorial com o padrão Trampoline:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Note que, agora, a função retorna uma função\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nE agora sim, podemos chamar a nossa função factorial com um número grande, sem nos depararmos com o erro RangeError: Maximum call stack size exceeded. Claro, dependendo do fatorial que quisermos calcular, nos depararemos com um Infinity, por se tratar de um número muito grande (um número maior que o Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). Neste caso, podemos usar o [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Convertendo os valores para BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Tipando a nossa função\r\n\r\nE, para finalizar, vamos adicionar os tipos necessários para a nossa função factorial:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Referências\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "javascript",
        "algorithms",
        "mathematic",
        "Node.js"
      ],
      "translates": "8mgwfzzig2t1wd9"
    },
    {
      "id": "pd682cq57ureywz",
      "title": "Creating native modals with the dialog element",
      "slug": "creating-native-modals-with-the-dialog-element",
      "locale": "en-US",
      "created": "2023-08-13T19:29:49.318Z",
      "updated": "2023-08-15T00:22:38.749Z",
      "content": "Using custom dialog elements instead of native browser implementations, such as [`alert`](https://developer.mozilla.org/en-US/docs/Web/API/Window/alert),\r\n[`confirm`](https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm), or [`prompt`](https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt),\r\nhas become the standard for web development for quite some time (popularized by various [jQuery](https://jqueryui.com/dialog/) plugins and by [Bootstrap](https://getbootstrap.com/2.3.2/javascript.html#modals) itself), so that with every new UI library that emerges[^1][^2][^3], it is common for its authors to re-implement a modal with the framework of the moment (which may or may not implement [WAI-ARIA accessibility](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/)).\r\n\r\n[^1]: [Material UI Modal](https://mui.com/material-ui/react-modal/)\r\n[^2]: [Ant Design Modal](https://ant.design/components/modal)\r\n[^3]: [Carbon Design System Modal](https://carbondesignsystem.com/components/modal/usage/#live-demo)\r\n\r\nBut now, with the arrival of the [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element in HTML5 (supported by [93.85%](https://caniuse.com/dialog) of browsers in use), it is much easier to create dialogs natively. In this article, we will see how to create a simple modal (and non-modal) dialog with the `<dialog>` element.\r\n\r\n## Understanding the _dialog_ element\r\n\r\nIn the sense employed in user interface development, a **dialog** is a <q>conversation</q> between the system and the user, where the system expects a response from the user to continue. A dialog can be **modal** or **non-modal**. A modal dialog (that is, one that changes the **mode** of interaction of the user with the system) is one that locks the interface, preventing the user from interacting with the rest of the page until it is closed. A non-modal dialog (that is, one that _does not_ change the **mode** of interaction of the user with the system), on the other hand, allows the user to interact with the rest of the page while the dialog is open.\r\n\r\nThe simplest way to put a non-modal dialog on the screen is as follows:\r\n\r\n```html\r\n<dialog open>\r\n  <p>Olá, mundo!</p>\r\n  <form method=\"dialog\">\r\n    <button>Fechar</button>\r\n  </form>\r\n</dialog>\r\n```\r\n\r\nNote the form, on line 5, with the _dialog_ method. It is this form that sends actions to the `dialog`. It will be displayed like this:\r\n\r\n<CodePen id=\"zYMgBOz\" />\r\n\r\nWhat makes the example above a non-modal dialog is the use of the `open` attribute (line 1), which also makes it unable to be closed with the `Esc` key. It's possible to create a non-modal dialog using the JavaScript API:\r\n\r\n<CodePen id=\"BaGXqjx\" />\r\n\r\nIn order for it to behave like a modal, it is necessary to open it through its JavaScript API, as we will see next.\r\n\r\n<CodePen id=\"VwVojZB\" />\r\n\r\nThis time, we open and close the modal with JavaScript and put the form result in the `output` element when the modal is closed. Read the code carefully and try to understand what is happening.\r\n\r\n## Styling the modal\r\n\r\nThe `dialog` element can (of course), be styled like any other HTML element. However, note that, to style the overlay (the dark background behind the modal), it is necessary to use the `::backdrop` selector:\r\n\r\n<CodePen id=\"gOQVMYE\" />\r\n\r\n## Polyfill\r\n\r\nIf you want to use `dialog` and don't have compatibility issues in older browsers, you can use this [polyfill](https://github.com/GoogleChrome/dialog-polyfill).\r\n\r\n<hr />\r\n\r\n<h3>References</h3>\r\n\r\n- [Dialog](https://web.dev/learn/html/dialog/)\r\n- [Dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)\r\n- [Modal & Nonmodal Dialogs: When (& When Not) to Use Them](https://www.nngroup.com/articles/modal-nonmodal-dialog/)\r\n\n",
      "tags": [
        "html",
        "javascript",
        "tutorial"
      ],
      "translates": "066kuym52jk3nbp"
    },
    {
      "id": "066kuym52jk3nbp",
      "title": "Criando modais nativos com o elemento dialog",
      "slug": "criando-modais-nativos-com-o-elemento-dialog",
      "locale": "pt-BR",
      "created": "2023-08-13T01:49:01.615Z",
      "updated": "2023-08-15T00:22:04.855Z",
      "content": "Usar elementos customizados de diálogo no lugar das implementações nativas do navegador, como [`alert`](https://developer.mozilla.org/en-US/docs/Web/API/Window/alert),\r\n[`confirm`](https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm) ou [`prompt`](https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt),\r\nse tornou o padrão do desenvolvimento web há bastante tempo (popularizado por diversos plugins do [jQuery](https://jqueryui.com/dialog/) e pelo próprio [Bootstrap](https://getbootstrap.com/2.3.2/javascript.html#modals)), de modo que, a cada nova biblioteca de UI que surge[^1][^2][^3], é comum que seus autores re-implementem um modal com o framework da vez (que podem ou não implementar [acessibilidade WAI-ARIA](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/)).\r\n\r\n[^1]: [Modal do Material UI](https://mui.com/material-ui/react-modal/)\r\n[^2]: [Modal do Ant Design](https://ant.design/components/modal)\r\n[^3]: [Modal do Carbon Design System](https://carbondesignsystem.com/components/modal/usage/#live-demo)\r\n\r\nMas agora, com a chegada do elemento [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) no HTML5 (suportado por [93,85%](https://caniuse.com/dialog) dos navegadores em uso), é muito mais fácil criar diálogos de forma nativa. Neste artigo, vamos ver como criar um diálogo modal (e não-modal) simples com o elemento `<dialog>`.\r\n\r\n## Entendendo o elemento _dialog_\r\n\r\nNo sentido empregado no desenvolvimento de interfaces de usuário, um **diálogo** é uma <q>conversação</q> entre o sistema e o usuário, onde o sistema espera uma resposta do usuário para continuar. Um diálogo pode ser **modal** ou **não-modal**. Um diálogo modal (isto é um, um diálogo que muda o **modo** de interação do usuário com o sistema) é aquele que trava a interface, impedindo o usuário de interagir com o restante da página até que ele seja fechado. Um diálogo não-modal (isto é um, um diálogo que _não_ muda o **modo** de interação do usuário com o sistema), por outro lado, permite que o usuário interaja com o restante da página enquanto o diálogo está aberto.\r\n\r\nA maneira mais simples de colocar um diálogo não-modal na tela é da seguinte forma:\r\n\r\n```html\r\n<dialog open>\r\n  <p>Olá, mundo!</p>\r\n  <form method=\"dialog\">\r\n    <button>Fechar</button>\r\n  </form>\r\n</dialog>\r\n```\r\n\r\nNote o formulário, na linha 5, com o método _dialog_. É este formulário que envia ações para o `dialog`. Ele será exibido dessa forma:\r\n\r\n<CodePen id=\"qBQzzww\" />\r\n\r\nO que torna o exemplo acima um diálogo não modal é o uso do atributo `open` (linha 1), o que também faz com que ele não possa ser fechado com a tecla `Esc`. Também é possível criar um diálogo não modal usando a API JavaScript:\r\n\r\n<CodePen id=\"BaGXqjx\" />\r\n\r\nAgora, para que o diálogo se comporte como um modal, é necessário que ele seja aberto através de sua API JavaScript, você pode ver no exemplo a seguir:\r\n\r\n<CodePen id=\"ZEmdgYj\" />\r\n\r\nDesta vez, abrimos e fechamos o modal com JavaScript e colocamos o resultado do formulário no elemento `output` quando o modal é fechado. Leia o código com calma e tente entender o que está acontecendo.\r\n\r\n## Estilizando o modal\r\n\r\nO elemento `dialog` pode (é claro), ser estilizado como qualquer outro elemento HTML. Atente-se, porém, que, para estilizar o _overlay_ (o fundo escuro que fica atrás do modal), é necessário usar o seletor `::backdrop`:\r\n\r\n<CodePen id=\"PoxrMzW\" />\r\n\r\n## Polyfill\r\n\r\nSe você quiser usar o `dialog` e não ter problemas de compatibilidade em navegadores mais antigos, pode usar este [polyfill](https://github.com/GoogleChrome/dialog-polyfill).\r\n\r\n<hr />\r\n\r\n<h3>Referências</h3>\r\n\r\n- [Dialog](https://web.dev/learn/html/dialog/)\r\n- [Dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)\r\n- [Modal & Nonmodal Dialogs: When (& When Not) to Use Them](https://www.nngroup.com/articles/modal-nonmodal-dialog/)\r\n\n",
      "tags": [
        "tutorial",
        "javascript",
        "html"
      ],
      "translates": "pd682cq57ureywz"
    },
    {
      "id": "k9f6b2e2nioulc6",
      "title": "Usando fetch com TypeScript",
      "slug": "usando-fetch-com-typescript",
      "locale": "pt-BR",
      "created": "2023-06-02T16:47:38.794Z",
      "updated": "2023-06-04T19:57:59.762Z",
      "content": "Como [`fetch`](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API) é praticamente [universalmente suportado](https://caniuse.com/?search=fetch) nos navegadores web mais utilizados, podemos descartar, com segurança, o uso do [Axios](https://axios-http.com/) e outras bibliotecas similares em favor do `fetch`. Neste artigo, vou criar uma pequena abstração para o `fetch` que adiciona algumas conveniências para melhorar a experiência do desenvolvedor.\r\n\r\n## O código\r\n\r\nPrimeiro, vou criar uma função base a partir da qual todas as outras serão derivadas:\r\n\r\n```typescript\r\n// Estende a classe de erro para gerar erros de HTTP (qualquer resposta com status > 299)\r\nclass HTTPError extends Error {}\r\n\r\n//            Um tipo genérico para \"tipar\" a resposta\r\n// -----------\\/\r\nconst query = <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n  fetch(url, init).then((res) => {\r\n    if (!res.ok)\r\n      throw new HTTPError(res.statusText, { cause: res })\r\n\r\n    return res.json() as Promise<T> // <--- Aplicando o tipo genérico\r\n  })\r\n```\r\n\r\n  \r\nNo código acima, fizemos o seguinte:\r\n\r\n1. Criamos uma nova classe `HTTPError`, para lançar [erros HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) conforme eles ocorrem;\r\n2. Utilizamos um [tipo genérico](https://www.typescriptlang.org/docs/handbook/2/generics.html) para poder tipar a resposta da requisição.\r\n\r\nAgora, vamos estender a função `query` para nos permitir serializar e enviar dados em nossas requisições:\r\n\r\n```typescript\r\nconst makeRequest\r\n  // -----------\\/ RequestInit['method'] são os tipos de métodos válidos para a requisição\r\n  = (method: RequestInit['method']) =>\r\n    //     | Esses dois tipos genéricos nos permitem tipar\r\n    //     | o entrada de dados (TBody) e saída (TResponse) da função.\r\n    <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n      query<TResponse>(url, {\r\n        method,\r\n        body: JSON.stringify(body), // <-- Transforma os objetos em uma string\r\n      })\r\n```\r\n\r\nNo código acima, fizemos o seguinte:\r\n\r\n1. Criamos um [encerramento (closure)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) que, primeiramente, recebe o método que desejamos chamar e, em seguida, retorna uma função onde passamos a `url` e o `body` (que, por padrão, é _JSON-stringificado_) da requisição.\r\n\r\nNeste ponto, podemos usar nossas funções recém-criadas da seguinte forma:\r\n\r\n```typescript\r\n// Tipo para a entidade Product\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// Requisitando um único produto\r\nconst product = await query<Product>('https://dummyjson.com/products/1')\r\nconsole.log(product)\r\n\r\n// Cria uma função que faz uma requisição de POST\r\nconst post = makeRequest('POST')\r\n\r\n// Adiciona um novo produto\r\nconst newProduct = await post<Product, Omit<Product, 'id'>>('https://dummyjson.com/products', {\r\n  title: 'New Product',\r\n  description: 'This is a new product',\r\n  price: 100,\r\n  discountPercentage: 0,\r\n  rating: 0,\r\n  stock: 0,\r\n  brand: 'New Brand',\r\n  category: 'New Category',\r\n  images: [],\r\n  thumbnail: '',\r\n})\r\n\r\nconsole.log(newProduct)\r\n\r\n```\r\n\r\nAgora temos um código funcional, mas não muito \"ergonômico\". Acredito que nosso código precisa ser capar de aceitar uma URL base para todas as requisições, cabeçalhos (como um [token de autorização](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)) e um jeito mais fácil de fazer requisições do tipo [`PATCH`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH), [PUT](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT) e [DELETE](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE).\r\n\r\nVamos refatorar o código acima, de modo que adicionar uma URL base e cabeçalhos comuns a todas as requisições:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\nclass HTTPError extends Error {}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then((res) => {\r\n        if (!res.ok)\r\n          throw new HTTPError(res.statusText, { cause: res })\r\n\r\n         return res.json() as Promise<T>\r\n       })\r\n\r\n// Esta é a função onde definimos nossa URL base e nossos cabeçalhos\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // Se precisar adicionar um token no cabeçalho, este é o lugar\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nNo código acima, eu:\r\n\r\n1. Criei a função `createQuery` , um fechamento (closure), permitindo definir uma URL padrão e parâmetros `init` predefinidos;\r\n2. Criei uma nova função `query`, na qual utilizei a função `createQuery` para definir a URL base e os parâmetros padrão que todas as requisições devem ter (observe a função fictícia `getToken` que adiciona um [Bearer Token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) a cada requisição);\r\n3. No final, exportei o objeto `api` com todas as funções comumente usadas para fazer requisições.\r\n\r\nVocê pode querer retornar o corpo de uma requisição que retornou um erro, por exemplo, quando o backend retorna os detalhes padronizados do [problem details](https://datatracker.ietf.org/doc/html/rfc7807). Vejamos como fica o nosso código refatorado:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\n// Estende o retorno da classe HTTPError\r\nclass HTTPError extends Error {\r\n  readonly response: any;\r\n  readonly status: number;\r\n  readonly statusText: string;\r\n\r\n  constructor(status: number, statusText: string, response: any) {\r\n    super(statusText);\r\n    this.status = status;\r\n    this.statusText = statusText;\r\n    this.response = response;\r\n  }\r\n}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <TResponse = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then(async (res) => {\r\n        // Desta vez, pegamos a resposta da requisição mais cedo\r\n        const response = await res.json()\r\n\r\n        if (!res.ok)\r\n          throw new HTTPError(res.status, res.statusText, response);\r\n\r\n         return response as TResponse\r\n       })\r\n\r\n// Esta é a função onde definimos nossa URL base e nossos cabeçalhos\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // Se precisar adicionar um token no cabeçalho, este é o lugar\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nAgora você pode usar seu novo wrapper em torno do `fetch` da seguinte forma:\r\n\r\n```typescript\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// GET https://dummyjson.com/products/1\r\napi\r\n  .get<Product>('/products/1')\r\n  .then(console.log)\r\n  .catch((err) => {\r\n    if (err instanceof HTTPError) {\r\n      // Handle HTTP Errors\r\n      console.error('HTTPError', err);\r\n    }\r\n\r\n    if (err instanceof SyntaxError) {\r\n      // Handle error parsing of the response\r\n      console.error('SyntaxError', err);\r\n    }\r\n\r\n    console.error('Other errors', err);\r\n});\r\n```\r\n\r\n## Considerações finais\r\n\r\nO código acima pode não ter todos os recursos completos de bibliotecas como [Axios](https://axios-http.com/), [redaxios](https://github.com/developit/redaxios), [ky](https://github.com/sindresorhus/ky) ou [wretch](https://github.com/elbywan/wretch), mas na maioria das vezes é tudo o que é necessário ao trabalhar com React usando [SWR](https://swr.vercel.app/) ou [TanStack Query](https://tanstack.com/query/latest) (tanto no frontend quanto no backend). Se quiser, dê sua opinião sobre o código e compartilhe suas melhorias. Este código está disponível neste [gist](https://gist.github.com/DouglasdeMoura/59ce418672d0e33dda7056b382b01de9).\n",
      "tags": [
        "javascript",
        "typescript"
      ],
      "translates": "j5ouuw7zm51z2ts"
    },
    {
      "id": "j5ouuw7zm51z2ts",
      "title": "Using fetch with TypeScript",
      "slug": "using-fetch-with-typescript",
      "locale": "en-US",
      "created": "2023-06-02T12:19:46.717Z",
      "updated": "2023-06-04T19:57:40.482Z",
      "content": "Since [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)) is pratically [universally supported](https://caniuse.com/?search=fetch) on the most used web browsers, we may safely drop the use [Axios](https://axios-http.com/) and other similar libraries in favor of `fetch`. In this article, I'll create a little wrapper for `fetch` that adds some conveniences to improve the developer experience.\r\n\r\n## The code\r\n\r\nFirst, I will create a base function from where all the other shall be derived:\r\n\r\n```typescript\r\n// Extends the error class to throw HTTP Errors (any response with status > 299)\r\nclass HTTPError extends Error {}\r\n\r\n//            A generic type to type the response\r\n// -----------\\/\r\nconst query = <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n  fetch(url, init).then((res) => {\r\n    if (!res.ok)\r\n      throw new HTTPError(res.statusText, { cause: res })\r\n\r\n    return res.json() as Promise<T> // <--- Applying the generic type above\r\n  })\r\n```\r\n\r\nIn the code above, we:\r\n\r\n1. Created a new `HTTPError` class, in order to throw [HTTP Errors](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) as they appear;\r\n2. Use a [generic type](https://www.typescriptlang.org/docs/handbook/2/generics.html) in order to be able to type the response of the request.\r\n\r\nNow, let's extend the query function to enable us to serialize and send data on our requests:\r\n\r\n```typescript\r\nconst makeRequest\r\n  // -----------\\/ RequestInit['method'] is a union of all the possible HTTP methods\r\n  = (method: RequestInit['method']) =>\r\n    //     | Those two generic types enables us to type the\r\n    // \\/--  data input (TBody) and output (TResponse) of the function.\r\n    <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n      query<TResponse>(url, {\r\n        method,\r\n        body: JSON.stringify(body), // <-- JSON Stringify any given object\r\n      })\r\n```\r\n\r\nIn the code above, we:\r\n\r\n1. We build a [closure](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) that, first, receive the method we want to call and then returns a function where we pass the `url` and the `body` (which is, by default, *JSON-stringified*) of the request.\r\n\r\nAt this point, we can use our newly created functions like this:\r\n\r\n```typescript\r\n// Adding type for the Product entity\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// Getting a single product\r\nconst product = await query<Product>('https://dummyjson.com/products/1')\r\nconsole.log(product)\r\n\r\n// Creates a function that makes POST requests\r\nconst post = makeRequest('POST')\r\n\r\n// Adding a new product\r\nconst newProduct = await post<Product, Omit<Product, 'id'>>('https://dummyjson.com/products', {\r\n  title: 'New Product',\r\n  description: 'This is a new product',\r\n  price: 100,\r\n  discountPercentage: 0,\r\n  rating: 0,\r\n  stock: 0,\r\n  brand: 'New Brand',\r\n  category: 'New Category',\r\n  images: [],\r\n  thumbnail: '',\r\n})\r\n\r\nconsole.log(newProduct)\r\n\r\n```\r\n\r\nFully functional, but not very \"ergonomic\". I believe that our code should also be able to accept a base URL for all the requests, make it easier to add things on the header (like an [authorization token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)) and an easy way to make [`PATCH`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH), [`PUT`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT) and [`DELETE`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE) requests.\r\n\r\nLet's refactor the code above in order to make it easy to add a base URL and pass a common header to all requests:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\nclass HTTPError extends Error {}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then((res) => {\r\n        if (!res.ok)\r\n          throw new HTTPError(res.statusText, { cause: res })\r\n\r\n         return res.json() as Promise<T>\r\n       })\r\n\r\n// This is the function where we define our base URL and headers\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // If you need to add a token to the header, you can do it here.\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nIn the code above, I:\r\n\r\n1. Created a `createQuery` function, a closure where I can set a default [`url`](https://developer.mozilla.org/pt-BR/docs/Web/API/URL) and `init` parameters;\r\n2. Created a new `query` function, where I use the `createQuery` function to define the base URL and the default parameters that all requests should have (note the dummy `getToken` function that adds a [Bearer Token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) to each request);\r\n3. In the end, I export the `api` object all the commonly used function to make requests.\r\n\r\nYou may want to return the body of a request that returned an error, like, for example, when your backend returns the standardized [problem details](https://datatracker.ietf.org/doc/html/rfc7807). So, the refactored code would be:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\n// Extends the return of the HTTPError class\r\nclass HTTPError extends Error {\r\n  readonly response: any;\r\n  readonly status: number;\r\n  readonly statusText: string;\r\n\r\n  constructor(status: number, statusText: string, response: any) {\r\n    super(statusText);\r\n    this.status = status;\r\n    this.statusText = statusText;\r\n    this.response = response;\r\n  }\r\n}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <TResponse = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then(async (res) => {\r\n        // Now, we get the JSON response early\r\n        const response = await res.json()\r\n\r\n        if (!res.ok)\r\n          throw new HTTPError(res.status, res.statusText, response);\r\n\r\n         return response as TResponse\r\n       })\r\n\r\n// In this function, we define our base URL and headers.\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // If you need to add a token to the header, you can do it here.\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nAnd now, you can use your new wrapper around fetch like this:\r\n\r\n```typescript\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// GET https://dummyjson.com/products/1\r\napi\r\n  .get<Product>('/products/1')\r\n  .then(console.log)\r\n  .catch((err) => {\r\n    if (err instanceof HTTPError) {\r\n      // Handle HTTP Errors\r\n      console.error('HTTPError', err);\r\n    }\r\n\r\n    if (err instanceof SyntaxError) {\r\n      // Handle error parsing of the response\r\n      console.error('SyntaxError', err);\r\n    }\r\n\r\n    console.error('Other errors', err);\r\n});\r\n```\r\n\r\n## Final thoughts\r\n\r\nThe code above is not full-featured as [Axios](https://axios-http.com/), [redaxios](https://github.com/developit/redaxios), [ky](https://github.com/sindresorhus/ky) or [wretch](https://github.com/elbywan/wretch), but, most of the time, it is all need when I'm working with React using [SWR](https://swr.vercel.app/) or [TanStack Query](https://tanstack.com/query/latest) (and on the backend too). Give me your thoughts about the code and show me your improvements (if you want). You can access this code on this [gist](https://gist.github.com/DouglasdeMoura/59ce418672d0e33dda7056b382b01de9).\n",
      "tags": [
        "typescript",
        "javascript"
      ],
      "translates": "k9f6b2e2nioulc6"
    },
    {
      "id": "wcz61fkqkj5y6se",
      "title": "What is a first-class citizen in computer science?",
      "slug": "what-is-a-first-class-citizen-in-computer-science",
      "locale": "en-US",
      "created": "2022-10-08T15:00:00.000Z",
      "updated": "2022-12-29T14:51:27.174Z",
      "content": "In computer science, a **first-class citizen** is an entity that supports all operations available to other entities. Some of the available operations are:\r\n\r\n- They may be named by variables;\r\n- They may be passed as arguments to procedures;\r\n- They may be returned as the results of procedures;\r\n- They may be included in data structures.\r\n\r\nIt was the British computer scientist Christopher Strachey (1916-1975) [who first](https://link.springer.com/article/10.1023/A:1010052305354) coined this notion of first-class citizen status of elements in a programming language in the 1960s.\r\n\r\nIn JavaScript, for example, functions are first-class citizens, as all of the operations cited above can be applied to them. Let's see some examples:\r\n\r\n**A simple function definition in JavaScript**\r\n\r\n```javascript\r\nfunction sum(a, b) {\r\n  return a + b\r\n}\r\n```\r\n\r\n**Assigning a constant to a function**\r\n\r\n```javascript\r\nconst sum = (a, b) => a + b\r\n\r\n// or\r\n// \r\n// const sum = function (a, b) {\r\n//   a + b\r\n// }\r\n```\r\n\r\n**Passing a function as an argument**\r\n\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (typeof callback === 'function') {\r\n    callback(result) // pass the result as an argument of `callback`\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//        Pass `console.log` as the callback function\r\n// -------\\/\r\nsum(2, 2, console.log) // => 4\r\n```\r\n\r\n**Return a function**\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (callback) {\r\n    return () => callback(result)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//            The callback is the sum of the result with 2.\r\n// ------------------\\/\r\nconst fn = sum(2, 2, (result) => sum(2, result))\r\n//    ^---- Store the returned function in a variable\r\n\r\n//          Execute the function\r\n// ---------\\/\r\nconsole.log(fn()) // => 6\r\n```\r\n\r\n**Including a function in a data structure**\r\n\r\n```javascript\r\n// Store the basic operations in an object\r\nconst operations = {\r\n  sum: (a, b) => a + b,\r\n  sub: (a, b) => a - b,\r\n  mul: (a, b) => a * b,\r\n  div: (a, b) => a / b,\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "computerscience",
        "programming",
        "beginners"
      ],
      "translates": null
    },
    {
      "id": "fccw7a1zbkshukm",
      "title": "Use GitHub actions to publish your package on NPM",
      "slug": "use-github-actions-to-publish-your-package-on-npm",
      "locale": "en-US",
      "created": "2022-10-04T15:00:00.000Z",
      "updated": "2022-12-29T14:51:36.616Z",
      "content": "Recently, I created a package with the [ESLint](https://eslint.org) settings I like to use in my React projects, as I was tired of always having to configure it when I start new React projects. Publishing a NPM package is just a matter of running `npm publish` on the directory of your package (considering, of course, that you already have an NPM account and is authenticated on your terminal). But I wanted to automatize this publishing everytime I created a new release.\r\n\r\nIn order to do that, I used the following GitHub Action:\r\n\r\n```yaml\r\n# File: .github/workflows/npm-publish.yml\r\n\r\n# This workflow will publish a package to NPM when a release is created\r\n# For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages\r\n\r\nname: Publish Package to npmjs\r\n\r\non:\r\n  release:\r\n    types: [created]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/setup-node@v3\r\n        with:\r\n          node-version: 16\r\n          registry-url: https://registry.npmjs.org/\r\n      - run: npm publish\r\n        env:\r\n          NODE_AUTH_TOKEN: ${{secrets.NODE_AUTH_TOKEN}}\r\n```\r\n\r\nIf you read the YAML file above (that you should put on the `.github/workflows/npm-publish.yml` directory of your git repository), you should have noted that the environment variable `NODE_AUTH_TOKEN` should be defined. Create a new automation access token on the control panel of NPM:\r\n\r\n\r\n1. Access your NPM account and click in \"Access tokens\":\r\n![Access tokens on NPM](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hddbdiev3xhhrl0s09km.png)\r\n\r\n2. Name your new access token and select the \"Automation\" type for it:\r\n\r\n\r\n![Creating access token on NPM](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4oect8iqd17igcbnrrg1.png)\r\n\r\n3. Go to your GitHub repository, click in \"Settings > Secrets > Actions > New repository secret\", name it as NODE_AUTH_TOKEN and paste the access token you just got from NPM:\r\n\r\n\r\n![Create a new secret on the GitHub repository](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wv7pw3j8elyjeoaeehif.png)\r\n\r\n4. Create a new release for your package. This should trigger our GitHub Action and publish to NPM.\r\n\r\n\r\n![Creating a new release on GitHub](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/31fsgle783ujl75stld1.png)\n",
      "tags": [
        "javascript",
        "typescript",
        "npm"
      ],
      "translates": null
    },
    {
      "id": "x09m6ctgj8r7ebz",
      "title": "Create beautiful placeholders for your images ",
      "slug": "create-beautiful-placeholders-for-your-images",
      "locale": "en-US",
      "created": "2022-09-29T15:00:00.000Z",
      "updated": "2023-08-12T13:33:26.541Z",
      "content": "Have you ever faced the situation where the layout of your beautifully crafted interface \"breaks\" if the image (depeding on the quality of your user's connections) takes some time to load? Something like the example below:\r\n\r\n[<img src=\"https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif\" />](https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif)\r\n\r\nThis happens because the browser has no clue about the dimensions of the image you want to display on your content beforehand.\r\n\r\nThe easiest way to solve this issue is using the [`aspect-ratio`](https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio) property to tell the browser how much space (based on the user's size display) it should reserve before the image is loaded. Check the difference:\r\n\r\n```css\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n\r\n/*\r\n  Here, I'm using the image's width and height,\r\n  but you can come up with diference aspect ratios.\r\n*/\r\n  aspect-ratio: 760 / 235;\r\n}\r\n```\r\n\r\n[<img src=\"https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif\" width=\"100%\" />](https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif)\r\n\r\nSo, it solves the sudden layout change, but we can do even better do better adding an animated background.\r\n\r\n## Displaying an animated background\r\n\r\nYou can give a hint for the user that the blank space on your app should be filled with something by adding a background color or animating the transition between two o more colors, like in the example below:\r\n\r\n<iframe height=\"300\" style={{width:'100%'}} scrolling=\"no\" title=\"Animated placeholder\" src=\"https://codepen.io/douglasdemoura/embed/RwyWzEr?default-tab=\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\r\n  See the Pen <a href=\"https://codepen.io/douglasdemoura/pen/RwyWzEr\">\r\n  Animated placeholder</a> by Douglas Moura (<a href=\"https://codepen.io/douglasdemoura\">@douglasdemoura</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.\r\n</iframe>\r\n\r\nAnd our code will look like this:\r\n\r\n```css\r\n:root {\r\n  /*\r\n  Set the default aspect ratio. You can change\r\n  this CSS variable per class/id or event\r\n  creating diferente classes.\r\n  */\r\n  --aspect-ratio: 16/9;\r\n}\r\n\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n/* Put all your images inside this container */\r\n.image-container {  \r\n  aspect-ratio: var(--aspect-ratio);\r\n  position: relative;\r\n  animation: background-loading .8s linear infinite alternate;\r\n}\r\n\r\n.image-container img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n/* The placeholder animation */\r\n@keyframes background-loading {\r\n  0% {\r\n    background-color: #f9fafb;\r\n  }\r\n  100% {\r\n    background-color: #d1d5db;\r\n  }\r\n}\r\n```\r\n\r\nAnd this is the result (check the code on [CodePen](https://codepen.io/douglasdemoura/pen/RwyWBOR)):\r\n\r\n<img src=\"https://media.giphy.com/media/9yYPBL1X9wnAKzhVfE/giphy.gif\" />\r\n\r\nYet, this can be even better by displaying a colorful background that matches the image colors.\r\n\r\n## Displaying colorful image placeholders\r\n\r\n[BlurHash](https://github.com/woltapp/blurhash) is a compact representation of a placeholder for a image. You use it to process your image before sending it to the browser and you'll get a string of 20-30 characters that the algorithm can turn into a blurred image that you can show to your user before the actual image is downloaded. Check how it looks like:\r\n\r\n<img src=\"https://media.giphy.com/media/1RSpYFokgWI2tKRKHk/giphy.gif\" />\r\n\r\nI have implemented that last effect in React for the sake of simplicity and time, but you can re-implement it in whatever framework you like. Just pay attention to the `onLoad` event that changes the opacity of the image.\r\n\r\n<iframe src=\"https://stackblitz.com/edit/vitejs-vite-enczef?embed=1&file=src/Image.module.css\" height=\"500\" style={{width: '100%'}} scrolling=\"no\" title=\"Animated placeholder\"  frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"></iframe>\n",
      "tags": [
        "javascript",
        "typescript",
        "react",
        "tutorial"
      ],
      "translates": null
    },
    {
      "id": "7p8vdcau7gg894b",
      "title": " How to extend HTML elements with React",
      "slug": "how-to-extend-html-elements-with-react",
      "locale": "en-US",
      "created": "2022-09-26T00:00:00.000Z",
      "updated": "2022-12-29T14:51:44.872Z",
      "content": "Most of the work needed to create custom HTML elements that fit the design system of your company resides styling and adding your own props. So, let's say you have to create a custom `Button`, that should receive a `children` prop and should have DOM access via [ref](https://reactjs.org/docs/refs-and-the-dom.html). That's how you can do it:\r\n\r\n```typescript\r\nimport { forwardRef } from 'react';\r\n\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n} & React.PropsWithChildren<React.ComponentPropsWithRef<'button'>>;\r\n\r\nconst Button: React.FC<ButtonProps> = forwardRef(\r\n  ({ loading, children, ...props }, ref) => {\r\n    return (\r\n      <button data-loading={loading} {...props} ref={ref}>\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Button;\r\n```\r\n\r\nWe use the [`PropsWithChildren`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L822) generic interface that gives the `children` prop and receive `React.ComponentPropsWithRef<'button'>`, that passes all props that a [`button`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button) can receive.\r\n\r\nOf course, you can change the interface [`ComponentPropsWithRef`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L834) for [`ComponentPropsWithoutRef`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L838) and drop the [`forwardRef`](https://reactjs.org/docs/forwarding-refs.html) function on the definition of your component (although, I do not recomend it - _refs_ may be useful later on your application):\r\n\r\n```typescript\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n} & React.PropsWithChildren<React.ComponentPropsWithoutRef<'button'>>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ loading, children, ...props }) => {\r\n  return (\r\n    <button data-loading={loading} {...props} ref={ref}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n```\r\n\r\nYou may, even, drop the interface `PropsWithChildren`, but on doing that, you'd have to implement the `children` prop by yourself:\r\n\r\n```typescript\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n  children?: React.ReactNode;\r\n} & React.ComponentPropsWithoutRef<'button'>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ loading, children, ...props }) => {\r\n  return (\r\n    <button data-loading={loading} {...props} ref={ref}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n```\r\n\r\nWant more? Check the live implementation on [StackBlitz](https://stackblitz.com/edit/vitejs-vite-warc15?file=src%2Fcomponents%2Fbutton.tsx&terminal=dev)\r\n\r\n\n",
      "tags": [
        "javascript",
        "typescript",
        "react"
      ],
      "translates": null
    },
    {
      "id": "fyuo9wob9vf9fz3",
      "title": "Use this NPM script to create your EditorConfig files ",
      "slug": "use-this-npm-script-to-create-your-editorconfig-files",
      "locale": "en-US",
      "created": "2022-01-09T15:00:00.000Z",
      "updated": "2023-01-04T15:16:37.227Z",
      "content": "Have you ever needed to create an [EditorConfig](https://editorconfig.org/) to your programming projects but can never remember all the options you can use? Worry no more: just type `npx create-editorconfig -y` in your terminal and have one generated for you. Those are the default options:\r\n\r\n```\r\n# editorconfig.org\r\nroot = true\r\n\r\n[*]\r\ncharset = utf-8\r\nend_of_line = lf\r\ninsert_final_newline = true\r\nindent_style = space\r\nindent_size = 2\r\ntrim_trailing_whitespace = true\r\n```\r\n\r\nIf you want to customize the settings or even add more for a different set of files (by defining a glob pattern), just ommit the `-y` argument in the terminal and answer the prompted questions.\r\n\r\n<img src=\"https://github.com/DouglasdeMoura/create-editorconfig/raw/main/usage.svg\" alt=\"Using create-editorconfig on ZSH\" />\r\n\r\n## What is EditorConfig?\r\n\r\nEditorConfig is a configuration file (the `.editorconfig`) that defines the coding styles that a given code editor (such as [VS Code](https://code.visualstudio.com/)) should apply in the files. You can even set a different set of rules for the files of your project according to your their extension or directory, by using a [glob pattern](https://en.wikipedia.org/wiki/Glob_(programming)).\r\n\r\n## My code editor is not applying the EditorConfig settings\r\n\r\nTo apply your `.editorconfig` rules, your code editor should have a plugin or have EditorConfig rule parsing implemented natively (if you are using VS Code, you must install [this extension](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig).\r\n\r\n[![EditorConfig extension on VS Code Marketplace](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/641onx2wrltmoq1ze501.png)](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)\r\n\r\n## How can I contribute to `create-editorconfig`?\r\n\r\nPlease, go to the official [GitHub repository](https://github.com/douglasdeMoura/create-editorconfig) and open an issue.\r\n \r\n\r\n\r\n## \n",
      "tags": [
        "javascript",
        "editorconfig",
        "npm",
        "npx"
      ],
      "translates": "1z3ovbccz4z4tmh"
    },
    {
      "id": "1z3ovbccz4z4tmh",
      "title": "Use este script do NPM para gerar seus arquivos do EditorConfig",
      "slug": "use-este-script-do-npm-para-gerar-seus-arquivos-do-editorconfig",
      "locale": "pt-BR",
      "created": "2022-01-01T15:00:00.000Z",
      "updated": "2022-12-29T14:52:01.854Z",
      "content": "Você já precisou criar um EditorConfig nos seus projetos de programação, mas\r\nnunca consegue lembrar de todas as opções que pode usar? Seus problemas\r\nacabaram: apenas digite npx create-editorconfig -y no seu terminal e tenha um\r\nEditorConfig gerado para você. Essas são as opções definidas por padrão:\r\n\r\n```\r\n# editorconfig.org\r\nroot = true\r\n\r\n[*]\r\ncharset = utf-8\r\nend_of_line = lf\r\ninsert_final_newline = true\r\nindent_style = space\r\nindent_size = 2\r\ntrim_trailing_whitespace = true\r\n```\r\n\r\nE se você desejar customizar estas configurações ou até mesmo adicionar mais\r\nconfigurações para um grupo de arquivo diferente (definindo um padrão [glob](https://en.wikipedia.org/wiki/Glob_(programming))),\r\napenas omita o parâmetro -y no terminal e responda às questões que aparecerão\r\nno terminal.\r\n\r\n## O que é o EditorConfig?\r\n\r\nEditorConfig é um formato de arquivo (o próprio .editorconfig) que serve para\r\ndefinir os estilos que um editor de código (como o [VS Code](https://code.visualstudio.com/)) deve aplicar nos\r\narquivos. Você pode até definir um conjunto diferente de regras para os arquivos\r\npresentes no seu projeto de acordo com suas respectivas extensões ou diretórios,\r\nutilizando um [padrão glob](https://en.wikipedia.org/wiki/Glob_(programming)).\r\n\r\n## Meu editor de código não está aplicando as configurações do EditorConfig\r\n\r\nPara aplicar as regras do seu .editorconfig, o seu editor de código deve ter um\r\nplugin ou ter implementado, nativamente, a aplicação das regras do EditorConfig\r\n(se você estiver usando o VS Code, você deve instalar [esta extensão](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)).\r\n\r\n## Como posso contribuir com o create-editorconfig?\r\n\r\nPor favor, vá ao [repositório oficial do GitHub](https://github.com/DouglasdeMoura/create-editorconfig) e abra uma nova issue.\n",
      "tags": [
        "javascript",
        "html"
      ],
      "translates": null
    },
    {
      "id": "qky4tlh4sx84esg",
      "title": "Como criar um indicador de carregamento perfeito para seus web apps",
      "slug": "como-criar-um-indicador-de-carregamento-perfeito-para-seus-web-apps",
      "locale": "pt-BR",
      "created": "2021-03-03T15:00:00.000Z",
      "updated": "2023-08-12T13:45:55.590Z",
      "content": "\r\nWeb apps são complexos e, mantê-los acessíveis para pessoas com necessidades\r\nespeciais exige um bom conhecimento das suas [espeficações](https://w3c.github.io/html-aria/).\r\nMas não se preocupe, pois neste artigo, eu vou mostrar como criar o indicadores\r\nde carregamento acessíveis e bonitos para suas aplicações.\r\n\r\n<aside className=\"aside-info\">\r\nNeste artigo, você aprender aprender para que servem os atributos <code> aria-live</code>,\r\n <code> aria-busy</code>, <code> aria-control </code> e <code>role</code>.\r\nAlém disso, aprenderá como adicionar um ícone de carregamento feito somente com CSS.\r\n</aside>\r\n\r\nUsamos indicadores de carregamento sempre que é necessário recuperar dados de maneira\r\nassíncrona em nossas aplicações, normalmente relacionadas à alguma interação do\r\nusuário: envio de formulários, requisições à <abbr title=\"Application Programming Interface\">API</abbr>s\r\nexternas, upload de arquivos, etc. Para executarmos estas ações, é necessário que\r\nforneçamos alguma identificação visual para que o usuário possa identificar que\r\na nossa aplicação está esperando algum dado ou retorno externo.\r\n\r\nVamos começar com um exemplo simples, onde uma região da tela será atualizada quando\r\num usuário selecionar um planeta da lista:\r\n\r\n```html\r\n<!-- Utilizaremos este formulário para selecionar um planeta -->\r\n<fieldset>\r\n  <legend>Informação do planeta</legend>\r\n  <label for=\"planetasSelect\">Planeta:</label>\r\n\r\n  <!--\r\n    O atributo aria-controls aponta para o ID do elemento da página este formulário controla\r\n  -->\r\n  <select id=\"planetasSelect\" aria-controls=\"planetaInformacoes\">\r\n    <option value=\"\">Selecione um planeta:</option>\r\n    <option value=\"mercurio\">Mercúrio</option>\r\n    <option value=\"venus\">Vênus</option>\r\n    <option value=\"terra\">Terra</option>\r\n    <option value=\"marte\">Marte</option>\r\n  </select>\r\n</fieldset>\r\n\r\n<!--\r\n  O atributo role=\"region\" define que a div a seguir é um ponto de destaque na\r\n  página, facilitando o acesso à região através do teclado.\r\n\r\n  Observe que o ID da div a seguir é o mesmo definido no atributo aria-controls\r\n  do select acima.\r\n\r\n  Definimos o aria-live como igual a polite. Desse modo, os leitores de\r\n  tela não interromperam a leitura da página quando o conteúdo dessa div for alterado.\r\n\r\n  Por fim, definimos o aria-busy para informar aos leitores de tela ou outras\r\n  tecnologias assistivas quando a região está aguardando um novo conteúdo.\r\n-->\r\n<div role=\"region\" id=\"planetaInformacoes\" aria-live=\"polite\" aria-busy=\"false\">\r\n  <h2 id=\"planetaNome\">Nenhum planeta selecionado</h2>\r\n  <p id=\"planetaDescricao\">Selecione um planeta para ver sua descrição</p>\r\n</div>\r\n\r\n<p>\r\n  <small>\r\n    Com informações da\r\n    <a href=\"https://en.wikipedia.org/wiki/Solar_System#Inner_Solar_System\">Wikipedia</a>\r\n  </small>\r\n</p>\r\n```\r\n\r\nAgora, precisamos dizer para o leitores de telas ou qualquer outra tecnologia assistiva\r\nque o parte do conteúdo exibido na tela é dinâmico. Para fazermos isso, usamos o\r\natributo `aria-live`<sup>[1](#aria-live-regions)</sup>, o qual pode receber um dos três argumentos:\r\n\r\n1. `off`: atributo padrão para todos os elementos da página. Normalmente, você\r\nnão precisa definir este atributo de maneira explícita;\r\n2. `assertive`: interrompe a leitura da tecnologia assistiva de maneira abrupta.\r\nSó deve ser utilizado para notificações críticas ou que requeiram a atenção imediata\r\ndo usuário;\r\n3. `polite`: indica que a uma região da página foi atualizada, mas não requer a\r\natenção imediata do usuário. É o atributo utilizado com mais frequência.\r\n\r\nTambém utilizamos o atributo `aria-busy` para informar aos leitores de tela que\r\na região está aguardando uma atualiação. Este atributo só aceita valores *booleanos*:\r\n`true` ou `false`.\r\n\r\nSe você leu o código acima com atenção, verá que definimos outros atributos:\r\n`aria-controls`<sup>[2](#using-aria)</sup> (linha 9) e `role`<sup>[3](#aria-region-role)</sup> (linha 32).\r\nO primeiro indica qual elemento o formulário controla, enquanto o segundo facilita\r\no acesso à região para pessoas que só podem utilizar o teclado para navegar na página.\r\n\r\nAgora, vamos adicionar um pouco de JavaScript para  selecionar os dados dos\r\nplanetas selecionados em nosso formulário:\r\n\r\n```javascript\r\nconst PLANETAS = {\r\n  mercurio: {\r\n    nome: 'Mercúrio',\r\n    descricao: 'Mercúrio é o menor e mais interno planeta do Sistema Solar. Tem o nome da divindade romana Mercúrio, o mensageiro dos deuses.'\r\n  },\r\n  venus: {\r\n    nome: 'Vênus',\r\n    descricao: 'Vênus é o segundo planeta depois do Sol. Foi nomeado em homenamgem à deusa romana do amor e da beleza.'\r\n  },\r\n  terra: {\r\n    nome: 'Terra',\r\n    descricao: 'A Terra é o terceiro planeta depois do Sol e o único planeta conhecido capaz de suportar a vida.'\r\n  },\r\n  marte: {\r\n    nome: 'Marte',\r\n    descricao: 'Marte é o quarto planeta depois do Sol e o segundo menor planeta do Sistema Solar. Seu nome é uma homenagem ao deus romano da Guerra. Também é conhecido com o \"Planeta Vermelho\".'\r\n  }\r\n}\r\n\r\nfunction renderizaInformacoesDoPlaneta(planeta) {\r\n  const planetaInformacoes = document.getElementById('planetaInformacoes');\r\n  const planetaNome = document.getElementById('planetaNome');\r\n  const planetaDescricao = document.getElementById('planetaDescricao');\r\n\r\n  planetaInformacoes.setAttribute('aria-busy', 'true');\r\n\r\n  setTimeout(() => {\r\n    if (planeta in PLANETAS) {\r\n      planetaNome.textContent = PLANETAS[planeta].nome;\r\n      planetaDescricao.textContent = PLANETAS[planeta].descricao;\r\n    } else {\r\n      planetaNome.textContent = 'Nenhum planeta selecionado';\r\n      planetaDescricao.textContent = 'Selecione um planeta para ver sua descrição';\r\n    }\r\n\r\n    planetaInformacoes.setAttribute('aria-busy', 'false');\r\n  }, 1100);\r\n}\r\n\r\ndocument.getElementById('planetasSelect')\r\n  .addEventListener('change', event => {\r\n    renderizaInformacoesDoPlaneta(event.target.value);\r\n  });\r\n```\r\n\r\nPerceba que utilizamos a função [`setTimeout`](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals)\r\n(linha 27) para simular o acesso à uma API externa.\r\n\r\nE para finalizar, adicionaremos um indicador de carregamento utilizando CSS. Sempre\r\nque algum elemento da página (`div`, `aside`, `main`, etc.) tiver um atributo `aria-busy`\r\nque seja igual a `true`, diminuiremos a opacidade do elemento e adicionaremos um\r\nícone de carregamento sobre o elemento em questão.\r\n\r\n```css\r\n[aria-busy] {\r\n  transition: opacity 0.2s linear;\r\n  position: relative;\r\n}\r\n\r\n[aria-busy=\"true\"] * {\r\n  opacity: 0.7;\r\n}\r\n\r\n[aria-busy=\"true\"]:before {\r\n  content: '';\r\n  display: block;\r\n  border: 6px solid transparent;\r\n  border-top-color: purple;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  animation: spin 1.2s infinite linear;\r\n  position: absolute;\r\n  left: calc(50% - 18px);\r\n  top: calc(50% - 18px);\r\n}\r\n\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n```\r\n\r\nDepois de tudo isso, podemos ver o nosso exemplo em ação:\r\n\r\n<iframe height=\"300\" style={{width: '100%'}} scrolling=\"no\" title=\"Exemplo de loading acessível\" src=\"https://codepen.io/douglasdemoura/embed/poNqmYq?default-tab=\" frameBorder=\"no\" loading=\"lazy\" />\r\n\r\nExperimente utilizar um leitor de tela no exemplo que acabamos de construir e veja\r\ncomo os atributos que adicionados ao nosso exemplo fornecem uma boa experiência de\r\nuso para usuários com necessidades especiais. Claro que podemos chegar ao mesmo\r\nresultado de diversas outras formas, mas é importante sempre levarmos em consideração\r\nse a nossa aplicação é acessível.\r\n\r\n\r\n<p><small>\r\n  <abbr title=\"Post scriptum\">P.S.</abbr>: interaja e edite o código deste exemplo no <a href=\"https://codepen.io/douglasdemoura/pen/poNqmYq\" target=\"_blank\">CodePen</a>.\r\n</small></p>\r\n\r\n<footer className=\"footnotes\">\r\n  <h4>Referências</h4>\r\n\r\n  <ol>\r\n    <li id=\"aria-live-regions\">\r\n      <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions\" target=\"_blank\">ARIA live regions</a>\r\n    </li>\r\n    <li id=\"using-aria\">\r\n      <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques\" target=\"_blank\">Using ARIA: Roles, states, and properties</a>\r\n    </li>\r\n    <li id=\"aria-region-role\">\r\n      <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Region_role\" target=\"_blank\">ARIA: Region role</a>\r\n    </li>\r\n  </ol>\r\n</footer>\n",
      "tags": [
        "html",
        "javascript"
      ],
      "translates": null
    },
    {
      "id": "02cjfu0pbl38fsa",
      "title": "Increase YouTube video playback rate up to 2x",
      "slug": "increase-youtube-video-playback-rate-up-to-2x",
      "locale": "en-US",
      "created": "2020-10-25T00:00:00.000Z",
      "updated": "2022-12-29T14:52:21.704Z",
      "content": "YouTube videos (along with all modern video implementations on the web) uses the [HTML5 video element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video). This new media tag implements the [HTMLMediaElement API](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement), which gives a plenty of media-related methods common to audio and video.\r\n\r\n\r\nThe standard YouTube player just allow us to increase video speed up to 2x, but, if you want to increase it even more? Well, there's a solution for that: just set the playback rate to whatever number you want!\r\n\r\nIn order to do that, you need to select the `<video>` element in the page and change its playback rate to the desired speed:\r\n\r\n\r\n```js\r\ndocument.getElementsByTagName('video')[0].playbackRate = 2.5;\r\n```\r\n\r\nIt's a good solution, but not a practical one. Gracefully, there's a better way to make use of this functionality without having to open the console of your browser.\r\n\r\n## JavaScript bookmarklet\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/hjvcu6sqxp24u5emozsb.png\" alt=\"Adding the bookmarklet on Firefox\" />\r\n  <figcaption>\r\n    Adding the bookmarklet on Firefox\r\n  </figcaption>\r\n</figure>\r\n\r\nIf you want to have this script always at hand, the best way is to put it inside a JavaScript [bookmarklet](https://en.wikipedia.org/wiki/Bookmarklet). Just create a new bookmark in you favorite browser and add the code below:\r\n\r\n```js\r\njavascript:(function() {\r\n  const rate = prompt('Set the new playback rate', 2.5);\r\n  if (rate != null) {\r\n    const video = document.getElementsByTagName('video')[0];\r\n    video.playbackRate = parseFloat(rate);\r\n  }\r\n})();\r\n```\r\n\r\nAnd here is an screenshot of the bookmarklet working:\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/erxbc4xcxdk7v0gun8z1.png\" alt=\"Video speed bookmarklet working\" />\r\n  <figcaption>\r\n    Changing the speed of an (awesome) <a href=\"https://www.youtube.com/watch?v=G4MvFT8TGII\">YouTube video</a>\r\n  </figcaption>\r\n</figure>\r\n\r\nFeel free to contribute with this code in <a href=\"https://gist.github.com/DouglasdeMoura/052456a93f93d47982ccb5eefc602eb1\" target=\"_blank\">my public gist</a>.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "video",
        "youtube"
      ],
      "translates": null
    }
  ],
  "typescript": [
    {
      "id": "5xfzc0v2gy17ywy",
      "title": "Usando TypeScript em projetos Node.js",
      "slug": "usando-typescript-em-projetos-node-js",
      "locale": "pt-BR",
      "created": "2024-07-08T09:51:28.826Z",
      "updated": "2024-07-08T09:51:28.826Z",
      "content": "[TypeScript](https://www.typescriptlang.org/) é extremamente útil durante o desenvolvimento de aplicações Node.js. Vamos ver como configurá-lo para uma experiência de desenvolvimento tranquila.\r\n\r\n## Configurando o TypeScript\r\n\r\nPrimeiro, precisamos instalar o TypeScript. Podemos fazer isso executando o seguinte comando:\r\n\r\n```bash\r\nnpm i -D typescript\r\n```\r\n\r\nEm seguida, precisamos criar um arquivo `tsconfig.json` na raiz do nosso projeto. Este arquivo conterá a configuração do TypeScript para o nosso projeto. Aqui está um exemplo de um arquivo `tsconfig.json` que peguei do [Total TypeScript](https://www.totaltypescript.com/tsconfig-cheat-sheet) e adicionei mais algumas coisas (leia o código e preste atenção aos comentários):\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    /* Opções Base: */\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"target\": \"es2022\",\r\n    \"allowJs\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"isolatedModules\": true,\r\n    \"verbatimModuleSyntax\": true,\r\n\r\n    /* Configurando ~ como alias para o diretório src/ */\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"src/*\"]\r\n    },\r\n\r\n    /* Rigor */\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n\r\n    /* Se compilando com TypeScript: */\r\n    \"module\": \"NodeNext\",\r\n    \"outDir\": \"dist\",\r\n    \"sourceMap\": true,\r\n\r\n    /* E se você estiver construindo para uma biblioteca: */\r\n    \"declaration\": true,\r\n\r\n    /* E se você estiver construindo para uma biblioteca em um monorepo: */\r\n    \"composite\": true,\r\n    \"declarationMap\": true,\r\n\r\n    /* Se NÃO estiver compilando com TypeScript: */\r\n    \"module\": \"preserve\",\r\n    \"noEmit\": true,\r\n\r\n    /* Se o seu código roda no DOM: */\r\n    \"lib\": [\"es2022\", \"dom\", \"dom.iterable\"],\r\n\r\n    /* Se o seu código não roda no DOM: */\r\n    \"lib\": [\"es2022\"],\r\n  },\r\n  /* Estou considerando que todo o seu código está em src/ */\r\n  \"include\": [\"src/**/*.ts\"]\r\n}\r\n```\r\n\r\n## Configurando o script de build\r\n\r\nEm seguida, precisamos configurar um script de build que irá compilar nosso código TypeScript para JavaScript. Primeiro, instale [`tsc-alias`](https://www.npmjs.com/package/tsc-alias) para lidar com os aliases que definimos no arquivo `tsconfig.json`:\r\n\r\n```bash\r\nnpm i -D tsc-alias\r\n```\r\n\r\nDepois, você pode adicionar o script `build` adicionando o seguinte script ao nosso arquivo `package.json`:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\"\r\n  }\r\n}\r\n```\r\n\r\n## Configurando o script de desenvolvimento\r\n\r\nAgora, precisamos configurar um script de desenvolvimento que irá observar mudanças em nossos arquivos TypeScript e recompilá-los. Pessoalmente, gosto de usar [`tsx`](https://tsx.is/), pois proporciona uma experiência de desenvolvimento muito mais rápida em comparação com o [TypeScript watcher](https://www.typescriptlang.org/docs/handbook/configuring-watch.html) ou [ts-node](https://typestrong.org/ts-node/). Primeiro, instale `tsx`:\r\n\r\n```bash\r\nnpm i -D tsx\r\n```\r\n\r\nDepois, você pode adicionar o script `dev` (para iniciar o projeto em modo de desenvolvimento) adicionando o seguinte script ao seu arquivo `package.json`:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\"\r\n  }\r\n}\r\n```\r\n\r\nSim, você não terá verificação de tipos enquanto desenvolve usando `tsx`, mas você pode rodar `npm run build` para isso ou adicionar um novo script `typecheck` ao seu `package.json` e executá-lo sempre que quiser verificar erros de tipos:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\",\r\n    \"typecheck\": \"tsc --noEmit\"\r\n  }\r\n}\r\n```\n",
      "tags": [
        "Node.js",
        "javascript",
        "typescript"
      ],
      "translates": "8cxztl6gvjs26in"
    },
    {
      "id": "8cxztl6gvjs26in",
      "title": "Using TypeScript in Node.js projects",
      "slug": "using-typescript-in-node-js-projects",
      "locale": "en-US",
      "created": "2024-07-01T12:24:04.381Z",
      "updated": "2024-07-08T09:51:36.801Z",
      "content": "[TypeScript](https://www.typescriptlang.org/) is tremendously helpful while developing Node.js applications. Let's see how to configure it for a seamless development experience.\r\n\r\n## Setting up TypeScript\r\n\r\nFirst, we need to install TypeScript. We can do this by running the following command:\r\n\r\n```bash\r\nnpm i -D typescript\r\n```\r\n\r\nNext, we need to create a `tsconfig.json` file in the root of our project. This file will contain the TypeScript configuration for our project. Here is an example of a `tsconfig.json` file that I picked from [Total TypeScript](https://www.totaltypescript.com/tsconfig-cheat-sheet) and added a few more things (read the code and pay attention to the comments):\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    /* Base Options: */\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"target\": \"es2022\",\r\n    \"allowJs\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"isolatedModules\": true,\r\n    \"verbatimModuleSyntax\": true,\r\n\r\n    /* Setting ~ as the alias for the src/ directory */\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"src/*\"]\r\n    },\r\n\r\n    /* Strictness */\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n\r\n    /* If transpiling with TypeScript: */\r\n    \"module\": \"NodeNext\",\r\n    \"outDir\": \"dist\",\r\n    \"sourceMap\": true,\r\n\r\n    /* AND if you're building for a library: */\r\n    \"declaration\": true,\r\n\r\n    /* AND if you're building for a library in a monorepo: */\r\n    \"composite\": true,\r\n    \"declarationMap\": true,\r\n\r\n    /* If NOT transpiling with TypeScript: */\r\n    \"module\": \"preserve\",\r\n    \"noEmit\": true,\r\n\r\n    /* If your code runs in the DOM: */\r\n    \"lib\": [\"es2022\", \"dom\", \"dom.iterable\"],\r\n\r\n    /* If your code doesn't run in the DOM: */\r\n    \"lib\": [\"es2022\"],\r\n  },\r\n  /* I'm considering all your code is in src/ */\r\n  \"include\": [\"src/**/*.ts\"]\r\n}\r\n```\r\n\r\n## Setting up the build script\r\n\r\nNext, we need to set up a build script that will compile our TypeScript code to JavaScript. First, install [`tsc-alias`](https://www.npmjs.com/package/tsc-alias) to handle the aliases we defined in the `tsconfig.json` file:\r\n\r\n```bash\r\nnpm i -D tsc-alias\r\n```\r\n\r\nThen, you can add the `build` script by adding the following script to our `package.json` file:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\"\r\n  }\r\n}\r\n```\r\n\r\n## Setting up the development script\r\n\r\nNext, we need to set up a development script that will watch for changes in our TypeScript files and recompile them. Personally, I like to use [`tsx`](https://tsx.is/), as it provides a much faster development experience compared to the built-in [TypeScript watcher](https://www.typescriptlang.org/docs/handbook/configuring-watch.html) or [ts-node](https://typestrong.org/ts-node/). First, install `tsx`:\r\n\r\n```bash\r\nnpm i -D tsx\r\n```\r\n\r\nThen, you can add the `dev` script (in order to start the project in development mode) by adding the following script to your `package.json` file:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\"\r\n  }\r\n}\r\n```\r\n\r\nYes, you won't get typechecks while developing using `tsx`, but you can run `npm run build` for that or add a new `typecheck` scripts to your `package.json`, and run it whenever you want to check for type errors:\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build\": \"tsc && tsc-alias\",\r\n    \"dev\": \"node --import=tsx --watch ./src/index.ts\",\r\n    \"typecheck\": \"tsc --noEmit\"\r\n  }\r\n}\r\n```\n",
      "tags": [
        "typescript",
        "Node.js",
        "javascript"
      ],
      "translates": "5xfzc0v2gy17ywy"
    },
    {
      "id": "vfb16zvqx9d6eq8",
      "title": "Encontrando o maior divisor comum em TypeScript",
      "slug": "encontrando-o-maior-divisor-comum-em-typescript",
      "locale": "pt-BR",
      "created": "2024-01-25T13:47:59.773Z",
      "updated": "2024-01-25T13:56:47.886Z",
      "content": "Primeiramente descrito no clássico livro de geometria _Elementos_, pelo matemático grego antigo Euclides (cerca de 300 a.C., no livro VII, proposição 2), o método de encontrar o maior divisor comum entre os números positivos $a$ e $b$, sendo $a > b$, consiste no conhecimento de que os divisores comuns de $a$ e $b$ são os mesmos de $a - b$ e $b$. Portanto, podemos encontrar esse maior divisor comum substituindo o maior número ($a$) pela diferença entre os dois números ($a - b$), repetidamente, até que os dois números sejam iguais. Em TypeScript, podemos fazer isso assim:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Quando `a` for igual a `b`, retorna o resultado\r\n  if (a === b) {\r\n    return a\r\n  }\r\n\r\n  // Enquanto `a` é maior que b, chama a função novamente\r\n  // com o novo `a` sendo `a - b`:\r\n  if (a > b) {\r\n    return gcd(a - b, b)\r\n  }\r\n\r\n  // Se o novo `b` for maior que `a`,\r\n  // subtraia `a` de `b`.\r\n  return gcd(a, b - a)\r\n}\r\n```\r\n\r\nEste método pode ser muito lento se a diferença entre $a$ e $b$ for muito grande. Felizmente, existe outro método para encontrar o maior divisor comum entre dois números, que pode ser descrito da seguinte forma:\r\n\r\nPara encontrar o maior divisor comum entre $a$ e $b$, sendo $a > b$, realize a divisão entre os dois números. Esta operação dará um quociente e um resto (que chamaremos de $q$ e $r$, respectivamente). Assim, $a$ pode ser descrito como $a = q \\times b + r$;\r\nSe $r$ for igual a 0, paramos, porque descobrimos que o maior divisor comum de $a$ e $b$ é $b$. Caso contrário, voltamos ao passo 1, fazendo de $b$ o novo $a$ e $r$ será o novo $b$.\r\nAgora, podemos começar com a implementação do algoritmo acima:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Primeiro, calculamos o resto da divisão entre `a` e `b`:\r\n  const r = a % b\r\n  \r\n  // Se o resto for igual a zero, significamos que já encontramos o\r\n  // maior divisor comum, porrtanto, retornamos `b`:\r\n  if (r === 0) {\r\n    return b\r\n  }\r\n  \r\n  // Enquanto o resto não for igual a 0, chamamos a função novamente,\r\n  // com os novos valores de `a` e `b`:\r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nA implementação é muito direta e pode ser lida exatamente como descrita nos passos 1 e 2. Podemos tornar a função mais simples, verificando diretamente se $b$ é igual a zero e só realizando a operação de resto depois disso. Portanto, se a função receber um $b$ que seja igual a zero, saberemos que $a$ é o maior divisor comum:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  if (b === 0) {\r\n    return a\r\n  }\r\n  \r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nEsta variante é chamada de _algoritmo euclidiano_ (em contraste com a primeira, que é o _algoritmo de Euclides_) e é significativamente mais rápida do que a primeira implementação.\r\n\r\n## Implementações alternativas\r\n\r\nTambém podemos adotar uma abordagem diferente. Em vez de chamar nossa função gcd recursivamente, podemos implementar nossa função usando um laço `while` (análogo à nossa primeira implementação acima):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Roda este laço enquanto `a` for diferente de `b`\r\n  while (a !== b) {\r\n    if (a > b) {\r\n      // Subtrai `b` de `a` enquanto `a` for maior que `b`\r\n      a = a - b\r\n      // Pula para a próxima iteração\r\n      continue\r\n    }\r\n    // Subtrai `a` de `b` quanto a <= b\r\n    b = b - a\r\n  }\r\n  // Retorna o resultado\r\n  return a\r\n}\r\n```\r\n\r\nE esta é outra maneira (análoga à nossa segunda implementação acima):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Roda este laço enquanto `b` for diferente de 0\r\n  while (b !== 0) {\r\n    // Salva o novo valor em uma variável temporária\r\n    const newA = b\r\n    b = a % b\r\n    a = newA\r\n  }\r\n\r\n  return a\r\n}\r\n```\r\n\r\n## Encontrando o maior divisor comum entre três ou mais números\r\n\r\nO maior divisor comum de três ou mais números é igual ao produto dos fatores primos comuns a todos os números (exploraremos mais isso em um futuro artigo), mas, você também pode calcular o maior divisor comum entre pares desta lista de números com as mesmas funções que já mostramos. Então, vamos refatorar nossa função`gcd` para receber múltiplos parâmetros:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b)\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Só por precaução, ordena os números em ordem descendente:\r\n      .sort((a, b) => b - a)\r\n      // Chama `calculateGcd` para cada par de números na lista:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\r\n\r\n## Validando nossas entradas\r\nVamos garantir que nossas funções devem sempre receber, pelo menos, dois números e que todos os números deve ser positivos:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  if (numbers.length < 2) {\r\n    throw new Error(\"Você deve passar, pelo menos, 2 números\")\r\n  }\r\n\r\n  if (numbers.some((number) => number < 0)) {\r\n    throw new Error(\"Os números devem ser >= 0\")\r\n  }\r\n\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b);\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      .sort((a, b) => b - a)\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "mathematic",
        "typescript"
      ],
      "translates": "5d4agn9wp8tkd45"
    },
    {
      "id": "l2hgc45s729in42",
      "title": "Múltiplas formas de somar os valores de um array de objetos, em TypeScript",
      "slug": "multiplas-formas-de-somar-os-valores-de-um-array-de-objetos-em-typescript",
      "locale": "pt-BR",
      "created": "2024-01-17T23:28:26.679Z",
      "updated": "2024-01-23T13:49:43.604Z",
      "content": "Há algum tempo, o [Zan Franceschi](https://twitter.com/zanfranceschi) postou o seguinte desafio:\r\n\r\n<Tweet id=\"1564671754483765251\" />\r\n\r\nNeste artigo, vou resolvê-lo de duas formas: uma com laços e outra sem laços, com TypeScript.\r\n\r\n## Analisando os dados\r\n\r\nVou transcrever o JSON do desafio para facilitar a nossa análise:\r\n\r\n```json\r\n{\r\n  \"compras\": [\r\n    {\r\n      \"data\": \"2022-01-01\",\r\n      \"produtos\": [\r\n        {\r\n          \"cod\": \"a\",\r\n          \"qtd\": 2,\r\n          \"valor_unitario\": 12.24\r\n        },\r\n        {\r\n          \"cod\": \"b\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 3.99\r\n        },\r\n        {\r\n          \"cod\": \"c\",\r\n          \"qtd\": 3,\r\n          \"valor_unitario\": 98.14\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"data\": \"2022-01-02\",\r\n      \"produtos\": [\r\n        {\r\n          \"cod\": \"a\",\r\n          \"qtd\": 6,\r\n          \"valor_unitario\": 12.34\r\n        },\r\n        {\r\n          \"cod\": \"b\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 3.99\r\n        },\r\n        {\r\n          \"cod\": \"c\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 34.02\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nPodemos definir o JSON acima em dois tipos distintos: `Produto` e `Compra`. Seus nomes são autoexplicativos, mas vou defini-los aqui para facilitar a leitura do código:\r\n\r\n```ts\r\ntype Produto = {\r\n  cod: string\r\n  qtd: number\r\n  valor_unitario: number\r\n}\r\n\r\ntype Compra = {\r\n  data: string\r\n  produtos: Produto[]\r\n}\r\n```\r\n\r\n## Escrevendo testes\r\n\r\nAntes de começar a escrever o código, vamos escrever alguns testes para garantir que o código está funcionando corretamente. Para isso, vamos usar o [Vitest](https://vitest.dev/).\r\n\r\n```ts\r\nimport { describe, expect, test } from 'vitest'\r\nimport {\r\n  somaComFor,\r\n  somaComForIn,\r\n  somaComForOf,\r\n  somaComWhile,\r\n  somaComForEach,\r\n  somaComReduce,\r\n  somaComFlatMapEReduce,\r\n  somaComSum,\r\n  somaComSumEFlatMap\r\n} from './desafio-da-soma'\r\n\r\nconst { compras } = await import('./data.json', { with: { type: 'json' } })\r\n\r\nconst result = 434.93999999999994\r\n\r\ndescribe('Desafio da soma', () => {\r\n  test('somaComFor', () => {\r\n    expect(somaComFor(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForOf', () => {\r\n    expect(somaComForOf(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForIn', () => {\r\n    expect(somaComForIn(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComWhile', () => {\r\n    expect(somaComWhile(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForEach', () => {\r\n    expect(somaComForEach(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComReduce', () => {\r\n    expect(somaComReduce(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComFlatMapEReduce', () => {\r\n    expect(somaComFlatMapEReduce(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComSum', () => {\r\n    expect(somaComSum(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComSumEFlatMap', () => {\r\n    expect(somaComSumEFlatMap(compras)).toBe(result)\r\n  })\r\n})\r\n```\r\n\r\n## Somando com laços\r\n\r\nAgora que já temos os tipos definidos, podemos começar a resolver o desafio. Podemos fazer isso de quatro formas:\r\n\r\n### 1. Usando `for`\r\n\r\nO [`for`](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/for) é um **laço de repetição** que executa um bloco de código até que uma condição seja satisfeita.\r\n\r\n```typescript\r\nfunction somaComFor(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (let i = 0; i < compras.length; i++) {\r\n    for (let j = 0; j < compras[i].produtos.length; j++) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 2. Usando `for...of`\r\n\r\nO [`for...of`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of) é um **laço de iteração** que itera sobre uma sequência de valores vindos de um [objeto iterável](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol) (que, no nosso caso, é um [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)).\r\n\r\n```typescript\r\nfunction somaComForOf(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (const compra of compras) {\r\n    for (const produto of compra.produtos) {\r\n      soma += produto.qtd * produto.valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 3. Usando `for...in`\r\n\r\nO [`for...in`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in) é um **laço de iteração** que itera sobre as propriedades enumeráveis do tipo _string_ de um objeto, inclusive as herdadas. Estou colocando esta solução aqui somente para mostrar que ela é possível, mas deve ser preterida em relação às outras soluções apresentadas neste artigo.\r\n\r\n```typescript\r\nfunction somaComForIn(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (const i in compras) {\r\n    for (const j in compras[i].produtos) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 4. Usando `while`\r\n\r\nO [`while`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/while) é um **laço de repetição** que executa um bloco de código até que uma condição seja satisfeita.\r\n\r\n```typescript\r\nfunction somaComWhile(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  let i = 0\r\n  while (i < compras.length) {\r\n    let j = 0\r\n    while (j < compras[i].produtos.length) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n      j++\r\n    }\r\n    i++\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n## Somando com métodos de `Array`\r\n\r\n### 1. Usando `Array.prototype.forEach`\r\n\r\nO [`Array.prototype.forEach`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach) é um método que executa uma função para cada elemento do array.\r\n\r\n```typescript\r\nfunction somaComForEach(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  compras.forEach(compra => {\r\n    compra.produtos.forEach(produto => {\r\n      soma += produto.qtd * produto.valor_unitario\r\n    })\r\n  })\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 2. Usando `Array.prototype.reduce`\r\n\r\nO [`Array.prototype.reduce`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce) é um método que executa uma função para cada elemento do array, retornando um único valor.\r\n\r\n```typescript\r\nfunction somaComReduce(compras: Compra[]): number {\r\n  return compras.reduce((soma, compra) => {\r\n    return (\r\n      soma +\r\n      compra.produtos.reduce((soma, produto) => {\r\n        return soma + produto.qtd * produto.valor_unitario\r\n      }, 0)\r\n    )\r\n  }, 0)\r\n}\r\n```\r\n\r\nMas, podemos torná-la ainda melhor usando o [`Array.prototype.flatMap`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap):\r\n\r\n```typescript\r\nfunction somaComFlatMapEReduce(compras: Compra[]): number {\r\n  return compras\r\n    .flatMap(compra => compra.produtos)\r\n    .reduce((soma, produto) => soma + produto.qtd * produto.valor_unitario, 0)\r\n}\r\n```\r\n\r\n## Com uma função de ajuda\r\n\r\nPodemos criar uma função genérica que faz a soma de qualquer array da seguinte forma:\r\n\r\n```typescript\r\n/**\r\n * Soma todos os valores de um array. Se o array for de objetos, é possível\r\n * passar uma função para extrair os números que serão somados.\r\n *\r\n * @example soma([1, 2, 3]) // 6\r\n * @example soma([{ valor: 1 }, { valor: 2 }, { valor: 3 }], item => item.valor) // 6\r\n */\r\nfunction sum<T extends number | object>(\r\n  array: T[],\r\n  fn?: (item: T) => number,\r\n): number {\r\n  return array.reduce(\r\n    (acumulador, item) => acumulador + (fn ? fn(item) : (item as number)),\r\n    0,\r\n  )\r\n}\r\n```\r\n\r\nE usá-la em conjunto com as soluções já apresentadas:\r\n\r\n```typescript\r\nfunction somaComSumEFlatMap(compras: Compra[]): number {\r\n  return sum(\r\n    compras.flatMap(compra => compra.produtos),\r\n    produto => produto.qtd * produto.valor_unitario,\r\n  )\r\n}\r\n```\r\n\r\nSe tiver alguma sugestão ou alguma outra ideia de como resolver este desafio, conta para mim nos comentários.\r\n\n",
      "tags": [
        "tutorial",
        "typescript",
        "algorithms"
      ],
      "translates": null
    },
    {
      "id": "5d4agn9wp8tkd45",
      "title": "Finding the greatest common divisor in TypeScript",
      "slug": "finding-the-greatest-common-divisor-in-typescript",
      "locale": "en-US",
      "created": "2024-01-12T16:31:36.266Z",
      "updated": "2024-01-25T13:55:08.252Z",
      "content": "First described in the classic geometry book *Elements*, by the ancient Greek mathematician Euclid (ca. 300 BC, at the book VII, proposition 2), the method of finding de greatest common divisor between the positive numbers $a$ and $b$, being $a > b$ consists on the knowledge that the common divisors of $a$ and $b$ are the same of $a - b$ and $b$. Therefore, we can find this greatest common divisor by replacing the largest number ($a$) by the different between the two numbers ($a - b$), repeatedly, until the two numbers are equal. In TypeScript, we can do that like this:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // When `a` is equal to `b`, return the result\r\n  if (a === b) {\r\n    return a\r\n  }\r\n\r\n  // When `a` is bigger than b, calculate the the GCD again\r\n  // with the new `a` being `a - b`.\r\n  if (a > b) {\r\n    return gcd(a - b, b)\r\n  }\r\n\r\n  // If the new `b` is bigger than `a`,\r\n  // subtract a from it.\r\n  return gcd(a, b - a)\r\n}\r\n```\r\n\r\nThis method can be very slow if the difference between $a$ and $b$ is too large. Thankfully, there's another method to find the greatest common divisor between two numbers, that can be described as follows:\r\n\r\n1. In order to find the greatest common divisor between $a$ and $b$, being $a > b$, perform the division between the two numbers. This operation will give a quotient and a remainder (that we will call $q$ and $r$, respectively). Thus, $a$ can be described as $a = q \\times b + r$;\r\n2.  If $r$ is equal to 0, we stop, because we found that the greatest common divisor of $a$ and $b$ is $b$. Otherwise, we go back to step 1, making $b$ the new $a$ and $r$ will be the new $b$.\r\n\r\nNow, we can start with the implementation of the algorithm above:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // First, we take the remainder between the division of a and b:\r\n  const r = a % b\r\n  \r\n  // If the remainder is equal to zero, it means that we already found the\r\n  // greatest common divisor, therefore, we return b:\r\n  if (r === 0) {\r\n    return b\r\n  }\r\n  \r\n  // If the remainder is not equal to 0, we call the function again\r\n  // with the new values for a and b:\r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nThe implementation is very straightforward and can be read exactly as is described in steps 1 and 2. We can make the function simpler, by checking, directly, if $b$ is equal to zero and only doing the remainder operation afterwards. Therefore, if the function receive a $b$ that is equal to zero, we will know that $a$ is the greatest common divisor:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  if (b === 0) {\r\n    return a\r\n  }\r\n  \r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nThis variant is called *Euclidean algorithm* (in contrast of the first one, which is the *Euclid's algorithm*) and it significantly faster than the first implementation.\r\n\r\n## Alternative implementations\r\n\r\nWe can also take a different approach. Instead of calling our `gcd` function recursively, we can implement our function using a `while` loop (analogous to our first implementation above):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Run this loop while a is different of b\r\n  while (a !== b) {\r\n    if (a > b) {\r\n      // Subtracts b from a while a is bigger than b\r\n      a = a - b\r\n      // Go to the next loop\r\n      continue\r\n    }\r\n    // Subtracts a from b when a <= b\r\n    b = b - a\r\n  }\r\n  // Returns the greatest common divisor between a and b\r\n  return a\r\n}\r\n```\r\n\r\nAnd this is another way (analogous to our second implementation above):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Run this loop while `b` is different from 0\r\n  while (b !== 0) {\r\n    // Save the new value for a in a temporary variable\r\n    const newA = b\r\n    // Set b to the modulo of a and b (the remainder of the division between a and b)\r\n    b = a % b\r\n    // Set a to its new value before the next loop\r\n    a = newA\r\n  }\r\n  \r\n  // Now that b is equal to 0, we know that a is the greatest common divisor\r\n  return a\r\n}\r\n```\r\n\r\n## Finding the greatest common between three or more numbers\r\n\r\nThe greatest  of three or more numbers is equal the product of the prime factors common to all the numbers (we will explore more of that in a future article), but, you can also calculate the greatest common divisor between pairs of this list of numbers with the same functions we have showed already. So, let's refactor our `gcd` function to receive multiple parameters:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b)\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Just to be sure, sort numbers in descendant order:\r\n      .sort((a, b) => b - a)\r\n      // Call `calculateGcd` for each pair in the numbers array:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\r\n\r\n## Validating our input\r\n\r\nLet's guarantee that our functions should always receive, at least, two numbers and that all numbers must not be negative:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  if (numbers.length < 2) {\r\n    throw new Error(\"You must pass, at least, 2 numbers\")\r\n  }\r\n\r\n  if (numbers.some((number) => number < 0)) {\r\n    throw new Error(\"The numbers must be >= 0\")\r\n  }\r\n\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b);\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Just to be sure, sort numbers in descendant order:\r\n      .sort((a, b) => b - a)\r\n      // Call `calculateGcd` for each pair in the numbers array:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\n",
      "tags": [
        "typescript",
        "mathematic",
        "javascript"
      ],
      "translates": "vfb16zvqx9d6eq8"
    },
    {
      "id": "7wlztbazb3q2ovr",
      "title": "Desenvolvendo APIs fortemente tipadas de ponta a ponta com tRPC",
      "slug": "desenvolvendo-apis-fortemente-tipadas-de-ponta-a-ponta-com-trpc",
      "locale": "pt-BR",
      "created": "2023-10-10T17:44:09.835Z",
      "updated": "2023-10-10T17:46:27.097Z",
      "content": "O desenvolvimento de <abbr title=\"Application Programming Interface\">API</abbr>s consiste em boa parte do trabalho feito por profissionais de tecnologia (pelo menos daqueles que trabalham com a web) e, ao longo do tempo, surgiram diversos padrões para ajudar a lidar com a complexidade de se desenvolver tais APIs, como <abbr title=\"Representational State Transfer Application Programming Interface\">REST</abbr>, GraphQL e o <abbr title=\"Remote Procedure Call\">RPC</abbr>. Neste artigo, irei tratar do último, usando o [tRPC](https://trpc.io/).\r\n\r\n## Mas o que é <abbr title=\"Remote Procedure Call\">RPC</abbr>?\r\n\r\nRPC (_Remote Procedure Call_ - em português: chamada de função remota) é um mecanismo de comunicação entre dois computadores, onde um pode ser identificado como _cliente_ e o outro por ser identificado como _servidor_. Do ponto de vista do cliente, chamar uma RPC é apenas uma questão de chamar uma função com seus devidos argumentos e aguardar uma resposta, a fim de continuar a execução do programa.\r\n\r\n![Diagrama de uma chamada de função remota (RPC)](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hzx0azc3l9qcathciv8o.png)\r\n\r\nE por que alguém faria isso? Ora, para distribuir seu sistema em servidores distintos, no momento que essa distribuição fizer sentido para o desenvolvimento do sistema.\r\n\r\n## Criando uma API com JavaScript e o padrão RPC\r\n\r\nAgora que já sabemos o que é RPC, vamos criar uma API simples que tira proveito deste padrão, usando o [Fastify](https://fastify.dev/)). Desse modo poderemos entender melhor o padrão RPC com um exemplo prático e, de quebra, entender como o tRPC funciona.\r\n\r\nVamos criar uma API que irá criar, ler, atualizar e excluir itens em uma lista de tarefa. Vamos começar com o código básico do nosso servidor. Atente-se aos comentários do código abaixo:\r\n\r\n```javascript\r\n// server/src/index.js\r\nimport Fastify from 'fastify'\r\n\r\n// Neste arquivo, definiremos todas as procedures disponíveis\r\n// na nossa API.\r\nimport * as procedures from './procedures.js'\r\n\r\nconst fastify = Fastify()\r\n\r\n// Nossa API terá um único endpoint: /rpc e\r\n// só aceita requisições do tipo POST.\r\nfastify.post('/rpc', async (req, res) => {\r\n  // Toda requisição para /rpc deverá informar\r\n  // qual procedure deseja chamar no corpo da requisição.\r\n  if (!req.body?.procedure) {\r\n    res.status(400).send({\r\n      title: 'Faltam parâmetros obrigatórios',\r\n      details: 'O parâmetro \"procedure\" é obrigatório.'\r\n    })\r\n  }\r\n\r\n  const procedure = procedures[req.body.procedure]\r\n  \r\n  // Se a procedure não estiver definida, retorna um erro\r\n  if (!procedure || typeof procedure !== 'function') {\r\n    return res.status(404).send({\r\n      title: 'Procedure não encontrada',\r\n      details: `A procedure ${req.body.procedure} não foi encontrada.`\r\n    })\r\n  }\r\n\r\n  try {\r\n    // Chama a procedure com os argumentos, também\r\n    // passados no corpo da requisição\r\n    const response = procedure?.(req.body.args)\r\n\r\n    // Eu espero que toda procedure retorne um objeto\r\n    // com _status_ e _data_.\r\n    return res.status(response?.status || 200).send(response?.data)\r\n  } catch (error) {\r\n    return res.status(error?.code || 500).send({\r\n      title: error?.title || 'Erro',\r\n      details: error?.message || 'Ocorreu um erro.'\r\n    })\r\n  }\r\n})\r\n\r\n// Inicia o servidor\r\ntry {\r\n  await fastify.listen({ port: 3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n\r\n```\r\n\r\nAdicionamos as nossas _procedures_:\r\n\r\n```javascript\r\n// server/src/procedures.js\r\n\r\n// Criamos um classe de erro personalizada\r\n// só para as nossas procedures.\r\nclass ProcedureError extends Error {\r\n  constructor(message, code, title) {\r\n    super(message)\r\n    this.title = title\r\n    this.code = code\r\n  }\r\n}\r\n\r\n// \"Banco de dados\"\r\nexport let tarefas = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\n// Funções de CRUD\r\n\r\nexport const getTarefas = () => {\r\n  return {\r\n    status: 200,\r\n    data: tarefas,\r\n  }\r\n}\r\n\r\nexport const getTarefa = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError('O id é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n  if (!tarefa) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  return {\r\n    status: 200,\r\n    data: tarefa,\r\n  }\r\n}\r\n\r\nexport const addTarefa = (title) => {\r\n  if (!title) {\r\n    throw new ProcedureError('O título é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const id = tarefas.length + 1\r\n  const tarefa = {\r\n    id,\r\n    title,\r\n  }\r\n\r\n  tarefas.push(tarefa)\r\n\r\n  return {\r\n    status: 201,\r\n    data: { id },\r\n  }\r\n}\r\n\r\nexport const updateTarefa = ({ id, title }) => {\r\n  if (!id || !title) {\r\n    throw new ProcedureError('O id e o título são obrigatórios', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas[index].title = title\r\n\r\n  return {\r\n    status: 200,\r\n  }\r\n}\r\n\r\nexport const deleteTarefa = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError('O id é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n  return {\r\n    status: 204,\r\n  }\r\n}\r\n```\r\n\r\nVamos iniciar a nossa API com `node src/index.js` e testar a chamada às nossas procedures. Vou usar o [`curl`](url) neste exemplo pois já que estamos usando um emulador de terminal, mas fique a vontade para usar a ferramenta que preferir. Ah, não se esqueça que todas as nossas requisições são do tipo `POST`:\r\n\r\n```bash\r\ncurl --json '{\"procedure\": \"getTarefas\"}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"getTarefa\", \"args\": 1}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"updateTarefa\", \"args\": {\"id\": 1, \"title\": \"Novo título\"}}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"addTarefa\", \"args\": \"Nova tarefa\"}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"deleteTarefa\", \"args\": 4}' http://localhost:3000/rpc\r\n```\r\n\r\n## Adicionando TypeScript\r\n\r\nComo queremos uma API cujos tipos possam ser compartilhados do servidor para o cliente, vamos converter o nosso código JavaScript para TypeScript, da seguinte forma (e adicionar algumas melhorias ao mesmo tempo):\r\n\r\n```typescript\r\n// server/src/errors.ts\r\n\r\n// Vamos separar a nossa classe ProcedureError\r\n// em seu próprio arquivo:\r\n\r\nexport class ProcedureError extends Error {\r\n  code: number\r\n  title: string | undefined\r\n\r\n  constructor(message: string, code: number, title?: string) {\r\n    super(message)\r\n    this.title = title\r\n    this.code = code\r\n  }\r\n}\r\n```\r\n\r\nAgora, criamos o arquivo `app.ts` para colocar o código de configuração do servidor, excluindo a parte que inicia o servidor. Novamente, leia os comentários com atenção:\r\n\r\n```typescript\r\n// server/src/app.ts\r\n\r\nimport Fastify from 'fastify'\r\nimport * as procedures from './procedures'\r\nimport { ProcedureError } from './errors'\r\n\r\nexport const app = () => {\r\n  const fastify = Fastify()\r\n   \r\n  // Adiciona os tipos esperados no Body da requisição.\r\n  fastify.post<{\r\n    Body: {\r\n      procedure: string\r\n      args?: any\r\n    }\r\n  }>('/rpc', async (req, res) => {\r\n    if (!req.body?.procedure) {\r\n      res.status(400).send({\r\n        title: 'Faltam parâmetros obrigatórios',\r\n        details: 'O parâmetro \"procedure\" é obrigatório.'\r\n      })\r\n    }\r\n    \r\n    // Fazemos coerção do tipo das procedures.\r\n    const procedure = procedures?.[req.body?.procedure as keyof typeof procedures]\r\n\r\n    if (!procedure || typeof procedure !== 'function') {\r\n      return res.status(404).send({\r\n        title: 'Procedure não encontrada',\r\n        details: `A procedure ${req.body.procedure} não foi encontrada.`\r\n      })\r\n    }\r\n\r\n    try {\r\n      const response = procedure(req.body.args)\r\n      return res.status(response?.status || 200).send(response?.data)\r\n    } catch (error) {\r\n     // Definimos o tipo de erro esperado.\r\n      const { code, title, message } = error as ProcedureError\r\n\r\n      return res.status(code|| 500).send({\r\n        title: title || 'Erro',\r\n        details: message || 'Ocorreu um erro.'\r\n      })\r\n    }\r\n  })\r\n\r\n  return fastify\r\n}\r\n```\r\n\r\nO arquivo que inicializa o servidor:\r\n\r\n```typescript\r\n// server/src/server.ts\r\n\r\nimport { app } from './app'\r\n\r\nconst server = app()\r\n\r\ntry {\r\n  server.listen({ port: 3000 })\r\n} catch (err) {\r\n  server.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE por fim, adicionaremos os tipos às nossas procedures:\r\n\r\n```typescript\r\n// server/src/procedures.ts\r\n\r\nimport { ProcedureError } from './errors'\r\n\r\n// O tipo de estrutura de dados do nosso CRUD.\r\ntype Tarefa = {\r\n  id: number\r\n  title: string\r\n}\r\n\r\nexport let tarefas: Tarefa[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\n// Tipo que define os argumentos e os retornos\r\n// esperados de cada procedure.\r\n// - TData é o tipo genérico que define o retorno dos dados.\r\n// - TArgs é o tipo genérico que define os argumentos que a procedure recebe.\r\ntype Procedure<TData = unknown, TArgs = undefined> = (args?: TArgs) => {\r\n  status: number\r\n  data?: TData\r\n}\r\n\r\nexport const getTarefas: Procedure<Tarefa[]> = () => {\r\n  return {\r\n    status: 200,\r\n    data: tarefas,\r\n  }\r\n}\r\n\r\nexport const getTarefa: Procedure<Tarefa, Tarefa['id']> = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError(\r\n      'O id é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n  if (!tarefa) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  return {\r\n    status: 200,\r\n    data: tarefa,\r\n  }\r\n}\r\n\r\nexport const addTarefa: Procedure<{ id: Tarefa['id'] }, Tarefa['title']> = (title) => {\r\n  if (!title) {\r\n    throw new ProcedureError(\r\n      'O título é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const id = tarefas.length + 1\r\n  const tarefa = {\r\n    id,\r\n    title,\r\n  }\r\n\r\n  tarefas.push(tarefa)\r\n\r\n  return {\r\n    status: 201,\r\n    data: { id },\r\n  }\r\n}\r\n\r\nexport const updateTarefa: Procedure<undefined, Tarefa> = (args) => {\r\n  if (!args?.id || !args?.title) {\r\n    throw new ProcedureError(\r\n      'O id e o título são obrigatórios',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === args.id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${args.id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas[index].title = args.title\r\n\r\n  return {\r\n    status: 200,\r\n  }\r\n}\r\n\r\nexport const deleteTarefa: Procedure<undefined, Tarefa['id']> = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError(\r\n      'O id é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n  return {\r\n    status: 204,\r\n  }\r\n}\r\n\r\n// Exportamos os tipos da nossa API\r\n// para serem usados do lado  do cliente.\r\nexport type API = {\r\n  getTarefas: typeof getTarefas\r\n  getTarefa: typeof getTarefa\r\n  addTarefa: typeof addTarefa\r\n  updateTarefa: typeof updateTarefa\r\n  deleteTarefa: typeof deleteTarefa\r\n}\r\n```\r\n\r\nCom tudo pronto, agora podemos criar o código do nosso cliente e a única coisa que irei usar do código do servidor é o tipo `API` (que definimos no arquivo `src/procedures.ts`). Claro, para fazer isso, o código do cliente ou do servidor devem estar no mesmo [monorepo](https://monorepo.tools/) ou serem compartilhados via [git submodules](https://git-scm.com/book/en/v2/Git-Tools-Submodules):\r\n\r\n```typescript\r\n// client/src/index.ts\r\n\r\n// Este é o caminho do código servidor, que pode estar no mesmo \r\n// monorepo ou pasta, a depender da sua preferência.\r\nimport type { API } from '../../server/src/procedures'\r\n\r\n// A função query é tudo que você precisará para\r\n// interagir com as procedures do servidor.\r\nconst query = <Procedure extends keyof API>(\r\n  procedure: Procedure,\r\n  ...args: Parameters<API[Procedure]>\r\n): Promise<ReturnType<API[Procedure]>> => {\r\n  return fetch('http://localhost:3000/rpc', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ procedure, args: args[0] }),\r\n  }).then((response) => response.json()) as any\r\n}\r\n```\r\n\r\nE agora, temos uma função que documenta todas as funções disponíveis no nosso servidor (e seus respectivos argumentos) apenas com seus tipos:\r\n\r\n![Mostrando o autocomplete das funções do servidor](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ujxxpvxxqaxxizgo6dvh.png)\r\n\r\nÉ importante notar que estamos utilizando `import type { API } from '../../server/src/procedures'` (ênfase no `type`), pois, depois de compilar o nosso código para JavaScript, não queremos nenhum código do servidor disponível no cliente.\r\n\r\nAgora que entendemos o que é RPC e construímos nossa própria API com este padrão, vamos ver como o [tRPC](https://trpc.io/) pode nos ajudar.\r\n\r\n## Introduzindo o tRPC\r\n\r\nO tRPC pega o conceito de uma API RPC que acabamos de implementar (e que foi inicialmente apresentado pelo Colin McDonell em seu [blog](https://colinhacks.com/essays/painless-typesafety)) e adiciona uma experiência de desenvolvimento ainda melhor, com validação dos dados de entrada e saída com [Zod](https://github.com/colinhacks/zod) (ou outra biblioteca de validação que você prefira) e até a geração do código do cliente com [@tanstack/query](https://tanstack.com/query/latest) e subscrições para envio de dados em tempo real via WebSockets. Dito isto, vamos refazer a API que construímos acima usando [tRPC](https://trpc.io/) e Fastify:\r\n\r\n```typescript\r\n// server/src/app.ts\r\nimport Fastify from 'fastify'\r\nimport { fastifyTRPCPlugin } from '@trpc/server/adapters/fastify'\r\nimport { appRouter } from './router'\r\n\r\nexport const app = () => {\r\n  const fastify = Fastify({ maxParamLength: 5000 })\r\n\r\n  fastify.register(fastifyTRPCPlugin, {\r\n    prefix: '/trpc',\r\n    trpcOptions: { router: appRouter},\r\n  });\r\n\r\n  return fastify\r\n}\r\n```\r\n\r\n```typescript\r\n// server/src/router.ts\r\nimport { initTRPC } from '@trpc/server'\r\nimport { z } from 'zod'\r\n\r\ntype Tarefa = {\r\n  id: number\r\n  title: string\r\n}\r\n\r\nexport let tarefas: Tarefa[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\nexport const t = initTRPC.create()\r\nexport const appRouter = t.router({\r\n  // Toda operação de busca de dados é uma query\r\n  // ---------------------\\/\r\n  getTarefas: t.procedure.query(() => tarefas),\r\n  // Podemos tipar a entrada (e a saída de dados)\r\n  // usando a excelente biblioteca Zod.\r\n  getTarefa: t.procedure.input(z.number()).query(({ input: id }) => {\r\n    const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n    if (!tarefa) {\r\n      throw new Error('Tarefa não encontrada')\r\n    }\r\n\r\n    return tarefa\r\n  }),\r\n  // Toda operação de alteração de dados é uma mutation\r\n  // --------------------------------------\\/\r\n  addTarefa: t.procedure.input(z.string()).mutation(({ input: title }) => {\r\n    const id = tarefas.length + 1\r\n\r\n    tarefas.push({ id, title })\r\n\r\n    return id\r\n  }),\r\n  updateTarefa: t.procedure\r\n    .input(z.object({ id: z.number(), title: z.string() }))\r\n    .mutation(({ input: { id, title } }) => {\r\n      const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n      if (!tarefa) {\r\n        throw new Error('Tarefa não encontrada')\r\n      }\r\n\r\n      tarefa.title = title\r\n\r\n      return id\r\n    }),\r\n  deleteTarefa: t.procedure.input(z.number()).mutation(({ input: id }) => {\r\n    const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n    if (!tarefa) {\r\n      throw new Error('Tarefa não encontrada')\r\n    }\r\n\r\n    tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n    return id\r\n  }),\r\n})\r\n\r\n// Exporta a definição de tipos do router\r\nexport type AppRouter = typeof appRouter\r\n```\r\n\r\n```typescript\r\nimport { app } from './app'\r\n\r\nconst server = app()\r\n\r\ntry {\r\n  server.listen({ port: 3000 })\r\n} catch (err) {\r\n  server.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você leu os comentários do arquivo `server/src/router.ts` verá que o tRPC utiliza o mesmo modelo mental de operações do GraphQL, chamando as operações de busca de dados de _query_ e as operações de alteração de dados de _mutation_ (inclusive, pode-se dizer que o GraphQL é uma implementação de RPC que adiciona uma linguagem de busca e a documentação das entidades que são disponibilizadas pela API).\r\n\r\nNo cliente, podemos utilizar o serviço básico do tRPC (similar ao que fizemos em nossa função `query` no exemplo anterior:\r\n\r\n![Tipagem dos endpoint do cliente do tRPC](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gagmnv6duxkuzbu4lthj.png)\r\n\r\nOu, caso nosso frontend seja feito em React ou Next.js, podemos usar o cliente que se aproveita das facilidades do [@tanstack/query](https://tanstack.com/query/latest).\r\n\r\nSe você leu até e quer mexer no código utilizado neste artigo, acesse [este repositório](https://github.com/DouglasdeMoura/rpc-typesafe-api) no GitHub. Você também pode ver a [minha palestra no NodeBR #61](https://www.youtube.com/watch?v=tVMmVDELuLE) onde faço uma introdução ao tRPC.\r\n\r\n### Referências\r\n- [Desenvolvendo APIs fortemente tipadas de ponta a ponta com tRPC - NodeBR #61](https://www.youtube.com/watch?v=tVMmVDELuLE);\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "typescript",
        "API",
        "rpc"
      ],
      "translates": null
    },
    {
      "id": "k9f6b2e2nioulc6",
      "title": "Usando fetch com TypeScript",
      "slug": "usando-fetch-com-typescript",
      "locale": "pt-BR",
      "created": "2023-06-02T16:47:38.794Z",
      "updated": "2023-06-04T19:57:59.762Z",
      "content": "Como [`fetch`](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API) é praticamente [universalmente suportado](https://caniuse.com/?search=fetch) nos navegadores web mais utilizados, podemos descartar, com segurança, o uso do [Axios](https://axios-http.com/) e outras bibliotecas similares em favor do `fetch`. Neste artigo, vou criar uma pequena abstração para o `fetch` que adiciona algumas conveniências para melhorar a experiência do desenvolvedor.\r\n\r\n## O código\r\n\r\nPrimeiro, vou criar uma função base a partir da qual todas as outras serão derivadas:\r\n\r\n```typescript\r\n// Estende a classe de erro para gerar erros de HTTP (qualquer resposta com status > 299)\r\nclass HTTPError extends Error {}\r\n\r\n//            Um tipo genérico para \"tipar\" a resposta\r\n// -----------\\/\r\nconst query = <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n  fetch(url, init).then((res) => {\r\n    if (!res.ok)\r\n      throw new HTTPError(res.statusText, { cause: res })\r\n\r\n    return res.json() as Promise<T> // <--- Aplicando o tipo genérico\r\n  })\r\n```\r\n\r\n  \r\nNo código acima, fizemos o seguinte:\r\n\r\n1. Criamos uma nova classe `HTTPError`, para lançar [erros HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) conforme eles ocorrem;\r\n2. Utilizamos um [tipo genérico](https://www.typescriptlang.org/docs/handbook/2/generics.html) para poder tipar a resposta da requisição.\r\n\r\nAgora, vamos estender a função `query` para nos permitir serializar e enviar dados em nossas requisições:\r\n\r\n```typescript\r\nconst makeRequest\r\n  // -----------\\/ RequestInit['method'] são os tipos de métodos válidos para a requisição\r\n  = (method: RequestInit['method']) =>\r\n    //     | Esses dois tipos genéricos nos permitem tipar\r\n    //     | o entrada de dados (TBody) e saída (TResponse) da função.\r\n    <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n      query<TResponse>(url, {\r\n        method,\r\n        body: JSON.stringify(body), // <-- Transforma os objetos em uma string\r\n      })\r\n```\r\n\r\nNo código acima, fizemos o seguinte:\r\n\r\n1. Criamos um [encerramento (closure)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) que, primeiramente, recebe o método que desejamos chamar e, em seguida, retorna uma função onde passamos a `url` e o `body` (que, por padrão, é _JSON-stringificado_) da requisição.\r\n\r\nNeste ponto, podemos usar nossas funções recém-criadas da seguinte forma:\r\n\r\n```typescript\r\n// Tipo para a entidade Product\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// Requisitando um único produto\r\nconst product = await query<Product>('https://dummyjson.com/products/1')\r\nconsole.log(product)\r\n\r\n// Cria uma função que faz uma requisição de POST\r\nconst post = makeRequest('POST')\r\n\r\n// Adiciona um novo produto\r\nconst newProduct = await post<Product, Omit<Product, 'id'>>('https://dummyjson.com/products', {\r\n  title: 'New Product',\r\n  description: 'This is a new product',\r\n  price: 100,\r\n  discountPercentage: 0,\r\n  rating: 0,\r\n  stock: 0,\r\n  brand: 'New Brand',\r\n  category: 'New Category',\r\n  images: [],\r\n  thumbnail: '',\r\n})\r\n\r\nconsole.log(newProduct)\r\n\r\n```\r\n\r\nAgora temos um código funcional, mas não muito \"ergonômico\". Acredito que nosso código precisa ser capar de aceitar uma URL base para todas as requisições, cabeçalhos (como um [token de autorização](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)) e um jeito mais fácil de fazer requisições do tipo [`PATCH`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH), [PUT](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT) e [DELETE](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE).\r\n\r\nVamos refatorar o código acima, de modo que adicionar uma URL base e cabeçalhos comuns a todas as requisições:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\nclass HTTPError extends Error {}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then((res) => {\r\n        if (!res.ok)\r\n          throw new HTTPError(res.statusText, { cause: res })\r\n\r\n         return res.json() as Promise<T>\r\n       })\r\n\r\n// Esta é a função onde definimos nossa URL base e nossos cabeçalhos\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // Se precisar adicionar um token no cabeçalho, este é o lugar\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nNo código acima, eu:\r\n\r\n1. Criei a função `createQuery` , um fechamento (closure), permitindo definir uma URL padrão e parâmetros `init` predefinidos;\r\n2. Criei uma nova função `query`, na qual utilizei a função `createQuery` para definir a URL base e os parâmetros padrão que todas as requisições devem ter (observe a função fictícia `getToken` que adiciona um [Bearer Token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) a cada requisição);\r\n3. No final, exportei o objeto `api` com todas as funções comumente usadas para fazer requisições.\r\n\r\nVocê pode querer retornar o corpo de uma requisição que retornou um erro, por exemplo, quando o backend retorna os detalhes padronizados do [problem details](https://datatracker.ietf.org/doc/html/rfc7807). Vejamos como fica o nosso código refatorado:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\n// Estende o retorno da classe HTTPError\r\nclass HTTPError extends Error {\r\n  readonly response: any;\r\n  readonly status: number;\r\n  readonly statusText: string;\r\n\r\n  constructor(status: number, statusText: string, response: any) {\r\n    super(statusText);\r\n    this.status = status;\r\n    this.statusText = statusText;\r\n    this.response = response;\r\n  }\r\n}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <TResponse = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then(async (res) => {\r\n        // Desta vez, pegamos a resposta da requisição mais cedo\r\n        const response = await res.json()\r\n\r\n        if (!res.ok)\r\n          throw new HTTPError(res.status, res.statusText, response);\r\n\r\n         return response as TResponse\r\n       })\r\n\r\n// Esta é a função onde definimos nossa URL base e nossos cabeçalhos\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // Se precisar adicionar um token no cabeçalho, este é o lugar\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nAgora você pode usar seu novo wrapper em torno do `fetch` da seguinte forma:\r\n\r\n```typescript\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// GET https://dummyjson.com/products/1\r\napi\r\n  .get<Product>('/products/1')\r\n  .then(console.log)\r\n  .catch((err) => {\r\n    if (err instanceof HTTPError) {\r\n      // Handle HTTP Errors\r\n      console.error('HTTPError', err);\r\n    }\r\n\r\n    if (err instanceof SyntaxError) {\r\n      // Handle error parsing of the response\r\n      console.error('SyntaxError', err);\r\n    }\r\n\r\n    console.error('Other errors', err);\r\n});\r\n```\r\n\r\n## Considerações finais\r\n\r\nO código acima pode não ter todos os recursos completos de bibliotecas como [Axios](https://axios-http.com/), [redaxios](https://github.com/developit/redaxios), [ky](https://github.com/sindresorhus/ky) ou [wretch](https://github.com/elbywan/wretch), mas na maioria das vezes é tudo o que é necessário ao trabalhar com React usando [SWR](https://swr.vercel.app/) ou [TanStack Query](https://tanstack.com/query/latest) (tanto no frontend quanto no backend). Se quiser, dê sua opinião sobre o código e compartilhe suas melhorias. Este código está disponível neste [gist](https://gist.github.com/DouglasdeMoura/59ce418672d0e33dda7056b382b01de9).\n",
      "tags": [
        "javascript",
        "typescript"
      ],
      "translates": "j5ouuw7zm51z2ts"
    },
    {
      "id": "j5ouuw7zm51z2ts",
      "title": "Using fetch with TypeScript",
      "slug": "using-fetch-with-typescript",
      "locale": "en-US",
      "created": "2023-06-02T12:19:46.717Z",
      "updated": "2023-06-04T19:57:40.482Z",
      "content": "Since [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)) is pratically [universally supported](https://caniuse.com/?search=fetch) on the most used web browsers, we may safely drop the use [Axios](https://axios-http.com/) and other similar libraries in favor of `fetch`. In this article, I'll create a little wrapper for `fetch` that adds some conveniences to improve the developer experience.\r\n\r\n## The code\r\n\r\nFirst, I will create a base function from where all the other shall be derived:\r\n\r\n```typescript\r\n// Extends the error class to throw HTTP Errors (any response with status > 299)\r\nclass HTTPError extends Error {}\r\n\r\n//            A generic type to type the response\r\n// -----------\\/\r\nconst query = <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n  fetch(url, init).then((res) => {\r\n    if (!res.ok)\r\n      throw new HTTPError(res.statusText, { cause: res })\r\n\r\n    return res.json() as Promise<T> // <--- Applying the generic type above\r\n  })\r\n```\r\n\r\nIn the code above, we:\r\n\r\n1. Created a new `HTTPError` class, in order to throw [HTTP Errors](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) as they appear;\r\n2. Use a [generic type](https://www.typescriptlang.org/docs/handbook/2/generics.html) in order to be able to type the response of the request.\r\n\r\nNow, let's extend the query function to enable us to serialize and send data on our requests:\r\n\r\n```typescript\r\nconst makeRequest\r\n  // -----------\\/ RequestInit['method'] is a union of all the possible HTTP methods\r\n  = (method: RequestInit['method']) =>\r\n    //     | Those two generic types enables us to type the\r\n    // \\/--  data input (TBody) and output (TResponse) of the function.\r\n    <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n      query<TResponse>(url, {\r\n        method,\r\n        body: JSON.stringify(body), // <-- JSON Stringify any given object\r\n      })\r\n```\r\n\r\nIn the code above, we:\r\n\r\n1. We build a [closure](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) that, first, receive the method we want to call and then returns a function where we pass the `url` and the `body` (which is, by default, *JSON-stringified*) of the request.\r\n\r\nAt this point, we can use our newly created functions like this:\r\n\r\n```typescript\r\n// Adding type for the Product entity\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// Getting a single product\r\nconst product = await query<Product>('https://dummyjson.com/products/1')\r\nconsole.log(product)\r\n\r\n// Creates a function that makes POST requests\r\nconst post = makeRequest('POST')\r\n\r\n// Adding a new product\r\nconst newProduct = await post<Product, Omit<Product, 'id'>>('https://dummyjson.com/products', {\r\n  title: 'New Product',\r\n  description: 'This is a new product',\r\n  price: 100,\r\n  discountPercentage: 0,\r\n  rating: 0,\r\n  stock: 0,\r\n  brand: 'New Brand',\r\n  category: 'New Category',\r\n  images: [],\r\n  thumbnail: '',\r\n})\r\n\r\nconsole.log(newProduct)\r\n\r\n```\r\n\r\nFully functional, but not very \"ergonomic\". I believe that our code should also be able to accept a base URL for all the requests, make it easier to add things on the header (like an [authorization token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)) and an easy way to make [`PATCH`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH), [`PUT`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT) and [`DELETE`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE) requests.\r\n\r\nLet's refactor the code above in order to make it easy to add a base URL and pass a common header to all requests:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\nclass HTTPError extends Error {}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <T = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then((res) => {\r\n        if (!res.ok)\r\n          throw new HTTPError(res.statusText, { cause: res })\r\n\r\n         return res.json() as Promise<T>\r\n       })\r\n\r\n// This is the function where we define our base URL and headers\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // If you need to add a token to the header, you can do it here.\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nIn the code above, I:\r\n\r\n1. Created a `createQuery` function, a closure where I can set a default [`url`](https://developer.mozilla.org/pt-BR/docs/Web/API/URL) and `init` parameters;\r\n2. Created a new `query` function, where I use the `createQuery` function to define the base URL and the default parameters that all requests should have (note the dummy `getToken` function that adds a [Bearer Token](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) to each request);\r\n3. In the end, I export the `api` object all the commonly used function to make requests.\r\n\r\nYou may want to return the body of a request that returned an error, like, for example, when your backend returns the standardized [problem details](https://datatracker.ietf.org/doc/html/rfc7807). So, the refactored code would be:\r\n\r\n```typescript\r\nimport { getToken } from 'my-custom-auth'\r\n\r\n// Extends the return of the HTTPError class\r\nclass HTTPError extends Error {\r\n  readonly response: any;\r\n  readonly status: number;\r\n  readonly statusText: string;\r\n\r\n  constructor(status: number, statusText: string, response: any) {\r\n    super(statusText);\r\n    this.status = status;\r\n    this.statusText = statusText;\r\n    this.response = response;\r\n  }\r\n}\r\n\r\nconst createQuery =\r\n  (baseURL: RequestInfo | URL = '', baseInit?: RequestInit) =>\r\n    <TResponse = unknown>(url: RequestInfo | URL, init?: RequestInit) =>\r\n      fetch(`${baseURL}${url}`, { ...baseInit, ...init }).then(async (res) => {\r\n        // Now, we get the JSON response early\r\n        const response = await res.json()\r\n\r\n        if (!res.ok)\r\n          throw new HTTPError(res.status, res.statusText, response);\r\n\r\n         return response as TResponse\r\n       })\r\n\r\n// In this function, we define our base URL and headers.\r\nconst query = createQuery(\r\n  'https://dummyjson.com',\r\n  {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${getToken()}`, // If you need to add a token to the header, you can do it here.\r\n    },\r\n  })\r\n\r\n\r\nconst makeRequest = (method: RequestInit['method']) =>\r\n  <TResponse = unknown, TBody = Record<string, unknown>>(url: RequestInfo | URL, body: TBody) =>\r\n    query<TResponse>(url, {\r\n      method,\r\n      body: JSON.stringify(body),\r\n     })\r\n\r\nexport const api = {\r\n  get: query,\r\n  post: makeRequest('POST'),\r\n  delete: makeRequest('DELETE'),\r\n  put: makeRequest('PUT'),\r\n  patch: makeRequest('PATCH'),\r\n}\r\n```\r\n\r\nAnd now, you can use your new wrapper around fetch like this:\r\n\r\n```typescript\r\ntype Product = {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  price: number\r\n  discountPercentage: number\r\n  rating: number\r\n  stock: number\r\n  brand: string\r\n  category: string\r\n  thumbnail: string\r\n  images: string[]\r\n}\r\n\r\n// GET https://dummyjson.com/products/1\r\napi\r\n  .get<Product>('/products/1')\r\n  .then(console.log)\r\n  .catch((err) => {\r\n    if (err instanceof HTTPError) {\r\n      // Handle HTTP Errors\r\n      console.error('HTTPError', err);\r\n    }\r\n\r\n    if (err instanceof SyntaxError) {\r\n      // Handle error parsing of the response\r\n      console.error('SyntaxError', err);\r\n    }\r\n\r\n    console.error('Other errors', err);\r\n});\r\n```\r\n\r\n## Final thoughts\r\n\r\nThe code above is not full-featured as [Axios](https://axios-http.com/), [redaxios](https://github.com/developit/redaxios), [ky](https://github.com/sindresorhus/ky) or [wretch](https://github.com/elbywan/wretch), but, most of the time, it is all need when I'm working with React using [SWR](https://swr.vercel.app/) or [TanStack Query](https://tanstack.com/query/latest) (and on the backend too). Give me your thoughts about the code and show me your improvements (if you want). You can access this code on this [gist](https://gist.github.com/DouglasdeMoura/59ce418672d0e33dda7056b382b01de9).\n",
      "tags": [
        "typescript",
        "javascript"
      ],
      "translates": "k9f6b2e2nioulc6"
    },
    {
      "id": "fccw7a1zbkshukm",
      "title": "Use GitHub actions to publish your package on NPM",
      "slug": "use-github-actions-to-publish-your-package-on-npm",
      "locale": "en-US",
      "created": "2022-10-04T15:00:00.000Z",
      "updated": "2022-12-29T14:51:36.616Z",
      "content": "Recently, I created a package with the [ESLint](https://eslint.org) settings I like to use in my React projects, as I was tired of always having to configure it when I start new React projects. Publishing a NPM package is just a matter of running `npm publish` on the directory of your package (considering, of course, that you already have an NPM account and is authenticated on your terminal). But I wanted to automatize this publishing everytime I created a new release.\r\n\r\nIn order to do that, I used the following GitHub Action:\r\n\r\n```yaml\r\n# File: .github/workflows/npm-publish.yml\r\n\r\n# This workflow will publish a package to NPM when a release is created\r\n# For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages\r\n\r\nname: Publish Package to npmjs\r\n\r\non:\r\n  release:\r\n    types: [created]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/setup-node@v3\r\n        with:\r\n          node-version: 16\r\n          registry-url: https://registry.npmjs.org/\r\n      - run: npm publish\r\n        env:\r\n          NODE_AUTH_TOKEN: ${{secrets.NODE_AUTH_TOKEN}}\r\n```\r\n\r\nIf you read the YAML file above (that you should put on the `.github/workflows/npm-publish.yml` directory of your git repository), you should have noted that the environment variable `NODE_AUTH_TOKEN` should be defined. Create a new automation access token on the control panel of NPM:\r\n\r\n\r\n1. Access your NPM account and click in \"Access tokens\":\r\n![Access tokens on NPM](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hddbdiev3xhhrl0s09km.png)\r\n\r\n2. Name your new access token and select the \"Automation\" type for it:\r\n\r\n\r\n![Creating access token on NPM](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4oect8iqd17igcbnrrg1.png)\r\n\r\n3. Go to your GitHub repository, click in \"Settings > Secrets > Actions > New repository secret\", name it as NODE_AUTH_TOKEN and paste the access token you just got from NPM:\r\n\r\n\r\n![Create a new secret on the GitHub repository](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wv7pw3j8elyjeoaeehif.png)\r\n\r\n4. Create a new release for your package. This should trigger our GitHub Action and publish to NPM.\r\n\r\n\r\n![Creating a new release on GitHub](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/31fsgle783ujl75stld1.png)\n",
      "tags": [
        "javascript",
        "typescript",
        "npm"
      ],
      "translates": null
    },
    {
      "id": "x09m6ctgj8r7ebz",
      "title": "Create beautiful placeholders for your images ",
      "slug": "create-beautiful-placeholders-for-your-images",
      "locale": "en-US",
      "created": "2022-09-29T15:00:00.000Z",
      "updated": "2023-08-12T13:33:26.541Z",
      "content": "Have you ever faced the situation where the layout of your beautifully crafted interface \"breaks\" if the image (depeding on the quality of your user's connections) takes some time to load? Something like the example below:\r\n\r\n[<img src=\"https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif\" />](https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif)\r\n\r\nThis happens because the browser has no clue about the dimensions of the image you want to display on your content beforehand.\r\n\r\nThe easiest way to solve this issue is using the [`aspect-ratio`](https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio) property to tell the browser how much space (based on the user's size display) it should reserve before the image is loaded. Check the difference:\r\n\r\n```css\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n\r\n/*\r\n  Here, I'm using the image's width and height,\r\n  but you can come up with diference aspect ratios.\r\n*/\r\n  aspect-ratio: 760 / 235;\r\n}\r\n```\r\n\r\n[<img src=\"https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif\" width=\"100%\" />](https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif)\r\n\r\nSo, it solves the sudden layout change, but we can do even better do better adding an animated background.\r\n\r\n## Displaying an animated background\r\n\r\nYou can give a hint for the user that the blank space on your app should be filled with something by adding a background color or animating the transition between two o more colors, like in the example below:\r\n\r\n<iframe height=\"300\" style={{width:'100%'}} scrolling=\"no\" title=\"Animated placeholder\" src=\"https://codepen.io/douglasdemoura/embed/RwyWzEr?default-tab=\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\r\n  See the Pen <a href=\"https://codepen.io/douglasdemoura/pen/RwyWzEr\">\r\n  Animated placeholder</a> by Douglas Moura (<a href=\"https://codepen.io/douglasdemoura\">@douglasdemoura</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.\r\n</iframe>\r\n\r\nAnd our code will look like this:\r\n\r\n```css\r\n:root {\r\n  /*\r\n  Set the default aspect ratio. You can change\r\n  this CSS variable per class/id or event\r\n  creating diferente classes.\r\n  */\r\n  --aspect-ratio: 16/9;\r\n}\r\n\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n/* Put all your images inside this container */\r\n.image-container {  \r\n  aspect-ratio: var(--aspect-ratio);\r\n  position: relative;\r\n  animation: background-loading .8s linear infinite alternate;\r\n}\r\n\r\n.image-container img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n/* The placeholder animation */\r\n@keyframes background-loading {\r\n  0% {\r\n    background-color: #f9fafb;\r\n  }\r\n  100% {\r\n    background-color: #d1d5db;\r\n  }\r\n}\r\n```\r\n\r\nAnd this is the result (check the code on [CodePen](https://codepen.io/douglasdemoura/pen/RwyWBOR)):\r\n\r\n<img src=\"https://media.giphy.com/media/9yYPBL1X9wnAKzhVfE/giphy.gif\" />\r\n\r\nYet, this can be even better by displaying a colorful background that matches the image colors.\r\n\r\n## Displaying colorful image placeholders\r\n\r\n[BlurHash](https://github.com/woltapp/blurhash) is a compact representation of a placeholder for a image. You use it to process your image before sending it to the browser and you'll get a string of 20-30 characters that the algorithm can turn into a blurred image that you can show to your user before the actual image is downloaded. Check how it looks like:\r\n\r\n<img src=\"https://media.giphy.com/media/1RSpYFokgWI2tKRKHk/giphy.gif\" />\r\n\r\nI have implemented that last effect in React for the sake of simplicity and time, but you can re-implement it in whatever framework you like. Just pay attention to the `onLoad` event that changes the opacity of the image.\r\n\r\n<iframe src=\"https://stackblitz.com/edit/vitejs-vite-enczef?embed=1&file=src/Image.module.css\" height=\"500\" style={{width: '100%'}} scrolling=\"no\" title=\"Animated placeholder\"  frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"></iframe>\n",
      "tags": [
        "javascript",
        "typescript",
        "react",
        "tutorial"
      ],
      "translates": null
    },
    {
      "id": "7p8vdcau7gg894b",
      "title": " How to extend HTML elements with React",
      "slug": "how-to-extend-html-elements-with-react",
      "locale": "en-US",
      "created": "2022-09-26T00:00:00.000Z",
      "updated": "2022-12-29T14:51:44.872Z",
      "content": "Most of the work needed to create custom HTML elements that fit the design system of your company resides styling and adding your own props. So, let's say you have to create a custom `Button`, that should receive a `children` prop and should have DOM access via [ref](https://reactjs.org/docs/refs-and-the-dom.html). That's how you can do it:\r\n\r\n```typescript\r\nimport { forwardRef } from 'react';\r\n\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n} & React.PropsWithChildren<React.ComponentPropsWithRef<'button'>>;\r\n\r\nconst Button: React.FC<ButtonProps> = forwardRef(\r\n  ({ loading, children, ...props }, ref) => {\r\n    return (\r\n      <button data-loading={loading} {...props} ref={ref}>\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Button;\r\n```\r\n\r\nWe use the [`PropsWithChildren`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L822) generic interface that gives the `children` prop and receive `React.ComponentPropsWithRef<'button'>`, that passes all props that a [`button`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button) can receive.\r\n\r\nOf course, you can change the interface [`ComponentPropsWithRef`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L834) for [`ComponentPropsWithoutRef`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L838) and drop the [`forwardRef`](https://reactjs.org/docs/forwarding-refs.html) function on the definition of your component (although, I do not recomend it - _refs_ may be useful later on your application):\r\n\r\n```typescript\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n} & React.PropsWithChildren<React.ComponentPropsWithoutRef<'button'>>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ loading, children, ...props }) => {\r\n  return (\r\n    <button data-loading={loading} {...props} ref={ref}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n```\r\n\r\nYou may, even, drop the interface `PropsWithChildren`, but on doing that, you'd have to implement the `children` prop by yourself:\r\n\r\n```typescript\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n  children?: React.ReactNode;\r\n} & React.ComponentPropsWithoutRef<'button'>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ loading, children, ...props }) => {\r\n  return (\r\n    <button data-loading={loading} {...props} ref={ref}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n```\r\n\r\nWant more? Check the live implementation on [StackBlitz](https://stackblitz.com/edit/vitejs-vite-warc15?file=src%2Fcomponents%2Fbutton.tsx&terminal=dev)\r\n\r\n\n",
      "tags": [
        "javascript",
        "typescript",
        "react"
      ],
      "translates": null
    }
  ],
  "Computadores": [
    {
      "id": "atlbwc7th1nnlm9",
      "title": "Aprenda como os programas são executados no computador",
      "slug": "aprenda-como-os-programas-sao-executados-no-computador",
      "locale": "pt-BR",
      "created": "2023-07-29T23:57:35.952Z",
      "updated": "2023-07-30T00:05:18.961Z",
      "content": "[Neste delicioso artigo](https://cpu.land/) (em inglês),  [Lexi Mattick](https://kognise.dev/) (juntamente com o [Hack Club](https://hackclub.com/)) descreve como funciona multiprocessamento, o que são [_system calls_](https://en.wikipedia.org/wiki/System_call), como os computadores gerenciam sua memória e como o Linux carrega seus executáveis. Tenho certeza que vocês aprenderão muito.\n",
      "tags": [
        "Computadores",
        "Dicas"
      ],
      "translates": null
    }
  ],
  "Dicas": [
    {
      "id": "1maxkvari818nwt",
      "title": "Corrigindo a configuração do teclado americano no Ubuntu",
      "slug": "corrigindo-a-configuracao-do-teclado-americano-no-ubuntu",
      "locale": "pt-BR",
      "created": "2024-07-29T13:26:35.627Z",
      "updated": "2024-08-07T14:27:45.659Z",
      "content": "Neste fim de semana, troquei meu Macbook Air M1 (com o qual precisava lutar com o pouco armazenamento de 256 GB) por um Dell G3 3579 (onde fiz um upgrade para ter 40 GB de RAM, 500 GB SSD M.2 e um SSD de 1 TB) e, logo após instalar o Ubuntu 24.04, eu não estava conseguindo digitar o ç no me teclado Keychron K2 v.2 (sempre que tentava digitar um ç, me aparecia um ć). \r\n\r\nAcontece que, ao invés de digitar <kbd>'</kbd> + <kbd>c</kbd>, para obter o <kbd>ç</kbd>, teria que digitar  <kbd>Alt Grd</kbd> + <kbd><</kbd><kbd>c</kbd>. Como não queria me adaptar à essa mudança, fiz uma rápida pesquisa e descobri que a solução é adicionar a variável de ambiente `GTK_IM_MODULE=cedilla` no arquivo `/etc/environment` ([afetando todos os usuários do sistema](https://help.ubuntu.com/community/EnvironmentVariables)) ou no arquivo `~/.profile` (o que afeta apenas o seu usuário). Para corrigir o problema para todos os usuários do computador, eu anexei essa variável de ambiente ao fim do arquivo `/etc/environment` da seguinte maneira:\r\n\r\n```bash\r\nsudo sh -c 'echo \"GTK_IM_MODULE=cedilla\" >> /etc/environment'\r\n```\r\n\r\nDepois disso, reinicie sua sessão de usuário (_logout_ e _login_) ou reinicie o computador.\r\n\r\n---\r\n\r\n## Fonte\r\n\r\n[Ask Ubuntu](https://askubuntu.com/questions/1291492/cedilha-getting-%C4%87-rather-than-%C3%A7-after-upgrade-to-20-10)\r\n\n",
      "tags": [
        "Ubuntu",
        "Linux",
        "Dicas"
      ],
      "translates": null
    },
    {
      "id": "p7310widh7o7h9e",
      "title": "Renderizando JSX no servidor com Fastify",
      "slug": "renderizando-jsx-no-servidor-com-fastify",
      "locale": "pt-BR",
      "created": "2024-01-25T00:16:10.675Z",
      "updated": "2024-01-25T00:42:27.538Z",
      "content": "[JSX](https://facebook.github.io/jsx/) é uma excelente abstração para montar interfaces. Introduzida pelo Facebook e popularizada pelo React, trata-se de uma extensão do JavaScript para abstrair a chamada de funções aninhadas. É esperado que o código JSX seja pré-processado (transpilado) para JavaScript válido antes de ser executada nos navegadores ou em ambientes como Node.js.\r\n\r\n## Configuração do projeto\r\n\r\nAntes de tudo, vamos iniciar o nosso projeto e instalar as dependências necessárias:\r\n\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nAgora, configuramos os _scripts_ do nosso projeto. O `package.json` deverá ficará assim:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\n\r\nE esse é o `tsconfig.json` que iremos utilizar:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Criando nossos componentes\r\n\r\nO ecossistema do React já fornece as ferramentas necessárias para renderizarmos os nossos componentes para HTML e enviarmos diretamente do servidor para o nosso cliente. Então, primeiro, vamos criar o componente raiz:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nE nossa página inicial:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n## Configurando o Fastify para renderizar nosso componente React\r\n\r\nComo não pretendemos carregar o React para hidratar o nosso HTML do lado do cliente, podemos usar a função `renderToStaticMarkup` exportada de `react-dom/server`. Nosso arquivo de inicialização do servidor ficará assim:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\n// Importando com o `.js` no final, o arquivo \"buildado\"\r\n// fará as importações corretamente e você não deverá ver nenhum erro na\r\n// IDE, ainda que os arquivos tenham a extensão `.tsx`.\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  // Aqui, inserimos `<!DOCTYPE html>`\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você iniciar o projeto agora (`npm run dev`), você deverá ver a página em http://localhost:3000. Claro, podemos melhorar a nossa implementação usando a nova API de stream, introduzida no React 18 ([que é o método recomendado](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). Para isso, faremos as seguintes alterações no nosso código:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE com isso, conseguimos renderizar nossos componentes React do lado do servidor e fazer _streaming_ deles para o nosso cliente. E este é o [link](https://github.com/DouglasdeMoura/react-fastify) do repositório.\n",
      "tags": [
        "Dicas",
        "Node.js",
        "javascript",
        "Fastify"
      ],
      "translates": "91sox12o3ozzl5n"
    },
    {
      "id": "jyetft1jka7szdn",
      "title": "Como calcular o raio da borda (border-radius) de elementos aninhados",
      "slug": "como-calcular-o-raio-da-borda-border-radius-de-elementos-aninhados",
      "locale": "pt-BR",
      "created": "2023-08-22T20:05:26.070Z",
      "updated": "2023-08-30T18:47:29.128Z",
      "content": "A propriedade [`border-radius`](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) permite arredondar as bordas de um elemento. Dar o mesmo valor de `border-radius` para o elemento pai e elemento filho não resulta na melhor aparência, então como calcular o raio da borda de elementos aninhados?\r\n\r\nObserve a demonstração abaixo:\r\n\r\n<CodePen id=\"ExGaRJY\" />\r\n\r\nNo exemplo acima, os dois círculos possuem o mesmo raio e estão inscritos nos quadrados com bordas arredondas. Note que o raio da borda é o mesmo raio do círculo. Nós queremos que o fim do arco do círculo de cada borda comece seja coincidente com ambos os quadrados. Isso pode ser feito de duas formas:\r\n\r\n1. Raio da borda do quadrado interno (R<sub>i</sub>) + espaçamento entre os quadrados (E) = raio da borda do quadrado externo (R<sub>e</sub>);\r\n2. Raio da borda do quadrado externo (R<sub>e</sub>) - espaçamento entre os quadrados (E) = raio da borda do quadrado interno R<sub>i</sub>.\r\n\r\nObserve que o centro dos círculos inscritos nos quadrados não coincidem, assim como o fim do arco da borda. Ainda assim, o resultado é satisfatório.\r\n\r\n## Bônus\r\n\r\nNeste exemplo interativo, feito por [Jhey Tompkins](https://jhey.dev/), você pode ver como essa regra se aplica na prática:\r\n\r\n<CodePen user=\"jh3y\" id=\"KKrYaxx\" />\r\n\r\n## Referências\r\n\r\n- [@jh3yy](https://twitter.com/jh3yy/status/1688542283602231296)\r\n- [Tip: Perfect nested border radius in CSS](https://www.30secondsofcode.org/css/s/nested-border-radius/)\r\n- [CSS3 border-radius Property](https://www.w3schools.com/cssref/css3_pr_border-radius.asp)\r\n- [CSS Backgrounds and Borders Module Level 3](https://www.w3.org/TR/css-backgrounds-3/#corners)\r\n\n",
      "tags": [
        "CSS",
        "HTML",
        "Dicas"
      ],
      "translates": "afekje3ez7b2byc"
    },
    {
      "id": "atlbwc7th1nnlm9",
      "title": "Aprenda como os programas são executados no computador",
      "slug": "aprenda-como-os-programas-sao-executados-no-computador",
      "locale": "pt-BR",
      "created": "2023-07-29T23:57:35.952Z",
      "updated": "2023-07-30T00:05:18.961Z",
      "content": "[Neste delicioso artigo](https://cpu.land/) (em inglês),  [Lexi Mattick](https://kognise.dev/) (juntamente com o [Hack Club](https://hackclub.com/)) descreve como funciona multiprocessamento, o que são [_system calls_](https://en.wikipedia.org/wiki/System_call), como os computadores gerenciam sua memória e como o Linux carrega seus executáveis. Tenho certeza que vocês aprenderão muito.\n",
      "tags": [
        "Computadores",
        "Dicas"
      ],
      "translates": null
    }
  ],
  "curl": [
    {
      "id": "pgltwbdkto3gado",
      "title": "The minimum you need to know to test your APIs with CURL",
      "slug": "the-minimum-you-need-to-know-to-test-your-apis-with-curl",
      "locale": "en-US",
      "created": "2023-08-30T18:41:29.529Z",
      "updated": "2024-06-02T00:25:38.664Z",
      "content": "[CURL](https://github.com/curl/curl) is a command-line tool that allows you to transmit data with URL syntax, supporting a myriad of protocols (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS). In this article, I will focus on using CURL to make HTTP requests to APIs, which, at least for me, is the most common use.\r\n\r\n## Installation\r\n\r\nCURL is already installed on most Linux distributions and [recent versions of Windows](https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409). To check if it's installed, just run the `curl` command in the terminal. If you don't have CURL installed, you can install it with the command `sudo apt install curl` (Ubuntu/Debian) or `sudo yum install curl` (CentOS/Fedora) or `winget install curl` (Windows).\r\n\r\nOh, and as it is common for us to work with REST APIs in web development, another command-line tool that will be useful to us is [`jq`](https://jqlang.github.io/jq/), which serves to format JSON in the terminal. To install `jq`, just run the command `sudo apt install jq` (Ubuntu/Debian) or `sudo yum install jq` (CentOS/Fedora) or `winget install jqlang.jq` (Windows).\r\n\r\n## Our example API\r\n\r\nFor didactic purposes, I will use [DummyJSON](https://dummyjson.com/) as an API.\r\n\r\n## Making a GET request\r\n\r\nTo make a GET request, just run the `curl` command followed by the URL you want to access. For example, to request data for product 1, just run the command `curl https://dummyjson.com/products/1`.\r\n\r\nAnd, to format the output, just add a `| jq` at the end of the command:\r\n\r\n```bash\r\ncurl https://dummyjson.com/products/1 | jq\r\n```\r\n\r\n## Making a POST, PUT, PATCH or DELETE request with JSON in the body\r\n\r\nTo make a POST request, just run:\r\n\r\n```bash\r\ncurl --json '{\"title\": \"New product\"}' https://dummyjson.com/products/add\r\n```\r\n\r\nThe `curl` will take care of adding the headers `Content-Type: application/json` and `Accept: application/json`. If you want to make a `PUT`, `PATCH` or `DELETE` request, add the `-X` option followed by the HTTP method you want to use. For example, to make a `PUT`, run:\r\n\r\n```bash\r\ncurl -X PUT --json '{\"title\": \"New title\"}' https://dummyjson.com/products/1\r\n```\r\n\r\nYou can also send a JSON file instead of typing the JSON in the terminal by putting an @ in front of the file name:\r\n\r\n```bash\r\ncurl --json @arquivo.json https://dummyjson.com/products/add\r\n```\r\n\r\nOr passing data from [_stdin_](https://man.archlinux.org/man/stdin.3.en) (note that I use `@-` instead of `@` to indicate that the data will come from _stdin_):\r\n\r\n```bash\r\ncurl --json @- https://dummyjson.com/products/add < file.json\r\n```\r\n\r\n## Making a request with headers\r\n\r\nTo make a request with headers, just run the `curl` command followed by the URL you want to access, and the `-H` option followed by the header you want to send. So, to send a Bearer Token, you would run the following command:\r\n\r\n```bash\r\ncurl -H \"Authentication: Bearer token\" --json '{\"title\": \"New product\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n## Some Exercises\r\n\r\nJulia Evans published a few exercises to help you become fluent in curl. It should be worth to take a look at [this post](https://jvns.ca/blog/2019/08/27/curl-exercises/) in her blog.\r\n\r\n## References\r\n\r\n- [curl manpage](https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html)\r\n\n",
      "tags": [
        "curl",
        "API",
        "HTTP"
      ],
      "translates": "5ufu9x2h9ilz2jr"
    },
    {
      "id": "5ufu9x2h9ilz2jr",
      "title": "O mínimo que você precisa saber para testar suas APIs com CURL",
      "slug": "o-minimo-que-voce-precisa-saber-para-testar-suas-apis-com-curl",
      "locale": "pt-BR",
      "created": "2023-08-30T17:28:52.275Z",
      "updated": "2024-06-02T00:24:20.126Z",
      "content": "O [CURL](https://github.com/curl/curl) é uma ferramenta de linha de comando que permite transmitir dados com sintaxe de URL, suportando uma miríade de protocolos (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS e WSS). Neste artigo, vou focar no uso do CURL para fazer requisicões HTTP para APIs, que, pelo menos, para mim, é o uso mais comum.\r\n\r\n## Instalação\r\n\r\nO CURL já vem instalado na maioria das distribuições Linux e nas versões [mais recentes do Windows](https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409). Para verificar se ele está instalado, basta executar o comando `curl` no terminal. Se você não tiver o CURL instalado, você pode instalar com o comando `sudo apt install curl` (Ubuntu/Debian) ou `sudo yum install curl` (CentOS/Fedora) ou `winget install curl` (Windows).\r\n\r\nAh, e como é comum que trabalhemos com APIs REST no desenvolvimento web, outra ferramenta de linha de comando que nos será útil é a [`jq`](https://jqlang.github.io/jq/), que serve para formatar o JSON no terminal. Para instalar a `jq`, basta executar o comando `sudo apt install jq` (Ubuntu/Debian) ou `sudo yum install jq` (CentOS/Fedora) ou `winget install jqlang.jq` (Windows).\r\n\r\n## Nossa API de exemplo\r\n\r\nPara fins didáticos, vou usar o [DummyJSON](https://dummyjson.com/) como API.\r\n\r\n## Fazendo uma requisição GET\r\n\r\nPara fazer uma requisição GET, basta executar o comando `curl` seguido da URL que você quer acessar. Por exemplo, para solicitar os dados do produto 1, basta executar o comando `curl https://dummyjson.com/products/1`.\r\n\r\nE, para formatar a saída, basta adiciona um `| jq` ao final do comando:\r\n\r\n```bash\r\ncurl https://dummyjson.com/products/1 | jq\r\n```\r\n\r\n## Fazendo uma requisição POST,  PUT,  PATCH ou DELETE com JSON no corpo\r\n\r\nPara fazer uma requisição POST, basta executar:\r\n\r\n```bash\r\ncurl --json '{\"title\": \"Novo produto\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n O `curl` se encarregará de adicionar os cabeçalhos `Content-Type: application/json` e `Accept: application/json`. Caso queira fazer uma requisição do tipo `PUT`, `PATCH` ou `DELETE`, adicione a opção `-X` seguida do método HTTP que você quer usar. Por exemplo, para fazer um `PUT`, execute:\r\n\r\n```bash\r\ncurl -X PUT --json '{\"title\": \"Novo título\"}' https://dummyjson.com/products/1\r\n```\r\n\r\nVocê também pode enviar um arquivo JSON ao invés de digitar o JSON no terminal colocando um `@` na frente do nome do arquivo:\r\n\r\n```bash\r\ncurl --json @arquivo.json https://dummyjson.com/products/add\r\n```\r\n\r\nOu passando os dados do [_stdin_](https://man.archlinux.org/man/stdin.3.en) (note que eu uso `@-` ao invés de `@` para indicar que os dados virão do _stdin_):\r\n\r\n```bash\r\ncurl --json @- https://dummyjson.com/products/add < arquivo.json\r\n```\r\n\r\n## Fazendo uma requisição com cabeçalhos\r\n\r\nPara fazer uma requisição com cabeçalhos, basta executar o comando `curl` seguido da URL que você quer acessar, e da opção `-H` seguida do cabeçalho que você quer enviar. Então, para enviar um Bearer Token, você executaria o seguinte comando:\r\n\r\n```bash\r\ncurl -H \"Authentication: Bearer token\" --json '{\"title\": \"Novo produto\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n## Alguns exercícios\r\n\r\nJulia Evans publicou alguns exercícios para você ficar fluente no uso do curl. Vale a pena dar uma olhada [neste artigo](https://jvns.ca/blog/2019/08/27/curl-exercises/) no blog dela.\r\n\r\n## Referências\r\n\r\n- [curl manpage](https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html)\n",
      "tags": [
        "curl",
        "API",
        "HTTP"
      ],
      "translates": "pgltwbdkto3gado"
    }
  ],
  "API": [
    {
      "id": "7wlztbazb3q2ovr",
      "title": "Desenvolvendo APIs fortemente tipadas de ponta a ponta com tRPC",
      "slug": "desenvolvendo-apis-fortemente-tipadas-de-ponta-a-ponta-com-trpc",
      "locale": "pt-BR",
      "created": "2023-10-10T17:44:09.835Z",
      "updated": "2023-10-10T17:46:27.097Z",
      "content": "O desenvolvimento de <abbr title=\"Application Programming Interface\">API</abbr>s consiste em boa parte do trabalho feito por profissionais de tecnologia (pelo menos daqueles que trabalham com a web) e, ao longo do tempo, surgiram diversos padrões para ajudar a lidar com a complexidade de se desenvolver tais APIs, como <abbr title=\"Representational State Transfer Application Programming Interface\">REST</abbr>, GraphQL e o <abbr title=\"Remote Procedure Call\">RPC</abbr>. Neste artigo, irei tratar do último, usando o [tRPC](https://trpc.io/).\r\n\r\n## Mas o que é <abbr title=\"Remote Procedure Call\">RPC</abbr>?\r\n\r\nRPC (_Remote Procedure Call_ - em português: chamada de função remota) é um mecanismo de comunicação entre dois computadores, onde um pode ser identificado como _cliente_ e o outro por ser identificado como _servidor_. Do ponto de vista do cliente, chamar uma RPC é apenas uma questão de chamar uma função com seus devidos argumentos e aguardar uma resposta, a fim de continuar a execução do programa.\r\n\r\n![Diagrama de uma chamada de função remota (RPC)](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hzx0azc3l9qcathciv8o.png)\r\n\r\nE por que alguém faria isso? Ora, para distribuir seu sistema em servidores distintos, no momento que essa distribuição fizer sentido para o desenvolvimento do sistema.\r\n\r\n## Criando uma API com JavaScript e o padrão RPC\r\n\r\nAgora que já sabemos o que é RPC, vamos criar uma API simples que tira proveito deste padrão, usando o [Fastify](https://fastify.dev/)). Desse modo poderemos entender melhor o padrão RPC com um exemplo prático e, de quebra, entender como o tRPC funciona.\r\n\r\nVamos criar uma API que irá criar, ler, atualizar e excluir itens em uma lista de tarefa. Vamos começar com o código básico do nosso servidor. Atente-se aos comentários do código abaixo:\r\n\r\n```javascript\r\n// server/src/index.js\r\nimport Fastify from 'fastify'\r\n\r\n// Neste arquivo, definiremos todas as procedures disponíveis\r\n// na nossa API.\r\nimport * as procedures from './procedures.js'\r\n\r\nconst fastify = Fastify()\r\n\r\n// Nossa API terá um único endpoint: /rpc e\r\n// só aceita requisições do tipo POST.\r\nfastify.post('/rpc', async (req, res) => {\r\n  // Toda requisição para /rpc deverá informar\r\n  // qual procedure deseja chamar no corpo da requisição.\r\n  if (!req.body?.procedure) {\r\n    res.status(400).send({\r\n      title: 'Faltam parâmetros obrigatórios',\r\n      details: 'O parâmetro \"procedure\" é obrigatório.'\r\n    })\r\n  }\r\n\r\n  const procedure = procedures[req.body.procedure]\r\n  \r\n  // Se a procedure não estiver definida, retorna um erro\r\n  if (!procedure || typeof procedure !== 'function') {\r\n    return res.status(404).send({\r\n      title: 'Procedure não encontrada',\r\n      details: `A procedure ${req.body.procedure} não foi encontrada.`\r\n    })\r\n  }\r\n\r\n  try {\r\n    // Chama a procedure com os argumentos, também\r\n    // passados no corpo da requisição\r\n    const response = procedure?.(req.body.args)\r\n\r\n    // Eu espero que toda procedure retorne um objeto\r\n    // com _status_ e _data_.\r\n    return res.status(response?.status || 200).send(response?.data)\r\n  } catch (error) {\r\n    return res.status(error?.code || 500).send({\r\n      title: error?.title || 'Erro',\r\n      details: error?.message || 'Ocorreu um erro.'\r\n    })\r\n  }\r\n})\r\n\r\n// Inicia o servidor\r\ntry {\r\n  await fastify.listen({ port: 3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n\r\n```\r\n\r\nAdicionamos as nossas _procedures_:\r\n\r\n```javascript\r\n// server/src/procedures.js\r\n\r\n// Criamos um classe de erro personalizada\r\n// só para as nossas procedures.\r\nclass ProcedureError extends Error {\r\n  constructor(message, code, title) {\r\n    super(message)\r\n    this.title = title\r\n    this.code = code\r\n  }\r\n}\r\n\r\n// \"Banco de dados\"\r\nexport let tarefas = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\n// Funções de CRUD\r\n\r\nexport const getTarefas = () => {\r\n  return {\r\n    status: 200,\r\n    data: tarefas,\r\n  }\r\n}\r\n\r\nexport const getTarefa = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError('O id é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n  if (!tarefa) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  return {\r\n    status: 200,\r\n    data: tarefa,\r\n  }\r\n}\r\n\r\nexport const addTarefa = (title) => {\r\n  if (!title) {\r\n    throw new ProcedureError('O título é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const id = tarefas.length + 1\r\n  const tarefa = {\r\n    id,\r\n    title,\r\n  }\r\n\r\n  tarefas.push(tarefa)\r\n\r\n  return {\r\n    status: 201,\r\n    data: { id },\r\n  }\r\n}\r\n\r\nexport const updateTarefa = ({ id, title }) => {\r\n  if (!id || !title) {\r\n    throw new ProcedureError('O id e o título são obrigatórios', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas[index].title = title\r\n\r\n  return {\r\n    status: 200,\r\n  }\r\n}\r\n\r\nexport const deleteTarefa = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError('O id é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n  return {\r\n    status: 204,\r\n  }\r\n}\r\n```\r\n\r\nVamos iniciar a nossa API com `node src/index.js` e testar a chamada às nossas procedures. Vou usar o [`curl`](url) neste exemplo pois já que estamos usando um emulador de terminal, mas fique a vontade para usar a ferramenta que preferir. Ah, não se esqueça que todas as nossas requisições são do tipo `POST`:\r\n\r\n```bash\r\ncurl --json '{\"procedure\": \"getTarefas\"}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"getTarefa\", \"args\": 1}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"updateTarefa\", \"args\": {\"id\": 1, \"title\": \"Novo título\"}}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"addTarefa\", \"args\": \"Nova tarefa\"}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"deleteTarefa\", \"args\": 4}' http://localhost:3000/rpc\r\n```\r\n\r\n## Adicionando TypeScript\r\n\r\nComo queremos uma API cujos tipos possam ser compartilhados do servidor para o cliente, vamos converter o nosso código JavaScript para TypeScript, da seguinte forma (e adicionar algumas melhorias ao mesmo tempo):\r\n\r\n```typescript\r\n// server/src/errors.ts\r\n\r\n// Vamos separar a nossa classe ProcedureError\r\n// em seu próprio arquivo:\r\n\r\nexport class ProcedureError extends Error {\r\n  code: number\r\n  title: string | undefined\r\n\r\n  constructor(message: string, code: number, title?: string) {\r\n    super(message)\r\n    this.title = title\r\n    this.code = code\r\n  }\r\n}\r\n```\r\n\r\nAgora, criamos o arquivo `app.ts` para colocar o código de configuração do servidor, excluindo a parte que inicia o servidor. Novamente, leia os comentários com atenção:\r\n\r\n```typescript\r\n// server/src/app.ts\r\n\r\nimport Fastify from 'fastify'\r\nimport * as procedures from './procedures'\r\nimport { ProcedureError } from './errors'\r\n\r\nexport const app = () => {\r\n  const fastify = Fastify()\r\n   \r\n  // Adiciona os tipos esperados no Body da requisição.\r\n  fastify.post<{\r\n    Body: {\r\n      procedure: string\r\n      args?: any\r\n    }\r\n  }>('/rpc', async (req, res) => {\r\n    if (!req.body?.procedure) {\r\n      res.status(400).send({\r\n        title: 'Faltam parâmetros obrigatórios',\r\n        details: 'O parâmetro \"procedure\" é obrigatório.'\r\n      })\r\n    }\r\n    \r\n    // Fazemos coerção do tipo das procedures.\r\n    const procedure = procedures?.[req.body?.procedure as keyof typeof procedures]\r\n\r\n    if (!procedure || typeof procedure !== 'function') {\r\n      return res.status(404).send({\r\n        title: 'Procedure não encontrada',\r\n        details: `A procedure ${req.body.procedure} não foi encontrada.`\r\n      })\r\n    }\r\n\r\n    try {\r\n      const response = procedure(req.body.args)\r\n      return res.status(response?.status || 200).send(response?.data)\r\n    } catch (error) {\r\n     // Definimos o tipo de erro esperado.\r\n      const { code, title, message } = error as ProcedureError\r\n\r\n      return res.status(code|| 500).send({\r\n        title: title || 'Erro',\r\n        details: message || 'Ocorreu um erro.'\r\n      })\r\n    }\r\n  })\r\n\r\n  return fastify\r\n}\r\n```\r\n\r\nO arquivo que inicializa o servidor:\r\n\r\n```typescript\r\n// server/src/server.ts\r\n\r\nimport { app } from './app'\r\n\r\nconst server = app()\r\n\r\ntry {\r\n  server.listen({ port: 3000 })\r\n} catch (err) {\r\n  server.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE por fim, adicionaremos os tipos às nossas procedures:\r\n\r\n```typescript\r\n// server/src/procedures.ts\r\n\r\nimport { ProcedureError } from './errors'\r\n\r\n// O tipo de estrutura de dados do nosso CRUD.\r\ntype Tarefa = {\r\n  id: number\r\n  title: string\r\n}\r\n\r\nexport let tarefas: Tarefa[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\n// Tipo que define os argumentos e os retornos\r\n// esperados de cada procedure.\r\n// - TData é o tipo genérico que define o retorno dos dados.\r\n// - TArgs é o tipo genérico que define os argumentos que a procedure recebe.\r\ntype Procedure<TData = unknown, TArgs = undefined> = (args?: TArgs) => {\r\n  status: number\r\n  data?: TData\r\n}\r\n\r\nexport const getTarefas: Procedure<Tarefa[]> = () => {\r\n  return {\r\n    status: 200,\r\n    data: tarefas,\r\n  }\r\n}\r\n\r\nexport const getTarefa: Procedure<Tarefa, Tarefa['id']> = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError(\r\n      'O id é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n  if (!tarefa) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  return {\r\n    status: 200,\r\n    data: tarefa,\r\n  }\r\n}\r\n\r\nexport const addTarefa: Procedure<{ id: Tarefa['id'] }, Tarefa['title']> = (title) => {\r\n  if (!title) {\r\n    throw new ProcedureError(\r\n      'O título é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const id = tarefas.length + 1\r\n  const tarefa = {\r\n    id,\r\n    title,\r\n  }\r\n\r\n  tarefas.push(tarefa)\r\n\r\n  return {\r\n    status: 201,\r\n    data: { id },\r\n  }\r\n}\r\n\r\nexport const updateTarefa: Procedure<undefined, Tarefa> = (args) => {\r\n  if (!args?.id || !args?.title) {\r\n    throw new ProcedureError(\r\n      'O id e o título são obrigatórios',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === args.id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${args.id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas[index].title = args.title\r\n\r\n  return {\r\n    status: 200,\r\n  }\r\n}\r\n\r\nexport const deleteTarefa: Procedure<undefined, Tarefa['id']> = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError(\r\n      'O id é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n  return {\r\n    status: 204,\r\n  }\r\n}\r\n\r\n// Exportamos os tipos da nossa API\r\n// para serem usados do lado  do cliente.\r\nexport type API = {\r\n  getTarefas: typeof getTarefas\r\n  getTarefa: typeof getTarefa\r\n  addTarefa: typeof addTarefa\r\n  updateTarefa: typeof updateTarefa\r\n  deleteTarefa: typeof deleteTarefa\r\n}\r\n```\r\n\r\nCom tudo pronto, agora podemos criar o código do nosso cliente e a única coisa que irei usar do código do servidor é o tipo `API` (que definimos no arquivo `src/procedures.ts`). Claro, para fazer isso, o código do cliente ou do servidor devem estar no mesmo [monorepo](https://monorepo.tools/) ou serem compartilhados via [git submodules](https://git-scm.com/book/en/v2/Git-Tools-Submodules):\r\n\r\n```typescript\r\n// client/src/index.ts\r\n\r\n// Este é o caminho do código servidor, que pode estar no mesmo \r\n// monorepo ou pasta, a depender da sua preferência.\r\nimport type { API } from '../../server/src/procedures'\r\n\r\n// A função query é tudo que você precisará para\r\n// interagir com as procedures do servidor.\r\nconst query = <Procedure extends keyof API>(\r\n  procedure: Procedure,\r\n  ...args: Parameters<API[Procedure]>\r\n): Promise<ReturnType<API[Procedure]>> => {\r\n  return fetch('http://localhost:3000/rpc', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ procedure, args: args[0] }),\r\n  }).then((response) => response.json()) as any\r\n}\r\n```\r\n\r\nE agora, temos uma função que documenta todas as funções disponíveis no nosso servidor (e seus respectivos argumentos) apenas com seus tipos:\r\n\r\n![Mostrando o autocomplete das funções do servidor](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ujxxpvxxqaxxizgo6dvh.png)\r\n\r\nÉ importante notar que estamos utilizando `import type { API } from '../../server/src/procedures'` (ênfase no `type`), pois, depois de compilar o nosso código para JavaScript, não queremos nenhum código do servidor disponível no cliente.\r\n\r\nAgora que entendemos o que é RPC e construímos nossa própria API com este padrão, vamos ver como o [tRPC](https://trpc.io/) pode nos ajudar.\r\n\r\n## Introduzindo o tRPC\r\n\r\nO tRPC pega o conceito de uma API RPC que acabamos de implementar (e que foi inicialmente apresentado pelo Colin McDonell em seu [blog](https://colinhacks.com/essays/painless-typesafety)) e adiciona uma experiência de desenvolvimento ainda melhor, com validação dos dados de entrada e saída com [Zod](https://github.com/colinhacks/zod) (ou outra biblioteca de validação que você prefira) e até a geração do código do cliente com [@tanstack/query](https://tanstack.com/query/latest) e subscrições para envio de dados em tempo real via WebSockets. Dito isto, vamos refazer a API que construímos acima usando [tRPC](https://trpc.io/) e Fastify:\r\n\r\n```typescript\r\n// server/src/app.ts\r\nimport Fastify from 'fastify'\r\nimport { fastifyTRPCPlugin } from '@trpc/server/adapters/fastify'\r\nimport { appRouter } from './router'\r\n\r\nexport const app = () => {\r\n  const fastify = Fastify({ maxParamLength: 5000 })\r\n\r\n  fastify.register(fastifyTRPCPlugin, {\r\n    prefix: '/trpc',\r\n    trpcOptions: { router: appRouter},\r\n  });\r\n\r\n  return fastify\r\n}\r\n```\r\n\r\n```typescript\r\n// server/src/router.ts\r\nimport { initTRPC } from '@trpc/server'\r\nimport { z } from 'zod'\r\n\r\ntype Tarefa = {\r\n  id: number\r\n  title: string\r\n}\r\n\r\nexport let tarefas: Tarefa[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\nexport const t = initTRPC.create()\r\nexport const appRouter = t.router({\r\n  // Toda operação de busca de dados é uma query\r\n  // ---------------------\\/\r\n  getTarefas: t.procedure.query(() => tarefas),\r\n  // Podemos tipar a entrada (e a saída de dados)\r\n  // usando a excelente biblioteca Zod.\r\n  getTarefa: t.procedure.input(z.number()).query(({ input: id }) => {\r\n    const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n    if (!tarefa) {\r\n      throw new Error('Tarefa não encontrada')\r\n    }\r\n\r\n    return tarefa\r\n  }),\r\n  // Toda operação de alteração de dados é uma mutation\r\n  // --------------------------------------\\/\r\n  addTarefa: t.procedure.input(z.string()).mutation(({ input: title }) => {\r\n    const id = tarefas.length + 1\r\n\r\n    tarefas.push({ id, title })\r\n\r\n    return id\r\n  }),\r\n  updateTarefa: t.procedure\r\n    .input(z.object({ id: z.number(), title: z.string() }))\r\n    .mutation(({ input: { id, title } }) => {\r\n      const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n      if (!tarefa) {\r\n        throw new Error('Tarefa não encontrada')\r\n      }\r\n\r\n      tarefa.title = title\r\n\r\n      return id\r\n    }),\r\n  deleteTarefa: t.procedure.input(z.number()).mutation(({ input: id }) => {\r\n    const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n    if (!tarefa) {\r\n      throw new Error('Tarefa não encontrada')\r\n    }\r\n\r\n    tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n    return id\r\n  }),\r\n})\r\n\r\n// Exporta a definição de tipos do router\r\nexport type AppRouter = typeof appRouter\r\n```\r\n\r\n```typescript\r\nimport { app } from './app'\r\n\r\nconst server = app()\r\n\r\ntry {\r\n  server.listen({ port: 3000 })\r\n} catch (err) {\r\n  server.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você leu os comentários do arquivo `server/src/router.ts` verá que o tRPC utiliza o mesmo modelo mental de operações do GraphQL, chamando as operações de busca de dados de _query_ e as operações de alteração de dados de _mutation_ (inclusive, pode-se dizer que o GraphQL é uma implementação de RPC que adiciona uma linguagem de busca e a documentação das entidades que são disponibilizadas pela API).\r\n\r\nNo cliente, podemos utilizar o serviço básico do tRPC (similar ao que fizemos em nossa função `query` no exemplo anterior:\r\n\r\n![Tipagem dos endpoint do cliente do tRPC](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gagmnv6duxkuzbu4lthj.png)\r\n\r\nOu, caso nosso frontend seja feito em React ou Next.js, podemos usar o cliente que se aproveita das facilidades do [@tanstack/query](https://tanstack.com/query/latest).\r\n\r\nSe você leu até e quer mexer no código utilizado neste artigo, acesse [este repositório](https://github.com/DouglasdeMoura/rpc-typesafe-api) no GitHub. Você também pode ver a [minha palestra no NodeBR #61](https://www.youtube.com/watch?v=tVMmVDELuLE) onde faço uma introdução ao tRPC.\r\n\r\n### Referências\r\n- [Desenvolvendo APIs fortemente tipadas de ponta a ponta com tRPC - NodeBR #61](https://www.youtube.com/watch?v=tVMmVDELuLE);\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "typescript",
        "API",
        "rpc"
      ],
      "translates": null
    },
    {
      "id": "pgltwbdkto3gado",
      "title": "The minimum you need to know to test your APIs with CURL",
      "slug": "the-minimum-you-need-to-know-to-test-your-apis-with-curl",
      "locale": "en-US",
      "created": "2023-08-30T18:41:29.529Z",
      "updated": "2024-06-02T00:25:38.664Z",
      "content": "[CURL](https://github.com/curl/curl) is a command-line tool that allows you to transmit data with URL syntax, supporting a myriad of protocols (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS). In this article, I will focus on using CURL to make HTTP requests to APIs, which, at least for me, is the most common use.\r\n\r\n## Installation\r\n\r\nCURL is already installed on most Linux distributions and [recent versions of Windows](https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409). To check if it's installed, just run the `curl` command in the terminal. If you don't have CURL installed, you can install it with the command `sudo apt install curl` (Ubuntu/Debian) or `sudo yum install curl` (CentOS/Fedora) or `winget install curl` (Windows).\r\n\r\nOh, and as it is common for us to work with REST APIs in web development, another command-line tool that will be useful to us is [`jq`](https://jqlang.github.io/jq/), which serves to format JSON in the terminal. To install `jq`, just run the command `sudo apt install jq` (Ubuntu/Debian) or `sudo yum install jq` (CentOS/Fedora) or `winget install jqlang.jq` (Windows).\r\n\r\n## Our example API\r\n\r\nFor didactic purposes, I will use [DummyJSON](https://dummyjson.com/) as an API.\r\n\r\n## Making a GET request\r\n\r\nTo make a GET request, just run the `curl` command followed by the URL you want to access. For example, to request data for product 1, just run the command `curl https://dummyjson.com/products/1`.\r\n\r\nAnd, to format the output, just add a `| jq` at the end of the command:\r\n\r\n```bash\r\ncurl https://dummyjson.com/products/1 | jq\r\n```\r\n\r\n## Making a POST, PUT, PATCH or DELETE request with JSON in the body\r\n\r\nTo make a POST request, just run:\r\n\r\n```bash\r\ncurl --json '{\"title\": \"New product\"}' https://dummyjson.com/products/add\r\n```\r\n\r\nThe `curl` will take care of adding the headers `Content-Type: application/json` and `Accept: application/json`. If you want to make a `PUT`, `PATCH` or `DELETE` request, add the `-X` option followed by the HTTP method you want to use. For example, to make a `PUT`, run:\r\n\r\n```bash\r\ncurl -X PUT --json '{\"title\": \"New title\"}' https://dummyjson.com/products/1\r\n```\r\n\r\nYou can also send a JSON file instead of typing the JSON in the terminal by putting an @ in front of the file name:\r\n\r\n```bash\r\ncurl --json @arquivo.json https://dummyjson.com/products/add\r\n```\r\n\r\nOr passing data from [_stdin_](https://man.archlinux.org/man/stdin.3.en) (note that I use `@-` instead of `@` to indicate that the data will come from _stdin_):\r\n\r\n```bash\r\ncurl --json @- https://dummyjson.com/products/add < file.json\r\n```\r\n\r\n## Making a request with headers\r\n\r\nTo make a request with headers, just run the `curl` command followed by the URL you want to access, and the `-H` option followed by the header you want to send. So, to send a Bearer Token, you would run the following command:\r\n\r\n```bash\r\ncurl -H \"Authentication: Bearer token\" --json '{\"title\": \"New product\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n## Some Exercises\r\n\r\nJulia Evans published a few exercises to help you become fluent in curl. It should be worth to take a look at [this post](https://jvns.ca/blog/2019/08/27/curl-exercises/) in her blog.\r\n\r\n## References\r\n\r\n- [curl manpage](https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html)\r\n\n",
      "tags": [
        "curl",
        "API",
        "HTTP"
      ],
      "translates": "5ufu9x2h9ilz2jr"
    },
    {
      "id": "5ufu9x2h9ilz2jr",
      "title": "O mínimo que você precisa saber para testar suas APIs com CURL",
      "slug": "o-minimo-que-voce-precisa-saber-para-testar-suas-apis-com-curl",
      "locale": "pt-BR",
      "created": "2023-08-30T17:28:52.275Z",
      "updated": "2024-06-02T00:24:20.126Z",
      "content": "O [CURL](https://github.com/curl/curl) é uma ferramenta de linha de comando que permite transmitir dados com sintaxe de URL, suportando uma miríade de protocolos (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS e WSS). Neste artigo, vou focar no uso do CURL para fazer requisicões HTTP para APIs, que, pelo menos, para mim, é o uso mais comum.\r\n\r\n## Instalação\r\n\r\nO CURL já vem instalado na maioria das distribuições Linux e nas versões [mais recentes do Windows](https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409). Para verificar se ele está instalado, basta executar o comando `curl` no terminal. Se você não tiver o CURL instalado, você pode instalar com o comando `sudo apt install curl` (Ubuntu/Debian) ou `sudo yum install curl` (CentOS/Fedora) ou `winget install curl` (Windows).\r\n\r\nAh, e como é comum que trabalhemos com APIs REST no desenvolvimento web, outra ferramenta de linha de comando que nos será útil é a [`jq`](https://jqlang.github.io/jq/), que serve para formatar o JSON no terminal. Para instalar a `jq`, basta executar o comando `sudo apt install jq` (Ubuntu/Debian) ou `sudo yum install jq` (CentOS/Fedora) ou `winget install jqlang.jq` (Windows).\r\n\r\n## Nossa API de exemplo\r\n\r\nPara fins didáticos, vou usar o [DummyJSON](https://dummyjson.com/) como API.\r\n\r\n## Fazendo uma requisição GET\r\n\r\nPara fazer uma requisição GET, basta executar o comando `curl` seguido da URL que você quer acessar. Por exemplo, para solicitar os dados do produto 1, basta executar o comando `curl https://dummyjson.com/products/1`.\r\n\r\nE, para formatar a saída, basta adiciona um `| jq` ao final do comando:\r\n\r\n```bash\r\ncurl https://dummyjson.com/products/1 | jq\r\n```\r\n\r\n## Fazendo uma requisição POST,  PUT,  PATCH ou DELETE com JSON no corpo\r\n\r\nPara fazer uma requisição POST, basta executar:\r\n\r\n```bash\r\ncurl --json '{\"title\": \"Novo produto\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n O `curl` se encarregará de adicionar os cabeçalhos `Content-Type: application/json` e `Accept: application/json`. Caso queira fazer uma requisição do tipo `PUT`, `PATCH` ou `DELETE`, adicione a opção `-X` seguida do método HTTP que você quer usar. Por exemplo, para fazer um `PUT`, execute:\r\n\r\n```bash\r\ncurl -X PUT --json '{\"title\": \"Novo título\"}' https://dummyjson.com/products/1\r\n```\r\n\r\nVocê também pode enviar um arquivo JSON ao invés de digitar o JSON no terminal colocando um `@` na frente do nome do arquivo:\r\n\r\n```bash\r\ncurl --json @arquivo.json https://dummyjson.com/products/add\r\n```\r\n\r\nOu passando os dados do [_stdin_](https://man.archlinux.org/man/stdin.3.en) (note que eu uso `@-` ao invés de `@` para indicar que os dados virão do _stdin_):\r\n\r\n```bash\r\ncurl --json @- https://dummyjson.com/products/add < arquivo.json\r\n```\r\n\r\n## Fazendo uma requisição com cabeçalhos\r\n\r\nPara fazer uma requisição com cabeçalhos, basta executar o comando `curl` seguido da URL que você quer acessar, e da opção `-H` seguida do cabeçalho que você quer enviar. Então, para enviar um Bearer Token, você executaria o seguinte comando:\r\n\r\n```bash\r\ncurl -H \"Authentication: Bearer token\" --json '{\"title\": \"Novo produto\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n## Alguns exercícios\r\n\r\nJulia Evans publicou alguns exercícios para você ficar fluente no uso do curl. Vale a pena dar uma olhada [neste artigo](https://jvns.ca/blog/2019/08/27/curl-exercises/) no blog dela.\r\n\r\n## Referências\r\n\r\n- [curl manpage](https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html)\n",
      "tags": [
        "curl",
        "API",
        "HTTP"
      ],
      "translates": "pgltwbdkto3gado"
    }
  ],
  "HTTP": [
    {
      "id": "pgltwbdkto3gado",
      "title": "The minimum you need to know to test your APIs with CURL",
      "slug": "the-minimum-you-need-to-know-to-test-your-apis-with-curl",
      "locale": "en-US",
      "created": "2023-08-30T18:41:29.529Z",
      "updated": "2024-06-02T00:25:38.664Z",
      "content": "[CURL](https://github.com/curl/curl) is a command-line tool that allows you to transmit data with URL syntax, supporting a myriad of protocols (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS). In this article, I will focus on using CURL to make HTTP requests to APIs, which, at least for me, is the most common use.\r\n\r\n## Installation\r\n\r\nCURL is already installed on most Linux distributions and [recent versions of Windows](https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409). To check if it's installed, just run the `curl` command in the terminal. If you don't have CURL installed, you can install it with the command `sudo apt install curl` (Ubuntu/Debian) or `sudo yum install curl` (CentOS/Fedora) or `winget install curl` (Windows).\r\n\r\nOh, and as it is common for us to work with REST APIs in web development, another command-line tool that will be useful to us is [`jq`](https://jqlang.github.io/jq/), which serves to format JSON in the terminal. To install `jq`, just run the command `sudo apt install jq` (Ubuntu/Debian) or `sudo yum install jq` (CentOS/Fedora) or `winget install jqlang.jq` (Windows).\r\n\r\n## Our example API\r\n\r\nFor didactic purposes, I will use [DummyJSON](https://dummyjson.com/) as an API.\r\n\r\n## Making a GET request\r\n\r\nTo make a GET request, just run the `curl` command followed by the URL you want to access. For example, to request data for product 1, just run the command `curl https://dummyjson.com/products/1`.\r\n\r\nAnd, to format the output, just add a `| jq` at the end of the command:\r\n\r\n```bash\r\ncurl https://dummyjson.com/products/1 | jq\r\n```\r\n\r\n## Making a POST, PUT, PATCH or DELETE request with JSON in the body\r\n\r\nTo make a POST request, just run:\r\n\r\n```bash\r\ncurl --json '{\"title\": \"New product\"}' https://dummyjson.com/products/add\r\n```\r\n\r\nThe `curl` will take care of adding the headers `Content-Type: application/json` and `Accept: application/json`. If you want to make a `PUT`, `PATCH` or `DELETE` request, add the `-X` option followed by the HTTP method you want to use. For example, to make a `PUT`, run:\r\n\r\n```bash\r\ncurl -X PUT --json '{\"title\": \"New title\"}' https://dummyjson.com/products/1\r\n```\r\n\r\nYou can also send a JSON file instead of typing the JSON in the terminal by putting an @ in front of the file name:\r\n\r\n```bash\r\ncurl --json @arquivo.json https://dummyjson.com/products/add\r\n```\r\n\r\nOr passing data from [_stdin_](https://man.archlinux.org/man/stdin.3.en) (note that I use `@-` instead of `@` to indicate that the data will come from _stdin_):\r\n\r\n```bash\r\ncurl --json @- https://dummyjson.com/products/add < file.json\r\n```\r\n\r\n## Making a request with headers\r\n\r\nTo make a request with headers, just run the `curl` command followed by the URL you want to access, and the `-H` option followed by the header you want to send. So, to send a Bearer Token, you would run the following command:\r\n\r\n```bash\r\ncurl -H \"Authentication: Bearer token\" --json '{\"title\": \"New product\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n## Some Exercises\r\n\r\nJulia Evans published a few exercises to help you become fluent in curl. It should be worth to take a look at [this post](https://jvns.ca/blog/2019/08/27/curl-exercises/) in her blog.\r\n\r\n## References\r\n\r\n- [curl manpage](https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html)\r\n\n",
      "tags": [
        "curl",
        "API",
        "HTTP"
      ],
      "translates": "5ufu9x2h9ilz2jr"
    },
    {
      "id": "5ufu9x2h9ilz2jr",
      "title": "O mínimo que você precisa saber para testar suas APIs com CURL",
      "slug": "o-minimo-que-voce-precisa-saber-para-testar-suas-apis-com-curl",
      "locale": "pt-BR",
      "created": "2023-08-30T17:28:52.275Z",
      "updated": "2024-06-02T00:24:20.126Z",
      "content": "O [CURL](https://github.com/curl/curl) é uma ferramenta de linha de comando que permite transmitir dados com sintaxe de URL, suportando uma miríade de protocolos (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS e WSS). Neste artigo, vou focar no uso do CURL para fazer requisicões HTTP para APIs, que, pelo menos, para mim, é o uso mais comum.\r\n\r\n## Instalação\r\n\r\nO CURL já vem instalado na maioria das distribuições Linux e nas versões [mais recentes do Windows](https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409). Para verificar se ele está instalado, basta executar o comando `curl` no terminal. Se você não tiver o CURL instalado, você pode instalar com o comando `sudo apt install curl` (Ubuntu/Debian) ou `sudo yum install curl` (CentOS/Fedora) ou `winget install curl` (Windows).\r\n\r\nAh, e como é comum que trabalhemos com APIs REST no desenvolvimento web, outra ferramenta de linha de comando que nos será útil é a [`jq`](https://jqlang.github.io/jq/), que serve para formatar o JSON no terminal. Para instalar a `jq`, basta executar o comando `sudo apt install jq` (Ubuntu/Debian) ou `sudo yum install jq` (CentOS/Fedora) ou `winget install jqlang.jq` (Windows).\r\n\r\n## Nossa API de exemplo\r\n\r\nPara fins didáticos, vou usar o [DummyJSON](https://dummyjson.com/) como API.\r\n\r\n## Fazendo uma requisição GET\r\n\r\nPara fazer uma requisição GET, basta executar o comando `curl` seguido da URL que você quer acessar. Por exemplo, para solicitar os dados do produto 1, basta executar o comando `curl https://dummyjson.com/products/1`.\r\n\r\nE, para formatar a saída, basta adiciona um `| jq` ao final do comando:\r\n\r\n```bash\r\ncurl https://dummyjson.com/products/1 | jq\r\n```\r\n\r\n## Fazendo uma requisição POST,  PUT,  PATCH ou DELETE com JSON no corpo\r\n\r\nPara fazer uma requisição POST, basta executar:\r\n\r\n```bash\r\ncurl --json '{\"title\": \"Novo produto\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n O `curl` se encarregará de adicionar os cabeçalhos `Content-Type: application/json` e `Accept: application/json`. Caso queira fazer uma requisição do tipo `PUT`, `PATCH` ou `DELETE`, adicione a opção `-X` seguida do método HTTP que você quer usar. Por exemplo, para fazer um `PUT`, execute:\r\n\r\n```bash\r\ncurl -X PUT --json '{\"title\": \"Novo título\"}' https://dummyjson.com/products/1\r\n```\r\n\r\nVocê também pode enviar um arquivo JSON ao invés de digitar o JSON no terminal colocando um `@` na frente do nome do arquivo:\r\n\r\n```bash\r\ncurl --json @arquivo.json https://dummyjson.com/products/add\r\n```\r\n\r\nOu passando os dados do [_stdin_](https://man.archlinux.org/man/stdin.3.en) (note que eu uso `@-` ao invés de `@` para indicar que os dados virão do _stdin_):\r\n\r\n```bash\r\ncurl --json @- https://dummyjson.com/products/add < arquivo.json\r\n```\r\n\r\n## Fazendo uma requisição com cabeçalhos\r\n\r\nPara fazer uma requisição com cabeçalhos, basta executar o comando `curl` seguido da URL que você quer acessar, e da opção `-H` seguida do cabeçalho que você quer enviar. Então, para enviar um Bearer Token, você executaria o seguinte comando:\r\n\r\n```bash\r\ncurl -H \"Authentication: Bearer token\" --json '{\"title\": \"Novo produto\"}' https://dummyjson.com/products/add\r\n```\r\n\r\n## Alguns exercícios\r\n\r\nJulia Evans publicou alguns exercícios para você ficar fluente no uso do curl. Vale a pena dar uma olhada [neste artigo](https://jvns.ca/blog/2019/08/27/curl-exercises/) no blog dela.\r\n\r\n## Referências\r\n\r\n- [curl manpage](https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html)\n",
      "tags": [
        "curl",
        "API",
        "HTTP"
      ],
      "translates": "pgltwbdkto3gado"
    }
  ],
  "talks": [
    {
      "id": "hf1qmggdzmgfgiz",
      "title": "Slides da palestra \"Design System com Tailwind CSS\" da Conferência CSS Brasil 2023",
      "slug": "slides-da-palestra-design-system-com-tailwind-css-da-conferencia-css-brasil-2023",
      "locale": "pt-BR",
      "created": "2023-01-22T19:02:10.980Z",
      "updated": "2023-01-22T19:09:17.314Z",
      "content": "Palestra apresentada no [Conferência CSS Brasil 2023](https://conferenciacssbrasil.com.br/).\r\n\r\nVeja os slides em [design-system-com-tailwind-css.vercel.app](https://design-system-com-tailwind-css.vercel.app/). Quer ver como foram feitos? Acesse o repositório no [GitHub](https://github.com/DouglasdeMoura/design-system-com-tailwind-css).\r\n\r\nFeito com [Slidev](https://sli.dev/).\n",
      "tags": [
        "talks"
      ],
      "translates": null
    }
  ],
  "html": [
    {
      "id": "ivk3bq1nejzjip8",
      "title": "Um array com todos os estados do Brasil, para você reusar em suas aplicações",
      "slug": "um-array-com-todos-os-estados-do-brasil-para-voce-reusar-em-suas-aplicacoes",
      "locale": "pt-BR",
      "created": "2024-05-31T15:26:20.916Z",
      "updated": "2024-05-31T15:41:29.153Z",
      "content": "Eu já recriei este array tantas vezes na última década que eu só vou deixar este _snippet_ (em JSON) aqui para que eu possa apenas copiá-lo a qualquer momento.\r\n\r\n```json\r\n[\r\n  { \"value\": \"AC\", \"label\": \"Acre\" },\r\n  { \"value\": \"AL\", \"label\": \"Alagoas\" },\r\n  { \"value\": \"AP\", \"label\": \"Amapá\" },\r\n  { \"value\": \"AM\", \"label\": \"Amazonas\" },\r\n  { \"value\": \"BA\", \"label\": \"Bahia\" },\r\n  { \"value\": \"CE\", \"label\": \"Ceará\" },\r\n  { \"value\": \"DF\", \"label\": \"Distrito Federal\" },\r\n  { \"value\": \"ES\", \"label\": \"Espirito Santo\" },\r\n  { \"value\": \"GO\", \"label\": \"Goiás\" },\r\n  { \"value\": \"MA\", \"label\": \"Maranhão\" },\r\n  { \"value\": \"MS\", \"label\": \"Mato Grosso do Sul\" },\r\n  { \"value\": \"MT\", \"label\": \"Mato Grosso\" },\r\n  { \"value\": \"MG\", \"label\": \"Minas Gerais\" },\r\n  { \"value\": \"PA\", \"label\": \"Pará\" },\r\n  { \"value\": \"PB\", \"label\": \"Paraíba\" },\r\n  { \"value\": \"PR\", \"label\": \"Paraná\" },\r\n  { \"value\": \"PE\", \"label\": \"Pernambuco\" },\r\n  { \"value\": \"PI\", \"label\": \"Piauí\" },\r\n  { \"value\": \"RJ\", \"label\": \"Rio de Janeiro\" },\r\n  { \"value\": \"RN\", \"label\": \"Rio Grande do Norte\" },\r\n  { \"value\": \"RS\", \"label\": \"Rio Grande do Sul\" },\r\n  { \"value\": \"RO\", \"label\": \"Rondônia\" },\r\n  { \"value\": \"RR\", \"label\": \"Roraima\" },\r\n  { \"value\": \"SC\", \"label\": \"Santa Catarina\" },\r\n  { \"value\": \"SP\", \"label\": \"São Paulo\" },\r\n  { \"value\": \"SE\", \"label\": \"Sergipe\" },\r\n  { \"value\": \"TO\", \"label\": \"Tocantins\" }\r\n]\r\n```\n",
      "tags": [
        "javascript",
        "html",
        "Snippet"
      ],
      "translates": null
    },
    {
      "id": "jdwjqfxbwki78t2",
      "title": "Dissecando URLs com JavaScript",
      "slug": "dissecando-urls-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-11T12:48:41.199Z",
      "updated": "2023-09-11T12:52:25.736Z",
      "content": "Vamos entender o que significa cada parte de uma URL (Uniform Resource Locator). Observe a URL abaixo:\r\n\r\n```\r\nhttps://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\r\n```\r\n\r\n<Alert title=\"URL (Uniform Resource Locator)\" color=\"blue\" mb=\"md\">\r\nUma URL é um endereço de uma localização específica na web e uma mecanismo que especifica a forma de recuperar este conteúdo, que pode ser um documento, uma imagem, um vídeo, etc.\r\n</Alert>\r\n\r\n- `https://`: **Protocolo de comunicação** (padrão de comunicação utilizado entre o cliente e o servidor);\r\n- `user:password@`: **Credenciais de autenticação para o [esquema Basic](https://datatracker.ietf.org/doc/html/rfc7617)** (obviamente, por questões de segurança, você **não** deve colocar suas credenciais diretamente na URL - inclusive, alguns navegadores [já não permitem mais isso](https://crbug.com/82250#c7));\r\n- `blog`: **Subdomínio** (um domínio dentro de outro domínio);\r\n- `exemple.com.br`: **Domínio** (nome do site);\r\n- `.br`: **TLD (Top Level Domain)** (domínio de primeiro nível - identifica o país ou a região geográfica do site);\r\n- `.com.br`: **SLD (Second Level Domain)** (domínio de segundo nível - alguns são reservados para entidades específicas, como governos, universidades, etc.);\r\n- `:443`: **Porta de comunicação** (cada protocolo de comunicação possui uma porta padrão, por exemplo, o HTTP utiliza a porta 80 , HTTPS utiliza a porta 443. Porém, podemos utilizar outras portas, caso necessário);\r\n- `/posts`: **Caminho do recurso no servidor**;\r\n- `?s=javascript&tags[]=html&tags[]=css`: **Parâmetros da requisição** (informações adicionais que podem ser enviadas para o servidor);\r\n- `#top`: **Âncora** (identifica um local específico dentro de uma página - normalmente utilizado para rolar a página até o local desejado).\r\n\r\n## O construtor URL\r\n\r\nO JavaScript possui um construtor chamado `URL` que nos permite criar um objeto com as informações de uma URL. Veja o exemplo abaixo:\r\n\r\n```javascript\r\n// Criando um objeto URL\r\nconst url = new URL(\r\n  \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n);\r\n\r\n// Exibindo o objeto URL\r\nconsole.log(url);\r\n/*\r\nVocê verá o seguinte resultado:\r\n\r\nURL {\r\n  hash:  \"#top\"\r\n  host: \"blog.exemple.com.br\"\r\n  hostname: \"blog.exemple.com.br\"\r\n  href: \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n  origin: \"https://blog.exemple.com.br\"\r\n  password: \"password\"\r\n  pathname: \"/posts\"\r\n  port: \"\"\r\n  protocol: \"https:\"\r\n  search: \"?s=javascript&tags[]=html&tags[]=css\"\r\n  searchParams: URLSearchParams {size: 3}\r\n  username: \"user\"\r\n}\r\n*/\r\n```\r\n\r\nNote que a porta está vazia, pois o protocolo HTTPS utiliza a porta 443 por padrão. Caso houvesse uma porta diferente, ela seria exibida no atributo `port`.\r\n\r\n## O construtor URLSearchParams\r\n\r\nO JavaScript também possui um construtor chamado [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) que nos permite criar um objeto com os parâmetros de uma URL. Veja o exemplo abaixo:\r\n\r\n```javascript\r\n// Criando um objeto URLSearchParams\r\nconst params = new URLSearchParams(\"s=javascript&tags[]=html&tags[]=css\");\r\n```\r\n\r\nNote que ele já é está presente no objeto URL que criamos anteriormente (no attributo `searchParams`), de modo que podemos acessar os parâmetros da URL da seguinte maneira:\r\n\r\n```javascript\r\nconst url = new URL(\r\n  \"https://user:password@blog.exemple.com.br:443/posts?s=javascript&tags[]=html&tags[]=css#top\"\r\n);\r\n\r\nconsole.log(url.searchParams.get(\"s\")); // javascript\r\nconsole.log(url.searchParams.get(\"tags\")); // ['html', 'css']\r\n```\r\n\r\n## Uma nota importante sobre a âncora\r\n\r\nOs navegadores não enviam a âncora para o servidor, de modo que, no nosso exemplo, os caracteres `#top` só é acessível do lado do navegador. Algumas pessoas utilizam este recurso para armazenar o estado da aplicação ou informações encriptadas na URL que só serão acessíveis do lado do navegador, sem nunca ter acesso à isso pelo servidor.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "Node.js"
      ],
      "translates": null
    },
    {
      "id": "pd682cq57ureywz",
      "title": "Creating native modals with the dialog element",
      "slug": "creating-native-modals-with-the-dialog-element",
      "locale": "en-US",
      "created": "2023-08-13T19:29:49.318Z",
      "updated": "2023-08-15T00:22:38.749Z",
      "content": "Using custom dialog elements instead of native browser implementations, such as [`alert`](https://developer.mozilla.org/en-US/docs/Web/API/Window/alert),\r\n[`confirm`](https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm), or [`prompt`](https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt),\r\nhas become the standard for web development for quite some time (popularized by various [jQuery](https://jqueryui.com/dialog/) plugins and by [Bootstrap](https://getbootstrap.com/2.3.2/javascript.html#modals) itself), so that with every new UI library that emerges[^1][^2][^3], it is common for its authors to re-implement a modal with the framework of the moment (which may or may not implement [WAI-ARIA accessibility](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/)).\r\n\r\n[^1]: [Material UI Modal](https://mui.com/material-ui/react-modal/)\r\n[^2]: [Ant Design Modal](https://ant.design/components/modal)\r\n[^3]: [Carbon Design System Modal](https://carbondesignsystem.com/components/modal/usage/#live-demo)\r\n\r\nBut now, with the arrival of the [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element in HTML5 (supported by [93.85%](https://caniuse.com/dialog) of browsers in use), it is much easier to create dialogs natively. In this article, we will see how to create a simple modal (and non-modal) dialog with the `<dialog>` element.\r\n\r\n## Understanding the _dialog_ element\r\n\r\nIn the sense employed in user interface development, a **dialog** is a <q>conversation</q> between the system and the user, where the system expects a response from the user to continue. A dialog can be **modal** or **non-modal**. A modal dialog (that is, one that changes the **mode** of interaction of the user with the system) is one that locks the interface, preventing the user from interacting with the rest of the page until it is closed. A non-modal dialog (that is, one that _does not_ change the **mode** of interaction of the user with the system), on the other hand, allows the user to interact with the rest of the page while the dialog is open.\r\n\r\nThe simplest way to put a non-modal dialog on the screen is as follows:\r\n\r\n```html\r\n<dialog open>\r\n  <p>Olá, mundo!</p>\r\n  <form method=\"dialog\">\r\n    <button>Fechar</button>\r\n  </form>\r\n</dialog>\r\n```\r\n\r\nNote the form, on line 5, with the _dialog_ method. It is this form that sends actions to the `dialog`. It will be displayed like this:\r\n\r\n<CodePen id=\"zYMgBOz\" />\r\n\r\nWhat makes the example above a non-modal dialog is the use of the `open` attribute (line 1), which also makes it unable to be closed with the `Esc` key. It's possible to create a non-modal dialog using the JavaScript API:\r\n\r\n<CodePen id=\"BaGXqjx\" />\r\n\r\nIn order for it to behave like a modal, it is necessary to open it through its JavaScript API, as we will see next.\r\n\r\n<CodePen id=\"VwVojZB\" />\r\n\r\nThis time, we open and close the modal with JavaScript and put the form result in the `output` element when the modal is closed. Read the code carefully and try to understand what is happening.\r\n\r\n## Styling the modal\r\n\r\nThe `dialog` element can (of course), be styled like any other HTML element. However, note that, to style the overlay (the dark background behind the modal), it is necessary to use the `::backdrop` selector:\r\n\r\n<CodePen id=\"gOQVMYE\" />\r\n\r\n## Polyfill\r\n\r\nIf you want to use `dialog` and don't have compatibility issues in older browsers, you can use this [polyfill](https://github.com/GoogleChrome/dialog-polyfill).\r\n\r\n<hr />\r\n\r\n<h3>References</h3>\r\n\r\n- [Dialog](https://web.dev/learn/html/dialog/)\r\n- [Dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)\r\n- [Modal & Nonmodal Dialogs: When (& When Not) to Use Them](https://www.nngroup.com/articles/modal-nonmodal-dialog/)\r\n\n",
      "tags": [
        "html",
        "javascript",
        "tutorial"
      ],
      "translates": "066kuym52jk3nbp"
    },
    {
      "id": "066kuym52jk3nbp",
      "title": "Criando modais nativos com o elemento dialog",
      "slug": "criando-modais-nativos-com-o-elemento-dialog",
      "locale": "pt-BR",
      "created": "2023-08-13T01:49:01.615Z",
      "updated": "2023-08-15T00:22:04.855Z",
      "content": "Usar elementos customizados de diálogo no lugar das implementações nativas do navegador, como [`alert`](https://developer.mozilla.org/en-US/docs/Web/API/Window/alert),\r\n[`confirm`](https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm) ou [`prompt`](https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt),\r\nse tornou o padrão do desenvolvimento web há bastante tempo (popularizado por diversos plugins do [jQuery](https://jqueryui.com/dialog/) e pelo próprio [Bootstrap](https://getbootstrap.com/2.3.2/javascript.html#modals)), de modo que, a cada nova biblioteca de UI que surge[^1][^2][^3], é comum que seus autores re-implementem um modal com o framework da vez (que podem ou não implementar [acessibilidade WAI-ARIA](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/)).\r\n\r\n[^1]: [Modal do Material UI](https://mui.com/material-ui/react-modal/)\r\n[^2]: [Modal do Ant Design](https://ant.design/components/modal)\r\n[^3]: [Modal do Carbon Design System](https://carbondesignsystem.com/components/modal/usage/#live-demo)\r\n\r\nMas agora, com a chegada do elemento [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) no HTML5 (suportado por [93,85%](https://caniuse.com/dialog) dos navegadores em uso), é muito mais fácil criar diálogos de forma nativa. Neste artigo, vamos ver como criar um diálogo modal (e não-modal) simples com o elemento `<dialog>`.\r\n\r\n## Entendendo o elemento _dialog_\r\n\r\nNo sentido empregado no desenvolvimento de interfaces de usuário, um **diálogo** é uma <q>conversação</q> entre o sistema e o usuário, onde o sistema espera uma resposta do usuário para continuar. Um diálogo pode ser **modal** ou **não-modal**. Um diálogo modal (isto é um, um diálogo que muda o **modo** de interação do usuário com o sistema) é aquele que trava a interface, impedindo o usuário de interagir com o restante da página até que ele seja fechado. Um diálogo não-modal (isto é um, um diálogo que _não_ muda o **modo** de interação do usuário com o sistema), por outro lado, permite que o usuário interaja com o restante da página enquanto o diálogo está aberto.\r\n\r\nA maneira mais simples de colocar um diálogo não-modal na tela é da seguinte forma:\r\n\r\n```html\r\n<dialog open>\r\n  <p>Olá, mundo!</p>\r\n  <form method=\"dialog\">\r\n    <button>Fechar</button>\r\n  </form>\r\n</dialog>\r\n```\r\n\r\nNote o formulário, na linha 5, com o método _dialog_. É este formulário que envia ações para o `dialog`. Ele será exibido dessa forma:\r\n\r\n<CodePen id=\"qBQzzww\" />\r\n\r\nO que torna o exemplo acima um diálogo não modal é o uso do atributo `open` (linha 1), o que também faz com que ele não possa ser fechado com a tecla `Esc`. Também é possível criar um diálogo não modal usando a API JavaScript:\r\n\r\n<CodePen id=\"BaGXqjx\" />\r\n\r\nAgora, para que o diálogo se comporte como um modal, é necessário que ele seja aberto através de sua API JavaScript, você pode ver no exemplo a seguir:\r\n\r\n<CodePen id=\"ZEmdgYj\" />\r\n\r\nDesta vez, abrimos e fechamos o modal com JavaScript e colocamos o resultado do formulário no elemento `output` quando o modal é fechado. Leia o código com calma e tente entender o que está acontecendo.\r\n\r\n## Estilizando o modal\r\n\r\nO elemento `dialog` pode (é claro), ser estilizado como qualquer outro elemento HTML. Atente-se, porém, que, para estilizar o _overlay_ (o fundo escuro que fica atrás do modal), é necessário usar o seletor `::backdrop`:\r\n\r\n<CodePen id=\"PoxrMzW\" />\r\n\r\n## Polyfill\r\n\r\nSe você quiser usar o `dialog` e não ter problemas de compatibilidade em navegadores mais antigos, pode usar este [polyfill](https://github.com/GoogleChrome/dialog-polyfill).\r\n\r\n<hr />\r\n\r\n<h3>Referências</h3>\r\n\r\n- [Dialog](https://web.dev/learn/html/dialog/)\r\n- [Dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)\r\n- [Modal & Nonmodal Dialogs: When (& When Not) to Use Them](https://www.nngroup.com/articles/modal-nonmodal-dialog/)\r\n\n",
      "tags": [
        "tutorial",
        "javascript",
        "html"
      ],
      "translates": "pd682cq57ureywz"
    },
    {
      "id": "1z3ovbccz4z4tmh",
      "title": "Use este script do NPM para gerar seus arquivos do EditorConfig",
      "slug": "use-este-script-do-npm-para-gerar-seus-arquivos-do-editorconfig",
      "locale": "pt-BR",
      "created": "2022-01-01T15:00:00.000Z",
      "updated": "2022-12-29T14:52:01.854Z",
      "content": "Você já precisou criar um EditorConfig nos seus projetos de programação, mas\r\nnunca consegue lembrar de todas as opções que pode usar? Seus problemas\r\nacabaram: apenas digite npx create-editorconfig -y no seu terminal e tenha um\r\nEditorConfig gerado para você. Essas são as opções definidas por padrão:\r\n\r\n```\r\n# editorconfig.org\r\nroot = true\r\n\r\n[*]\r\ncharset = utf-8\r\nend_of_line = lf\r\ninsert_final_newline = true\r\nindent_style = space\r\nindent_size = 2\r\ntrim_trailing_whitespace = true\r\n```\r\n\r\nE se você desejar customizar estas configurações ou até mesmo adicionar mais\r\nconfigurações para um grupo de arquivo diferente (definindo um padrão [glob](https://en.wikipedia.org/wiki/Glob_(programming))),\r\napenas omita o parâmetro -y no terminal e responda às questões que aparecerão\r\nno terminal.\r\n\r\n## O que é o EditorConfig?\r\n\r\nEditorConfig é um formato de arquivo (o próprio .editorconfig) que serve para\r\ndefinir os estilos que um editor de código (como o [VS Code](https://code.visualstudio.com/)) deve aplicar nos\r\narquivos. Você pode até definir um conjunto diferente de regras para os arquivos\r\npresentes no seu projeto de acordo com suas respectivas extensões ou diretórios,\r\nutilizando um [padrão glob](https://en.wikipedia.org/wiki/Glob_(programming)).\r\n\r\n## Meu editor de código não está aplicando as configurações do EditorConfig\r\n\r\nPara aplicar as regras do seu .editorconfig, o seu editor de código deve ter um\r\nplugin ou ter implementado, nativamente, a aplicação das regras do EditorConfig\r\n(se você estiver usando o VS Code, você deve instalar [esta extensão](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)).\r\n\r\n## Como posso contribuir com o create-editorconfig?\r\n\r\nPor favor, vá ao [repositório oficial do GitHub](https://github.com/DouglasdeMoura/create-editorconfig) e abra uma nova issue.\n",
      "tags": [
        "javascript",
        "html"
      ],
      "translates": null
    },
    {
      "id": "qky4tlh4sx84esg",
      "title": "Como criar um indicador de carregamento perfeito para seus web apps",
      "slug": "como-criar-um-indicador-de-carregamento-perfeito-para-seus-web-apps",
      "locale": "pt-BR",
      "created": "2021-03-03T15:00:00.000Z",
      "updated": "2023-08-12T13:45:55.590Z",
      "content": "\r\nWeb apps são complexos e, mantê-los acessíveis para pessoas com necessidades\r\nespeciais exige um bom conhecimento das suas [espeficações](https://w3c.github.io/html-aria/).\r\nMas não se preocupe, pois neste artigo, eu vou mostrar como criar o indicadores\r\nde carregamento acessíveis e bonitos para suas aplicações.\r\n\r\n<aside className=\"aside-info\">\r\nNeste artigo, você aprender aprender para que servem os atributos <code> aria-live</code>,\r\n <code> aria-busy</code>, <code> aria-control </code> e <code>role</code>.\r\nAlém disso, aprenderá como adicionar um ícone de carregamento feito somente com CSS.\r\n</aside>\r\n\r\nUsamos indicadores de carregamento sempre que é necessário recuperar dados de maneira\r\nassíncrona em nossas aplicações, normalmente relacionadas à alguma interação do\r\nusuário: envio de formulários, requisições à <abbr title=\"Application Programming Interface\">API</abbr>s\r\nexternas, upload de arquivos, etc. Para executarmos estas ações, é necessário que\r\nforneçamos alguma identificação visual para que o usuário possa identificar que\r\na nossa aplicação está esperando algum dado ou retorno externo.\r\n\r\nVamos começar com um exemplo simples, onde uma região da tela será atualizada quando\r\num usuário selecionar um planeta da lista:\r\n\r\n```html\r\n<!-- Utilizaremos este formulário para selecionar um planeta -->\r\n<fieldset>\r\n  <legend>Informação do planeta</legend>\r\n  <label for=\"planetasSelect\">Planeta:</label>\r\n\r\n  <!--\r\n    O atributo aria-controls aponta para o ID do elemento da página este formulário controla\r\n  -->\r\n  <select id=\"planetasSelect\" aria-controls=\"planetaInformacoes\">\r\n    <option value=\"\">Selecione um planeta:</option>\r\n    <option value=\"mercurio\">Mercúrio</option>\r\n    <option value=\"venus\">Vênus</option>\r\n    <option value=\"terra\">Terra</option>\r\n    <option value=\"marte\">Marte</option>\r\n  </select>\r\n</fieldset>\r\n\r\n<!--\r\n  O atributo role=\"region\" define que a div a seguir é um ponto de destaque na\r\n  página, facilitando o acesso à região através do teclado.\r\n\r\n  Observe que o ID da div a seguir é o mesmo definido no atributo aria-controls\r\n  do select acima.\r\n\r\n  Definimos o aria-live como igual a polite. Desse modo, os leitores de\r\n  tela não interromperam a leitura da página quando o conteúdo dessa div for alterado.\r\n\r\n  Por fim, definimos o aria-busy para informar aos leitores de tela ou outras\r\n  tecnologias assistivas quando a região está aguardando um novo conteúdo.\r\n-->\r\n<div role=\"region\" id=\"planetaInformacoes\" aria-live=\"polite\" aria-busy=\"false\">\r\n  <h2 id=\"planetaNome\">Nenhum planeta selecionado</h2>\r\n  <p id=\"planetaDescricao\">Selecione um planeta para ver sua descrição</p>\r\n</div>\r\n\r\n<p>\r\n  <small>\r\n    Com informações da\r\n    <a href=\"https://en.wikipedia.org/wiki/Solar_System#Inner_Solar_System\">Wikipedia</a>\r\n  </small>\r\n</p>\r\n```\r\n\r\nAgora, precisamos dizer para o leitores de telas ou qualquer outra tecnologia assistiva\r\nque o parte do conteúdo exibido na tela é dinâmico. Para fazermos isso, usamos o\r\natributo `aria-live`<sup>[1](#aria-live-regions)</sup>, o qual pode receber um dos três argumentos:\r\n\r\n1. `off`: atributo padrão para todos os elementos da página. Normalmente, você\r\nnão precisa definir este atributo de maneira explícita;\r\n2. `assertive`: interrompe a leitura da tecnologia assistiva de maneira abrupta.\r\nSó deve ser utilizado para notificações críticas ou que requeiram a atenção imediata\r\ndo usuário;\r\n3. `polite`: indica que a uma região da página foi atualizada, mas não requer a\r\natenção imediata do usuário. É o atributo utilizado com mais frequência.\r\n\r\nTambém utilizamos o atributo `aria-busy` para informar aos leitores de tela que\r\na região está aguardando uma atualiação. Este atributo só aceita valores *booleanos*:\r\n`true` ou `false`.\r\n\r\nSe você leu o código acima com atenção, verá que definimos outros atributos:\r\n`aria-controls`<sup>[2](#using-aria)</sup> (linha 9) e `role`<sup>[3](#aria-region-role)</sup> (linha 32).\r\nO primeiro indica qual elemento o formulário controla, enquanto o segundo facilita\r\no acesso à região para pessoas que só podem utilizar o teclado para navegar na página.\r\n\r\nAgora, vamos adicionar um pouco de JavaScript para  selecionar os dados dos\r\nplanetas selecionados em nosso formulário:\r\n\r\n```javascript\r\nconst PLANETAS = {\r\n  mercurio: {\r\n    nome: 'Mercúrio',\r\n    descricao: 'Mercúrio é o menor e mais interno planeta do Sistema Solar. Tem o nome da divindade romana Mercúrio, o mensageiro dos deuses.'\r\n  },\r\n  venus: {\r\n    nome: 'Vênus',\r\n    descricao: 'Vênus é o segundo planeta depois do Sol. Foi nomeado em homenamgem à deusa romana do amor e da beleza.'\r\n  },\r\n  terra: {\r\n    nome: 'Terra',\r\n    descricao: 'A Terra é o terceiro planeta depois do Sol e o único planeta conhecido capaz de suportar a vida.'\r\n  },\r\n  marte: {\r\n    nome: 'Marte',\r\n    descricao: 'Marte é o quarto planeta depois do Sol e o segundo menor planeta do Sistema Solar. Seu nome é uma homenagem ao deus romano da Guerra. Também é conhecido com o \"Planeta Vermelho\".'\r\n  }\r\n}\r\n\r\nfunction renderizaInformacoesDoPlaneta(planeta) {\r\n  const planetaInformacoes = document.getElementById('planetaInformacoes');\r\n  const planetaNome = document.getElementById('planetaNome');\r\n  const planetaDescricao = document.getElementById('planetaDescricao');\r\n\r\n  planetaInformacoes.setAttribute('aria-busy', 'true');\r\n\r\n  setTimeout(() => {\r\n    if (planeta in PLANETAS) {\r\n      planetaNome.textContent = PLANETAS[planeta].nome;\r\n      planetaDescricao.textContent = PLANETAS[planeta].descricao;\r\n    } else {\r\n      planetaNome.textContent = 'Nenhum planeta selecionado';\r\n      planetaDescricao.textContent = 'Selecione um planeta para ver sua descrição';\r\n    }\r\n\r\n    planetaInformacoes.setAttribute('aria-busy', 'false');\r\n  }, 1100);\r\n}\r\n\r\ndocument.getElementById('planetasSelect')\r\n  .addEventListener('change', event => {\r\n    renderizaInformacoesDoPlaneta(event.target.value);\r\n  });\r\n```\r\n\r\nPerceba que utilizamos a função [`setTimeout`](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals)\r\n(linha 27) para simular o acesso à uma API externa.\r\n\r\nE para finalizar, adicionaremos um indicador de carregamento utilizando CSS. Sempre\r\nque algum elemento da página (`div`, `aside`, `main`, etc.) tiver um atributo `aria-busy`\r\nque seja igual a `true`, diminuiremos a opacidade do elemento e adicionaremos um\r\nícone de carregamento sobre o elemento em questão.\r\n\r\n```css\r\n[aria-busy] {\r\n  transition: opacity 0.2s linear;\r\n  position: relative;\r\n}\r\n\r\n[aria-busy=\"true\"] * {\r\n  opacity: 0.7;\r\n}\r\n\r\n[aria-busy=\"true\"]:before {\r\n  content: '';\r\n  display: block;\r\n  border: 6px solid transparent;\r\n  border-top-color: purple;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  animation: spin 1.2s infinite linear;\r\n  position: absolute;\r\n  left: calc(50% - 18px);\r\n  top: calc(50% - 18px);\r\n}\r\n\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n```\r\n\r\nDepois de tudo isso, podemos ver o nosso exemplo em ação:\r\n\r\n<iframe height=\"300\" style={{width: '100%'}} scrolling=\"no\" title=\"Exemplo de loading acessível\" src=\"https://codepen.io/douglasdemoura/embed/poNqmYq?default-tab=\" frameBorder=\"no\" loading=\"lazy\" />\r\n\r\nExperimente utilizar um leitor de tela no exemplo que acabamos de construir e veja\r\ncomo os atributos que adicionados ao nosso exemplo fornecem uma boa experiência de\r\nuso para usuários com necessidades especiais. Claro que podemos chegar ao mesmo\r\nresultado de diversas outras formas, mas é importante sempre levarmos em consideração\r\nse a nossa aplicação é acessível.\r\n\r\n\r\n<p><small>\r\n  <abbr title=\"Post scriptum\">P.S.</abbr>: interaja e edite o código deste exemplo no <a href=\"https://codepen.io/douglasdemoura/pen/poNqmYq\" target=\"_blank\">CodePen</a>.\r\n</small></p>\r\n\r\n<footer className=\"footnotes\">\r\n  <h4>Referências</h4>\r\n\r\n  <ol>\r\n    <li id=\"aria-live-regions\">\r\n      <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions\" target=\"_blank\">ARIA live regions</a>\r\n    </li>\r\n    <li id=\"using-aria\">\r\n      <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques\" target=\"_blank\">Using ARIA: Roles, states, and properties</a>\r\n    </li>\r\n    <li id=\"aria-region-role\">\r\n      <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Region_role\" target=\"_blank\">ARIA: Region role</a>\r\n    </li>\r\n  </ol>\r\n</footer>\n",
      "tags": [
        "html",
        "javascript"
      ],
      "translates": null
    },
    {
      "id": "02cjfu0pbl38fsa",
      "title": "Increase YouTube video playback rate up to 2x",
      "slug": "increase-youtube-video-playback-rate-up-to-2x",
      "locale": "en-US",
      "created": "2020-10-25T00:00:00.000Z",
      "updated": "2022-12-29T14:52:21.704Z",
      "content": "YouTube videos (along with all modern video implementations on the web) uses the [HTML5 video element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video). This new media tag implements the [HTMLMediaElement API](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement), which gives a plenty of media-related methods common to audio and video.\r\n\r\n\r\nThe standard YouTube player just allow us to increase video speed up to 2x, but, if you want to increase it even more? Well, there's a solution for that: just set the playback rate to whatever number you want!\r\n\r\nIn order to do that, you need to select the `<video>` element in the page and change its playback rate to the desired speed:\r\n\r\n\r\n```js\r\ndocument.getElementsByTagName('video')[0].playbackRate = 2.5;\r\n```\r\n\r\nIt's a good solution, but not a practical one. Gracefully, there's a better way to make use of this functionality without having to open the console of your browser.\r\n\r\n## JavaScript bookmarklet\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/hjvcu6sqxp24u5emozsb.png\" alt=\"Adding the bookmarklet on Firefox\" />\r\n  <figcaption>\r\n    Adding the bookmarklet on Firefox\r\n  </figcaption>\r\n</figure>\r\n\r\nIf you want to have this script always at hand, the best way is to put it inside a JavaScript [bookmarklet](https://en.wikipedia.org/wiki/Bookmarklet). Just create a new bookmark in you favorite browser and add the code below:\r\n\r\n```js\r\njavascript:(function() {\r\n  const rate = prompt('Set the new playback rate', 2.5);\r\n  if (rate != null) {\r\n    const video = document.getElementsByTagName('video')[0];\r\n    video.playbackRate = parseFloat(rate);\r\n  }\r\n})();\r\n```\r\n\r\nAnd here is an screenshot of the bookmarklet working:\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/erxbc4xcxdk7v0gun8z1.png\" alt=\"Video speed bookmarklet working\" />\r\n  <figcaption>\r\n    Changing the speed of an (awesome) <a href=\"https://www.youtube.com/watch?v=G4MvFT8TGII\">YouTube video</a>\r\n  </figcaption>\r\n</figure>\r\n\r\nFeel free to contribute with this code in <a href=\"https://gist.github.com/DouglasdeMoura/052456a93f93d47982ccb5eefc602eb1\" target=\"_blank\">my public gist</a>.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "video",
        "youtube"
      ],
      "translates": null
    }
  ],
  "Snippet": [
    {
      "id": "ivk3bq1nejzjip8",
      "title": "Um array com todos os estados do Brasil, para você reusar em suas aplicações",
      "slug": "um-array-com-todos-os-estados-do-brasil-para-voce-reusar-em-suas-aplicacoes",
      "locale": "pt-BR",
      "created": "2024-05-31T15:26:20.916Z",
      "updated": "2024-05-31T15:41:29.153Z",
      "content": "Eu já recriei este array tantas vezes na última década que eu só vou deixar este _snippet_ (em JSON) aqui para que eu possa apenas copiá-lo a qualquer momento.\r\n\r\n```json\r\n[\r\n  { \"value\": \"AC\", \"label\": \"Acre\" },\r\n  { \"value\": \"AL\", \"label\": \"Alagoas\" },\r\n  { \"value\": \"AP\", \"label\": \"Amapá\" },\r\n  { \"value\": \"AM\", \"label\": \"Amazonas\" },\r\n  { \"value\": \"BA\", \"label\": \"Bahia\" },\r\n  { \"value\": \"CE\", \"label\": \"Ceará\" },\r\n  { \"value\": \"DF\", \"label\": \"Distrito Federal\" },\r\n  { \"value\": \"ES\", \"label\": \"Espirito Santo\" },\r\n  { \"value\": \"GO\", \"label\": \"Goiás\" },\r\n  { \"value\": \"MA\", \"label\": \"Maranhão\" },\r\n  { \"value\": \"MS\", \"label\": \"Mato Grosso do Sul\" },\r\n  { \"value\": \"MT\", \"label\": \"Mato Grosso\" },\r\n  { \"value\": \"MG\", \"label\": \"Minas Gerais\" },\r\n  { \"value\": \"PA\", \"label\": \"Pará\" },\r\n  { \"value\": \"PB\", \"label\": \"Paraíba\" },\r\n  { \"value\": \"PR\", \"label\": \"Paraná\" },\r\n  { \"value\": \"PE\", \"label\": \"Pernambuco\" },\r\n  { \"value\": \"PI\", \"label\": \"Piauí\" },\r\n  { \"value\": \"RJ\", \"label\": \"Rio de Janeiro\" },\r\n  { \"value\": \"RN\", \"label\": \"Rio Grande do Norte\" },\r\n  { \"value\": \"RS\", \"label\": \"Rio Grande do Sul\" },\r\n  { \"value\": \"RO\", \"label\": \"Rondônia\" },\r\n  { \"value\": \"RR\", \"label\": \"Roraima\" },\r\n  { \"value\": \"SC\", \"label\": \"Santa Catarina\" },\r\n  { \"value\": \"SP\", \"label\": \"São Paulo\" },\r\n  { \"value\": \"SE\", \"label\": \"Sergipe\" },\r\n  { \"value\": \"TO\", \"label\": \"Tocantins\" }\r\n]\r\n```\n",
      "tags": [
        "javascript",
        "html",
        "Snippet"
      ],
      "translates": null
    }
  ],
  "Engenharia de Software": [
    {
      "id": "jbn0kg24q86k7vn",
      "title": "O programador poderoso",
      "slug": "o-programador-poderoso",
      "locale": "pt-BR",
      "created": "2024-01-22T20:18:03.828Z",
      "updated": "2024-01-23T13:26:49.676Z",
      "content": "Estimar, implementar e implantar software, rapidamente, é uma característica de programadores poderosos, como diz [Kent Beck](https://www.kentbeck.com/) em seu livro [Extreme Programming Explained](https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/). Vou explorar estes três pontos neste artigo, inserindo minhas próprias opiniões em cada ponto.\r\n\r\n## Estimativa\r\n\r\nEstimar um projeto software é [difícil](https://jacobian.org/2021/may/20/estimation/), e existem diversas técnicas diferentes de como estimar um projeto de software. Você pode criar um método, pela sua própria experiência, aprender o método utilizado por outras empresas mas, deve se atentar que, o ponto central é que você ter uma boa ideia de quanto tempo o projeto levará. Projetos têm começo, meio e fim. Aprenda a estimar (bem) o seu trabalho.\r\n\r\n## Implementação\r\n\r\nPara mim, particularmente, implementar é a parte mais divertida do projeto. E como em todo trabalho, temos que ser pragmáticos na escolha da linguagem e das ferramentas. Ser pragmático na escolha não significa, necessariamente, usar o mesmo que todo mundo utiliza, pois, muitas vezes, algumas ferramentas continuam fortes no mercado por pura inércia. O [Express](https://expressjs.com/) é um bom exemplo disso. Além de haverem muitas opções melhores e com um melhor suporte (como o [Fastify](https://fastify.dev/)), muitas equipes ainda começam novos projetos com Express, mesmo que ele não esteja sendo mantido regularmente, não trate rejeições de Promises, etc.\r\n\r\nFora a questão da escolha de ferramentas, é preciso que você **domine** a pilha de tecnologias do seu projeto, sendo capaz de implementar as melhores soluções no menor tempo possível. Na ponta da língua, você tem que saber um bom padrão para aplicar no projeto, um bom framework para o backend, um bom framework para o frontend ou mesmo um bom framework full stack. E a experiência do desenvolvimento não pode ficar de fora. Para que a implementação seja rápida, o entendimento do projeto deve ser fácil, sua documentação adequada e seus testes precisam validar os fluxos de **intenção** do usuário que utilizará o sistema.\r\n\r\n## Implantação\r\n\r\nHoje, você consegue construir um projeto inteiro e colocar em produção, sozinho? E não estou falando de subir um o seu projeto em uma plataforma completamente gerenciada, como a Vercel, mas sim, de pegar uma máquina Linux, instalar as ferramentas necessárias e expor a sua aplicação para a web. E não, isso não é nenhum tipo de purismo. Se você não é uma startup que pode queimar alguns milhões de reais por anos, sem se preocupar com o custo da sua infraestrutura, deveria, pelo menos, saber como iniciar a sua aplicação e mantê-la ativa entre as reinicializações do servidor (de preferência, usando *containers*), colocá-la atrás de um proxy reverso (como o [NGINX](https://www.nginx.com/) ou [Caddy](https://caddyserver.com/)), configurar um firewall e fazer um backup do banco de dados em três lugares diferentes. Você ainda pode subir várias instâncias da sua aplicação e usar a mesma ferramenta de proxy como load balancer para distribuir os acessos da sua aplicação às diferentes instâncias que estão rodando.\n",
      "tags": [
        "Engenharia de Software",
        "Padrões de Projeto",
        "Carreira"
      ],
      "translates": "wxuu4bshveoe7ld"
    },
    {
      "id": "o5per7i8c1wiyp5",
      "title": "O que são padrões de projeto na engenharia de software?",
      "slug": "o-que-sao-padroes-de-projeto-na-engenharia-de-software",
      "locale": "pt-BR",
      "created": "2023-09-04T20:00:07.730Z",
      "updated": "2023-09-11T19:50:55.358Z",
      "content": "No livro [_A Pattern Language_](https://en.wikipedia.org/wiki/A_Pattern_Language), Christopher Alexander e seus colegas definem um padrão como:\r\n\r\n> Cada padrão descreve um problema que ocorre repetidamente em nosso ambiente e, em seguida, descreve o núcleo da solução para esse problema, de tal forma que você pode usar essa solução um milhão de vezes, sem nunca fazê-lo da mesma maneira duas vezes.\r\n\r\n<div hidden>\r\nEach pattern describes a problem which occurs over and over again in our environment, and then describes the core of the solution to that problem, in such a way that you can use this solution a million times over, without ever doing it the same way twice\r\n</div>\r\n\r\nCristopher e os outros autores estavam se referindo a padrões de arquitetura de construção, mas, desde muito tempo, a disciplina de engenharia de software adotou este mesmo conceito para o desenvolvimento de software, que foi cristalizado pelo famoso livro [_Design Patterns: Elements of Reusable Object-Oriented Software_](https://engsoftmoderna.info/cap6.html#padr%C3%B5es-de-projeto) de Erich Gamma, Richard Helm, Ralph Johnson e John Vlissides (conhecidos como _Gang of Four_ ou _GoF_). No livro, eles definem padrões de projeto como:\r\n\r\n> Padrões de projeto descrevem objetos e classes que se relacionam para resolver um problema de projeto genérico em um contexto particular.\r\n\r\nÉ preciso entender que os padrões de projeto descritos nestes livros não são soluções que **devem** ser aplicadas em toda e qualquer situação, mas sim, descrições gerais de soluções para problemas comuns de projetos de software. Desse modo, as soluções propostas podem ser entendidas como um catálogo, a partir do qual pode-se estabelecer um vocabulário comum entre todas as pessoas envolvidas no desenvolvimento de um software, facilitando a comunicação e a compreensão do código.\r\n\r\nPara ilustrar o que foi dito até aqui, vamos considerar um exemplo. Suponha que você está construindo um sistema de gerenciamento de uma biblioteca pessoal e, no seu banco de dados relacional, há uma tabela para armazenar os dados de um livro. A tabela pode ser criada com o seguinte comando SQL, em um banco de dados SQLite:\r\n\r\n```sql\r\n-- SQLite\r\nCREATE TABLE\r\n  `books` (\r\n    `id` INTEGER NOT NULL PRIMARY KEY autoincrement,\r\n    `author` TEXT NOT NULL,\r\n    `title` TEXT NOT NULL,\r\n    `isbn` TEXT NOT NULL,\r\n    `updated_at` DATETIME NULL,\r\n    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP\r\n  );\r\n```\r\n\r\nVamos escolher o padrão [_Active Record_](https://www.martinfowler.com/eaaCatalog/activeRecord.html) para representar os dados de um livro no nosso sistema. Para isso, vamos criar uma classe em JavaScript conforme o diagrama abaixo:\r\n\r\n<SVG64 \r\nwidth={250}\r\ncontent=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE5MS43NTUwNzA0OTM4NjYyNCAyMzUuMTQ1MjI2OTU1Mjc3NTYiIHdpZHRoPSI1NzUuMjY1MjExNDgxNTk4NyIgaGVpZ2h0PSI3MDUuNDM1NjgwODY1ODMyNiI+CiAgPCEtLSBzdmctc291cmNlOmV4Y2FsaWRyYXcgLS0+CiAgCiAgPGRlZnM+CiAgICA8c3R5bGUgY2xhc3M9InN0eWxlLWZvbnRzIj4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgICAKICA8L2RlZnM+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MS43NTUwNzA0OTM4NjYyNCIgaGVpZ2h0PSIyMzUuMTQ1MjI2OTU1Mjc3NTYiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSByb3RhdGUoMCA4NS44Nzc1MzUyNDY5MzMxMiAxMDcuNTcyNjEzNDc3NjM4NzgpIj48cGF0aCBkPSJNMCAwIEM0MS42MSAwLCA4My4yMiAwLCAxNzEuNzYgMCBNMCAwIEM0MC40OSAwLCA4MC45OSAwLCAxNzEuNzYgMCBNMTcxLjc2IDAgQzE3MS43NiA2Ni42NiwgMTcxLjc2IDEzMy4zMSwgMTcxLjc2IDIxNS4xNSBNMTcxLjc2IDAgQzE3MS43NiA2Mi4zOCwgMTcxLjc2IDEyNC43NiwgMTcxLjc2IDIxNS4xNSBNMTcxLjc2IDIxNS4xNSBDMTE5LjM2IDIxNS4xNSwgNjYuOTYgMjE1LjE1LCAwIDIxNS4xNSBNMTcxLjc2IDIxNS4xNSBDMTI4LjQ4IDIxNS4xNSwgODUuMiAyMTUuMTUsIDAgMjE1LjE1IE0wIDIxNS4xNSBDMCAxNDEuNTYsIDAgNjcuOTcsIDAgMCBNMCAyMTUuMTUgQzAgMTU4LjA2LCAwIDEwMC45NywgMCAwIiBzdHJva2U9IiMxZTFlMWUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1Ny4yMTA2NjExNjUyNzAwNCAxNy40NDg1Mzc5NDkyNTAyMzcpIHJvdGF0ZSgwIDM0Ljg4OTAxMjQyMzQyODU0IDE4Ljc4MTc4NTYyNjQ3ODQ2NykiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJWaXJnaWwsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjMwLjA1MDg1NzAwMjM2NTU2OHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5Cb29rPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMi43MzUwNTM2MTI3MDcxMzQgNzYuNjEyOTk0NTM3NjQxMzgpIHJvdGF0ZSgwIDQwLjUwOTk2Mzk4OTI1NzgxIDYyLjUpIj48dGV4dCB4PSIwIiB5PSIwIiBmb250LWZhbWlseT0iVmlyZ2lsLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5jcmVhdGU8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJWaXJnaWwsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnVwZGF0ZTwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MCIgZm9udC1mYW1pbHk9IlZpcmdpbCwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZGVsZXRlPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc1IiBmb250LWZhbWlseT0iVmlyZ2lsLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5maW5kQnlJZDwvdGV4dD48dGV4dCB4PSIwIiB5PSIxMDAiIGZvbnQtZmFtaWx5PSJWaXJnaWwsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPmFsbDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC44MDgzODI2MTc0Njc0ODcgNjEuMzgyNzE3NDY4NTg3MTQ2KSByb3RhdGUoMCA4NS4yNDUzMTg4Njg2NjgxNiAtMC4xOTAyOTE4MTQ2NTcyMjkpIj48cGF0aCBkPSJNMCAwIEMyOC40MiAtMC4wNiwgMTQyLjA4IC0wLjMyLCAxNzAuNDkgLTAuMzggTTAgMCBDMjguNDIgLTAuMDYsIDE0Mi4wOCAtMC4zMiwgMTcwLjQ5IC0wLjM4IiBzdHJva2U9IiMxZTFlMWUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjwvc3ZnPg==\" />\r\n\r\nE este é o código:\r\n\r\n```javascript\r\nimport { AsyncDatabase } from 'promised-sqlite3'\r\n\r\nconst db = await AsyncDatabase.open(\r\n  // caminho para o arquivo do banco de dados SQLite\r\n  process.env.DATABASE_URL,\r\n)\r\n\r\nexport class ActiveRecord {\r\n  constructor({ database = db, tableName }) {\r\n    this.database = database\r\n    this.tableName = tableName\r\n  }\r\n\r\n  all(columns = '*') {\r\n    const cols = Array.isArray(columns) ? columns.join(', ') : columns\r\n\r\n    return this.database.all(`SELECT ${cols} FROM ${this.tableName}`)\r\n  }\r\n\r\n  async findById(id, columns = '*') {\r\n    const cols = Array.isArray(columns) ? columns.join(', ') : columns\r\n    const statement = await this.database.prepare(\r\n      `SELECT ${cols} FROM ${this.tableName} WHERE id = $id`, { $id: id },\r\n    )\r\n\r\n    return statement.get()\r\n  }\r\n\r\n  async create(data) {\r\n    const columns = Object.keys(data)\r\n    const values = Object.values(data)\r\n    const statement = await this.database.prepare(\r\n      `INSERT INTO ${this.tableName} (${columns.join(', ')}) VALUES (${columns.map(() => '?').join(', ')})`,\r\n      values,\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n\r\n  async update(id, data) {\r\n    const columns = Object.keys(data)\r\n    const values = Object.values(data)\r\n    const statement = await this.database.prepare(\r\n      `UPDATE ${this.tableName} SET ${columns.map(column => `${column} = ?`).join(', ')} WHERE id = $id`,\r\n      [...values, id],\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n\r\n  async delete(id) {\r\n    const statement = await this.database.prepare(\r\n      `DELETE FROM ${this.tableName} WHERE id = $id`,\r\n      { $id: id },\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n}\r\n\r\nexport class Book extends ActiveRecord {\r\n  constructor() {\r\n    super({ tableName: 'books' })\r\n  }\r\n}\r\n```\r\n\r\n<Alert title=\"Atenção\" mb=\"md\" color=\"yellow\">\r\nA implementação acima é apenas um exemplo didático. Não há preocupações com segurança ou validação de dados antes de inseri-los ou atualizar os dados no banco de dados.\r\n</Alert>\r\n\r\nNote que todo o SQL necessário para manipular os dados no nosso banco SQLite está encapsulado na classe `ActiveRecord`. Além disso, a classe `Book` herda todos os métodos da classe `ActiveRecord` e, portanto, não é necessário escrever o mesmo código para cada tabela do banco de dados. Desse modo, é possível criar várias entidades distintas no nosso sistema, como `Author`, `Publisher`, `Category`, `BookCategory`, `BookAuthor`, `BookPublisher`, etc. Todas elas herdam os métodos da classe `ActiveRecord` e, portanto, não é necessário escrever o mesmo código para cada tabela do banco de dados.\r\n\r\nMais que isso, podemos reimplementar os métodos da classe pai na classe filha, caso haja algum requisito especial para alguma entidade, como transformar o `delete` em um _soft delete_. Por exemplo:\r\n\r\n```javascript\r\nexport class Book extends ActiveRecord {\r\n  constructor() {\r\n    super({ tableName: 'books' })\r\n  }\r\n\r\n  async delete(id) {\r\n    const statement = await this.database.prepare(\r\n      // Não se esqueça de adicionar a coluna `deleted` na tabela `books`\r\n      `UPDATE ${this.tableName} SET deleted = true WHERE id = $id`,\r\n      { $id: id },\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n}\r\n```\r\n\r\nEste padrão pode resolver o nosso caso de uso, porém, como próprio Martin Fowler alerta, este padrão pode não ser o mais adequado para se aplicar em uma entidade que precisa se relacionar com um repositório (ou repositórios) de dados mais complexos (apesar de que Ruby on Rails [utiliza este padrão](https://guides.rubyonrails.org/active_record_basics.html) extensamente).\r\n\r\nSe tiver alguma dúvida, comentário ou sugestão, deixe um comentário abaixo ou entre em contato comigo pelo [Twitter](https://twitter.com/douglasdemoura).\r\n\r\n## Referências\r\n\r\n- [Padrões de Projeto](https://engsoftmoderna.info/cap6.html#padr%C3%B5es-de-projeto)\r\n- [Design patterns: elements of reusable object-oriented software](https://dl.acm.org/doi/book/10.5555/186897)\r\n- [Patterns of Enterprise Application Architecture, by Martin Fowler](https://martinfowler.com/books/eaa.html)\n",
      "tags": [
        "Engenharia de Software",
        "Padrões de Projeto"
      ],
      "translates": null
    }
  ],
  "Padrões de Projeto": [
    {
      "id": "jbn0kg24q86k7vn",
      "title": "O programador poderoso",
      "slug": "o-programador-poderoso",
      "locale": "pt-BR",
      "created": "2024-01-22T20:18:03.828Z",
      "updated": "2024-01-23T13:26:49.676Z",
      "content": "Estimar, implementar e implantar software, rapidamente, é uma característica de programadores poderosos, como diz [Kent Beck](https://www.kentbeck.com/) em seu livro [Extreme Programming Explained](https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/). Vou explorar estes três pontos neste artigo, inserindo minhas próprias opiniões em cada ponto.\r\n\r\n## Estimativa\r\n\r\nEstimar um projeto software é [difícil](https://jacobian.org/2021/may/20/estimation/), e existem diversas técnicas diferentes de como estimar um projeto de software. Você pode criar um método, pela sua própria experiência, aprender o método utilizado por outras empresas mas, deve se atentar que, o ponto central é que você ter uma boa ideia de quanto tempo o projeto levará. Projetos têm começo, meio e fim. Aprenda a estimar (bem) o seu trabalho.\r\n\r\n## Implementação\r\n\r\nPara mim, particularmente, implementar é a parte mais divertida do projeto. E como em todo trabalho, temos que ser pragmáticos na escolha da linguagem e das ferramentas. Ser pragmático na escolha não significa, necessariamente, usar o mesmo que todo mundo utiliza, pois, muitas vezes, algumas ferramentas continuam fortes no mercado por pura inércia. O [Express](https://expressjs.com/) é um bom exemplo disso. Além de haverem muitas opções melhores e com um melhor suporte (como o [Fastify](https://fastify.dev/)), muitas equipes ainda começam novos projetos com Express, mesmo que ele não esteja sendo mantido regularmente, não trate rejeições de Promises, etc.\r\n\r\nFora a questão da escolha de ferramentas, é preciso que você **domine** a pilha de tecnologias do seu projeto, sendo capaz de implementar as melhores soluções no menor tempo possível. Na ponta da língua, você tem que saber um bom padrão para aplicar no projeto, um bom framework para o backend, um bom framework para o frontend ou mesmo um bom framework full stack. E a experiência do desenvolvimento não pode ficar de fora. Para que a implementação seja rápida, o entendimento do projeto deve ser fácil, sua documentação adequada e seus testes precisam validar os fluxos de **intenção** do usuário que utilizará o sistema.\r\n\r\n## Implantação\r\n\r\nHoje, você consegue construir um projeto inteiro e colocar em produção, sozinho? E não estou falando de subir um o seu projeto em uma plataforma completamente gerenciada, como a Vercel, mas sim, de pegar uma máquina Linux, instalar as ferramentas necessárias e expor a sua aplicação para a web. E não, isso não é nenhum tipo de purismo. Se você não é uma startup que pode queimar alguns milhões de reais por anos, sem se preocupar com o custo da sua infraestrutura, deveria, pelo menos, saber como iniciar a sua aplicação e mantê-la ativa entre as reinicializações do servidor (de preferência, usando *containers*), colocá-la atrás de um proxy reverso (como o [NGINX](https://www.nginx.com/) ou [Caddy](https://caddyserver.com/)), configurar um firewall e fazer um backup do banco de dados em três lugares diferentes. Você ainda pode subir várias instâncias da sua aplicação e usar a mesma ferramenta de proxy como load balancer para distribuir os acessos da sua aplicação às diferentes instâncias que estão rodando.\n",
      "tags": [
        "Engenharia de Software",
        "Padrões de Projeto",
        "Carreira"
      ],
      "translates": "wxuu4bshveoe7ld"
    },
    {
      "id": "o5per7i8c1wiyp5",
      "title": "O que são padrões de projeto na engenharia de software?",
      "slug": "o-que-sao-padroes-de-projeto-na-engenharia-de-software",
      "locale": "pt-BR",
      "created": "2023-09-04T20:00:07.730Z",
      "updated": "2023-09-11T19:50:55.358Z",
      "content": "No livro [_A Pattern Language_](https://en.wikipedia.org/wiki/A_Pattern_Language), Christopher Alexander e seus colegas definem um padrão como:\r\n\r\n> Cada padrão descreve um problema que ocorre repetidamente em nosso ambiente e, em seguida, descreve o núcleo da solução para esse problema, de tal forma que você pode usar essa solução um milhão de vezes, sem nunca fazê-lo da mesma maneira duas vezes.\r\n\r\n<div hidden>\r\nEach pattern describes a problem which occurs over and over again in our environment, and then describes the core of the solution to that problem, in such a way that you can use this solution a million times over, without ever doing it the same way twice\r\n</div>\r\n\r\nCristopher e os outros autores estavam se referindo a padrões de arquitetura de construção, mas, desde muito tempo, a disciplina de engenharia de software adotou este mesmo conceito para o desenvolvimento de software, que foi cristalizado pelo famoso livro [_Design Patterns: Elements of Reusable Object-Oriented Software_](https://engsoftmoderna.info/cap6.html#padr%C3%B5es-de-projeto) de Erich Gamma, Richard Helm, Ralph Johnson e John Vlissides (conhecidos como _Gang of Four_ ou _GoF_). No livro, eles definem padrões de projeto como:\r\n\r\n> Padrões de projeto descrevem objetos e classes que se relacionam para resolver um problema de projeto genérico em um contexto particular.\r\n\r\nÉ preciso entender que os padrões de projeto descritos nestes livros não são soluções que **devem** ser aplicadas em toda e qualquer situação, mas sim, descrições gerais de soluções para problemas comuns de projetos de software. Desse modo, as soluções propostas podem ser entendidas como um catálogo, a partir do qual pode-se estabelecer um vocabulário comum entre todas as pessoas envolvidas no desenvolvimento de um software, facilitando a comunicação e a compreensão do código.\r\n\r\nPara ilustrar o que foi dito até aqui, vamos considerar um exemplo. Suponha que você está construindo um sistema de gerenciamento de uma biblioteca pessoal e, no seu banco de dados relacional, há uma tabela para armazenar os dados de um livro. A tabela pode ser criada com o seguinte comando SQL, em um banco de dados SQLite:\r\n\r\n```sql\r\n-- SQLite\r\nCREATE TABLE\r\n  `books` (\r\n    `id` INTEGER NOT NULL PRIMARY KEY autoincrement,\r\n    `author` TEXT NOT NULL,\r\n    `title` TEXT NOT NULL,\r\n    `isbn` TEXT NOT NULL,\r\n    `updated_at` DATETIME NULL,\r\n    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP\r\n  );\r\n```\r\n\r\nVamos escolher o padrão [_Active Record_](https://www.martinfowler.com/eaaCatalog/activeRecord.html) para representar os dados de um livro no nosso sistema. Para isso, vamos criar uma classe em JavaScript conforme o diagrama abaixo:\r\n\r\n<SVG64 \r\nwidth={250}\r\ncontent=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE5MS43NTUwNzA0OTM4NjYyNCAyMzUuMTQ1MjI2OTU1Mjc3NTYiIHdpZHRoPSI1NzUuMjY1MjExNDgxNTk4NyIgaGVpZ2h0PSI3MDUuNDM1NjgwODY1ODMyNiI+CiAgPCEtLSBzdmctc291cmNlOmV4Y2FsaWRyYXcgLS0+CiAgCiAgPGRlZnM+CiAgICA8c3R5bGUgY2xhc3M9InN0eWxlLWZvbnRzIj4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgICAKICA8L2RlZnM+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MS43NTUwNzA0OTM4NjYyNCIgaGVpZ2h0PSIyMzUuMTQ1MjI2OTU1Mjc3NTYiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSByb3RhdGUoMCA4NS44Nzc1MzUyNDY5MzMxMiAxMDcuNTcyNjEzNDc3NjM4NzgpIj48cGF0aCBkPSJNMCAwIEM0MS42MSAwLCA4My4yMiAwLCAxNzEuNzYgMCBNMCAwIEM0MC40OSAwLCA4MC45OSAwLCAxNzEuNzYgMCBNMTcxLjc2IDAgQzE3MS43NiA2Ni42NiwgMTcxLjc2IDEzMy4zMSwgMTcxLjc2IDIxNS4xNSBNMTcxLjc2IDAgQzE3MS43NiA2Mi4zOCwgMTcxLjc2IDEyNC43NiwgMTcxLjc2IDIxNS4xNSBNMTcxLjc2IDIxNS4xNSBDMTE5LjM2IDIxNS4xNSwgNjYuOTYgMjE1LjE1LCAwIDIxNS4xNSBNMTcxLjc2IDIxNS4xNSBDMTI4LjQ4IDIxNS4xNSwgODUuMiAyMTUuMTUsIDAgMjE1LjE1IE0wIDIxNS4xNSBDMCAxNDEuNTYsIDAgNjcuOTcsIDAgMCBNMCAyMTUuMTUgQzAgMTU4LjA2LCAwIDEwMC45NywgMCAwIiBzdHJva2U9IiMxZTFlMWUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1Ny4yMTA2NjExNjUyNzAwNCAxNy40NDg1Mzc5NDkyNTAyMzcpIHJvdGF0ZSgwIDM0Ljg4OTAxMjQyMzQyODU0IDE4Ljc4MTc4NTYyNjQ3ODQ2NykiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJWaXJnaWwsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjMwLjA1MDg1NzAwMjM2NTU2OHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5Cb29rPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMi43MzUwNTM2MTI3MDcxMzQgNzYuNjEyOTk0NTM3NjQxMzgpIHJvdGF0ZSgwIDQwLjUwOTk2Mzk4OTI1NzgxIDYyLjUpIj48dGV4dCB4PSIwIiB5PSIwIiBmb250LWZhbWlseT0iVmlyZ2lsLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5jcmVhdGU8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJWaXJnaWwsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnVwZGF0ZTwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MCIgZm9udC1mYW1pbHk9IlZpcmdpbCwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZGVsZXRlPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc1IiBmb250LWZhbWlseT0iVmlyZ2lsLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5maW5kQnlJZDwvdGV4dD48dGV4dCB4PSIwIiB5PSIxMDAiIGZvbnQtZmFtaWx5PSJWaXJnaWwsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPmFsbDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC44MDgzODI2MTc0Njc0ODcgNjEuMzgyNzE3NDY4NTg3MTQ2KSByb3RhdGUoMCA4NS4yNDUzMTg4Njg2NjgxNiAtMC4xOTAyOTE4MTQ2NTcyMjkpIj48cGF0aCBkPSJNMCAwIEMyOC40MiAtMC4wNiwgMTQyLjA4IC0wLjMyLCAxNzAuNDkgLTAuMzggTTAgMCBDMjguNDIgLTAuMDYsIDE0Mi4wOCAtMC4zMiwgMTcwLjQ5IC0wLjM4IiBzdHJva2U9IiMxZTFlMWUiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjwvc3ZnPg==\" />\r\n\r\nE este é o código:\r\n\r\n```javascript\r\nimport { AsyncDatabase } from 'promised-sqlite3'\r\n\r\nconst db = await AsyncDatabase.open(\r\n  // caminho para o arquivo do banco de dados SQLite\r\n  process.env.DATABASE_URL,\r\n)\r\n\r\nexport class ActiveRecord {\r\n  constructor({ database = db, tableName }) {\r\n    this.database = database\r\n    this.tableName = tableName\r\n  }\r\n\r\n  all(columns = '*') {\r\n    const cols = Array.isArray(columns) ? columns.join(', ') : columns\r\n\r\n    return this.database.all(`SELECT ${cols} FROM ${this.tableName}`)\r\n  }\r\n\r\n  async findById(id, columns = '*') {\r\n    const cols = Array.isArray(columns) ? columns.join(', ') : columns\r\n    const statement = await this.database.prepare(\r\n      `SELECT ${cols} FROM ${this.tableName} WHERE id = $id`, { $id: id },\r\n    )\r\n\r\n    return statement.get()\r\n  }\r\n\r\n  async create(data) {\r\n    const columns = Object.keys(data)\r\n    const values = Object.values(data)\r\n    const statement = await this.database.prepare(\r\n      `INSERT INTO ${this.tableName} (${columns.join(', ')}) VALUES (${columns.map(() => '?').join(', ')})`,\r\n      values,\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n\r\n  async update(id, data) {\r\n    const columns = Object.keys(data)\r\n    const values = Object.values(data)\r\n    const statement = await this.database.prepare(\r\n      `UPDATE ${this.tableName} SET ${columns.map(column => `${column} = ?`).join(', ')} WHERE id = $id`,\r\n      [...values, id],\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n\r\n  async delete(id) {\r\n    const statement = await this.database.prepare(\r\n      `DELETE FROM ${this.tableName} WHERE id = $id`,\r\n      { $id: id },\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n}\r\n\r\nexport class Book extends ActiveRecord {\r\n  constructor() {\r\n    super({ tableName: 'books' })\r\n  }\r\n}\r\n```\r\n\r\n<Alert title=\"Atenção\" mb=\"md\" color=\"yellow\">\r\nA implementação acima é apenas um exemplo didático. Não há preocupações com segurança ou validação de dados antes de inseri-los ou atualizar os dados no banco de dados.\r\n</Alert>\r\n\r\nNote que todo o SQL necessário para manipular os dados no nosso banco SQLite está encapsulado na classe `ActiveRecord`. Além disso, a classe `Book` herda todos os métodos da classe `ActiveRecord` e, portanto, não é necessário escrever o mesmo código para cada tabela do banco de dados. Desse modo, é possível criar várias entidades distintas no nosso sistema, como `Author`, `Publisher`, `Category`, `BookCategory`, `BookAuthor`, `BookPublisher`, etc. Todas elas herdam os métodos da classe `ActiveRecord` e, portanto, não é necessário escrever o mesmo código para cada tabela do banco de dados.\r\n\r\nMais que isso, podemos reimplementar os métodos da classe pai na classe filha, caso haja algum requisito especial para alguma entidade, como transformar o `delete` em um _soft delete_. Por exemplo:\r\n\r\n```javascript\r\nexport class Book extends ActiveRecord {\r\n  constructor() {\r\n    super({ tableName: 'books' })\r\n  }\r\n\r\n  async delete(id) {\r\n    const statement = await this.database.prepare(\r\n      // Não se esqueça de adicionar a coluna `deleted` na tabela `books`\r\n      `UPDATE ${this.tableName} SET deleted = true WHERE id = $id`,\r\n      { $id: id },\r\n    )\r\n\r\n    return statement.run()\r\n  }\r\n}\r\n```\r\n\r\nEste padrão pode resolver o nosso caso de uso, porém, como próprio Martin Fowler alerta, este padrão pode não ser o mais adequado para se aplicar em uma entidade que precisa se relacionar com um repositório (ou repositórios) de dados mais complexos (apesar de que Ruby on Rails [utiliza este padrão](https://guides.rubyonrails.org/active_record_basics.html) extensamente).\r\n\r\nSe tiver alguma dúvida, comentário ou sugestão, deixe um comentário abaixo ou entre em contato comigo pelo [Twitter](https://twitter.com/douglasdemoura).\r\n\r\n## Referências\r\n\r\n- [Padrões de Projeto](https://engsoftmoderna.info/cap6.html#padr%C3%B5es-de-projeto)\r\n- [Design patterns: elements of reusable object-oriented software](https://dl.acm.org/doi/book/10.5555/186897)\r\n- [Patterns of Enterprise Application Architecture, by Martin Fowler](https://martinfowler.com/books/eaa.html)\n",
      "tags": [
        "Engenharia de Software",
        "Padrões de Projeto"
      ],
      "translates": null
    }
  ],
  "Carreira": [
    {
      "id": "jbn0kg24q86k7vn",
      "title": "O programador poderoso",
      "slug": "o-programador-poderoso",
      "locale": "pt-BR",
      "created": "2024-01-22T20:18:03.828Z",
      "updated": "2024-01-23T13:26:49.676Z",
      "content": "Estimar, implementar e implantar software, rapidamente, é uma característica de programadores poderosos, como diz [Kent Beck](https://www.kentbeck.com/) em seu livro [Extreme Programming Explained](https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/). Vou explorar estes três pontos neste artigo, inserindo minhas próprias opiniões em cada ponto.\r\n\r\n## Estimativa\r\n\r\nEstimar um projeto software é [difícil](https://jacobian.org/2021/may/20/estimation/), e existem diversas técnicas diferentes de como estimar um projeto de software. Você pode criar um método, pela sua própria experiência, aprender o método utilizado por outras empresas mas, deve se atentar que, o ponto central é que você ter uma boa ideia de quanto tempo o projeto levará. Projetos têm começo, meio e fim. Aprenda a estimar (bem) o seu trabalho.\r\n\r\n## Implementação\r\n\r\nPara mim, particularmente, implementar é a parte mais divertida do projeto. E como em todo trabalho, temos que ser pragmáticos na escolha da linguagem e das ferramentas. Ser pragmático na escolha não significa, necessariamente, usar o mesmo que todo mundo utiliza, pois, muitas vezes, algumas ferramentas continuam fortes no mercado por pura inércia. O [Express](https://expressjs.com/) é um bom exemplo disso. Além de haverem muitas opções melhores e com um melhor suporte (como o [Fastify](https://fastify.dev/)), muitas equipes ainda começam novos projetos com Express, mesmo que ele não esteja sendo mantido regularmente, não trate rejeições de Promises, etc.\r\n\r\nFora a questão da escolha de ferramentas, é preciso que você **domine** a pilha de tecnologias do seu projeto, sendo capaz de implementar as melhores soluções no menor tempo possível. Na ponta da língua, você tem que saber um bom padrão para aplicar no projeto, um bom framework para o backend, um bom framework para o frontend ou mesmo um bom framework full stack. E a experiência do desenvolvimento não pode ficar de fora. Para que a implementação seja rápida, o entendimento do projeto deve ser fácil, sua documentação adequada e seus testes precisam validar os fluxos de **intenção** do usuário que utilizará o sistema.\r\n\r\n## Implantação\r\n\r\nHoje, você consegue construir um projeto inteiro e colocar em produção, sozinho? E não estou falando de subir um o seu projeto em uma plataforma completamente gerenciada, como a Vercel, mas sim, de pegar uma máquina Linux, instalar as ferramentas necessárias e expor a sua aplicação para a web. E não, isso não é nenhum tipo de purismo. Se você não é uma startup que pode queimar alguns milhões de reais por anos, sem se preocupar com o custo da sua infraestrutura, deveria, pelo menos, saber como iniciar a sua aplicação e mantê-la ativa entre as reinicializações do servidor (de preferência, usando *containers*), colocá-la atrás de um proxy reverso (como o [NGINX](https://www.nginx.com/) ou [Caddy](https://caddyserver.com/)), configurar um firewall e fazer um backup do banco de dados em três lugares diferentes. Você ainda pode subir várias instâncias da sua aplicação e usar a mesma ferramenta de proxy como load balancer para distribuir os acessos da sua aplicação às diferentes instâncias que estão rodando.\n",
      "tags": [
        "Engenharia de Software",
        "Padrões de Projeto",
        "Carreira"
      ],
      "translates": "wxuu4bshveoe7ld"
    }
  ],
  "Linux": [
    {
      "id": "ii9colsinjxkx1s",
      "title": "Aliases do Git que uso diariamente",
      "slug": "aliases-do-git-que-uso-diariamente",
      "locale": "pt-BR",
      "created": "2024-07-31T17:24:35.964Z",
      "updated": "2024-07-31T17:38:59.555Z",
      "content": "Eu gosto de sempre ter um terminal aberto enquanto estou trabalhando e, por conta disso, acabo interagindo com o Git no terminal com muito mais frequência do que através da GUI da IDE. Por conta disso, sempre configuro os seguintes aliases para facilitar o uso dos comandos que mais utilizo:\r\n\r\n```bash\r\nalias g=git\r\nalias ga='git add'\r\nalias gaa='git add --all'\r\nalias gb='git branch'\r\nalias gc='git commit'\r\nalias gac='git commit -ac'\r\nalias gca='git commit --amend'\r\nalias gca!='git commit --amend --no-verify'\r\nalias gcm='git commit -m'\r\nalias gco='git checkout'\r\nalias gcb='git checkout -b'\r\nalias gp='git pull -p'\r\nalias gpo='git push origin'\r\nalias gpo!='git push origin --force-with-lease'\r\n```\r\n\r\nSe você usa o Linux, MacOS ou WSL, basta copiar os _aliases_ acima para o arquivo de configuração do seu shell (`~/.bashrc` para [Bash](https://www.gnu.org/software/bash/), `~/.zshrc` para [ZSH](https://www.zsh.org/), `~/config/fish/config.fish` para [Fish](https://fishshell.com/)). Caso você utilize o PoweShell, adicione as seguintes funções ao seu arquivo `Microsoft.PowerShell_profile.ps1` (para editar com o VS Code, execute `code $PROFILE` no PowerShell):\r\n\r\n```pwsh\r\nfunction ga { git add $args }\r\nfunction gaa { git add --all $args }\r\nfunction gb { git branch $args }\r\nfunction gc { git commit $args }\r\nfunction gac {git commit -a -c $args }\r\nfunction gca { git commit --amend $args }\r\nfunction gca! { git commit --amend --no-verify $args }\r\nfunction gcm { git commit -m $args }\r\nfunction gco { git checkout $args }\r\nfunction gcb { git checkout -b $args }\r\nfunction gp { git pull -p $args }\r\nfunction gpo { git push origin $args }\r\nfunction gpo! { git push origin --force-with-lease $args }\r\n```\n",
      "tags": [
        "Linux",
        "Terminal"
      ],
      "translates": null
    },
    {
      "id": "vk08vwbjc8nhmdw",
      "title": "Instalando o tema Dracula no Gnome Console",
      "slug": "instalando-o-tema-dracula-no-gnome-console",
      "locale": "pt-BR",
      "created": "2024-07-29T17:55:16.247Z",
      "updated": "2024-07-29T17:55:16.247Z",
      "content": "O tema [Dracula](https://draculatheme.com/) criado pelo brasileiro [Zeno Rocha](https://x.com/zenorocha) é o tema que mais gosto de usar nas minhas ferramentas de trabalho (VS Code, NeoVim, etc.). Enquanto estava preparando meu ambiente de trabalho no Ubuntu, decidi experimentar o novo [Gnome Console](https://apps.gnome.org/Console/) e gostei muito. Infelizmente, ele não tem uma opção de configurar temas de cores, mas, ainda assim, é possível fazer isso configurando as [`dircolors`](https://www.gnu.org/software/coreutils/manual/html_node/dircolors-invocation.html) e alterando a cor de fundo do terminal executando `echo -ne '\\e]11;#282A36\\e\\\\'` (note que `#282A36` é a [cor de fundo](https://draculatheme.com/contribute) do tema Dracula).\r\n\r\nPara isso, vamos baixar as `dircolors` do [site oficial](https://draculatheme.com/dircolors):\r\n\r\n```bash\r\nwget https://raw.githubusercontent.com/dracula/dircolors/main/.dircolors -P ~/.dircolors\r\n```\r\n\r\nAgora, adicione `echo -ne '\\e]11;#282A36\\e\\\\'` no seu `.bashrc` (se você usa o Bash), `.zshrc` (se você usa ZSH) e/ou `.config/fish/config.fish` (se você, como eu, usa o Fish Shell).\n",
      "tags": [
        "Linux",
        "Ubuntu"
      ],
      "translates": null
    },
    {
      "id": "d3govdnqx3prpgq",
      "title": "Instalando o WhatsApp no Linux",
      "slug": "instalando-o-whatsapp-no-linux",
      "locale": "pt-BR",
      "created": "2024-07-29T17:18:23.361Z",
      "updated": "2024-07-29T17:34:53.815Z",
      "content": "Infelizmente, o WhatsApp não fornece um aplicativo oficial para o Linux. Felizmente, se você tem o [Google Chrome](https://www.google.com/intl/pt-BR/chrome/) ou o Chromium instalado no seu computador, você pode instalar a página como uma aplicação. Siga os passos abaixo:\r\n\r\n### 1. Baixe um ícone para a sua aplicação\r\n\r\nEu, por exemplo, escolhi [este](https://github.com/mimbrero/whatsapp-desktop-linux/blob/main/data/icons/hicolor/512x512/apps/io.github.mimbrero.WhatsAppDesktop.png) ícone para o WhatsApp no meu computador. Se quiser utilizar o mesmo, execute o seguinte comando no terminal:\r\n\r\n```bash\r\nICON_INSTALLATION_DIR=~/.local/share/web-apps/icons && mkdir -p $ICON_INSTALLATION_DIR && wget https://raw.githubusercontent.com/mimbrero/whatsapp-desktop-linux/main/data/icons/hicolor/512x512/apps/io.github.mimbrero.WhatsAppDesktop.png -P $ICON_INSTALLATION_DIR/WhatsApp.png \r\n```\r\n\r\nO comando acima irá criar o diretório `~/.local/share/web-apps` e baixará o ícone do WhatsApp.\r\n\r\n### 2. Crie o [_desktop entry_](https://wiki.archlinux.org/title/Desktop_entries) da aplicação\r\n\r\nPara criar o arquivo [_desktop entry_](https://wiki.archlinux.org/title/Desktop_entries) da aplicação, execute o seguinte comando:\r\n\r\n```bash\r\ncat <<EOF >~/.local/share/applications/WhatsApp.desktop\r\n[Desktop Entry]\r\nVersion=1.0\r\nName=WhatsApp\r\nComment=WhatsApp Messenger\r\nExec=google-chrome --app=\"https://web.whatsapp.com\" --name=WhatsApp --class=Whatsapp\r\nTerminal=false\r\nType=Application\r\nIcon=/home/$USER/.local/share/web-apps/icons/WhatsApp.png\r\nCategories=GTK;\r\nMimeType=text/html;text/xml;application/xhtml_xml;\r\nStartupNotify=true\r\nStartupWMClass=Whatsapp\r\nEOF\r\n```\r\n\r\nAgora, o WhatsApp estará disponível no menu do seu sistema. No meu Ubuntu 24.04 ficou assim:\r\n\r\n![Meu dash do Gnome](https://pocketbase.douglasmoura.dev/api/files/quq9xznky3sx782/8ka7cdr3iet8iqf/screenshot_from_2024_07_29_14_25_00_3M0OyL4OCK.png)\n",
      "tags": [
        "WhatsApp",
        "Linux",
        "Ubuntu"
      ],
      "translates": null
    },
    {
      "id": "1maxkvari818nwt",
      "title": "Corrigindo a configuração do teclado americano no Ubuntu",
      "slug": "corrigindo-a-configuracao-do-teclado-americano-no-ubuntu",
      "locale": "pt-BR",
      "created": "2024-07-29T13:26:35.627Z",
      "updated": "2024-08-07T14:27:45.659Z",
      "content": "Neste fim de semana, troquei meu Macbook Air M1 (com o qual precisava lutar com o pouco armazenamento de 256 GB) por um Dell G3 3579 (onde fiz um upgrade para ter 40 GB de RAM, 500 GB SSD M.2 e um SSD de 1 TB) e, logo após instalar o Ubuntu 24.04, eu não estava conseguindo digitar o ç no me teclado Keychron K2 v.2 (sempre que tentava digitar um ç, me aparecia um ć). \r\n\r\nAcontece que, ao invés de digitar <kbd>'</kbd> + <kbd>c</kbd>, para obter o <kbd>ç</kbd>, teria que digitar  <kbd>Alt Grd</kbd> + <kbd><</kbd><kbd>c</kbd>. Como não queria me adaptar à essa mudança, fiz uma rápida pesquisa e descobri que a solução é adicionar a variável de ambiente `GTK_IM_MODULE=cedilla` no arquivo `/etc/environment` ([afetando todos os usuários do sistema](https://help.ubuntu.com/community/EnvironmentVariables)) ou no arquivo `~/.profile` (o que afeta apenas o seu usuário). Para corrigir o problema para todos os usuários do computador, eu anexei essa variável de ambiente ao fim do arquivo `/etc/environment` da seguinte maneira:\r\n\r\n```bash\r\nsudo sh -c 'echo \"GTK_IM_MODULE=cedilla\" >> /etc/environment'\r\n```\r\n\r\nDepois disso, reinicie sua sessão de usuário (_logout_ e _login_) ou reinicie o computador.\r\n\r\n---\r\n\r\n## Fonte\r\n\r\n[Ask Ubuntu](https://askubuntu.com/questions/1291492/cedilha-getting-%C4%87-rather-than-%C3%A7-after-upgrade-to-20-10)\r\n\n",
      "tags": [
        "Ubuntu",
        "Linux",
        "Dicas"
      ],
      "translates": null
    }
  ],
  "Ubuntu": [
    {
      "id": "vk08vwbjc8nhmdw",
      "title": "Instalando o tema Dracula no Gnome Console",
      "slug": "instalando-o-tema-dracula-no-gnome-console",
      "locale": "pt-BR",
      "created": "2024-07-29T17:55:16.247Z",
      "updated": "2024-07-29T17:55:16.247Z",
      "content": "O tema [Dracula](https://draculatheme.com/) criado pelo brasileiro [Zeno Rocha](https://x.com/zenorocha) é o tema que mais gosto de usar nas minhas ferramentas de trabalho (VS Code, NeoVim, etc.). Enquanto estava preparando meu ambiente de trabalho no Ubuntu, decidi experimentar o novo [Gnome Console](https://apps.gnome.org/Console/) e gostei muito. Infelizmente, ele não tem uma opção de configurar temas de cores, mas, ainda assim, é possível fazer isso configurando as [`dircolors`](https://www.gnu.org/software/coreutils/manual/html_node/dircolors-invocation.html) e alterando a cor de fundo do terminal executando `echo -ne '\\e]11;#282A36\\e\\\\'` (note que `#282A36` é a [cor de fundo](https://draculatheme.com/contribute) do tema Dracula).\r\n\r\nPara isso, vamos baixar as `dircolors` do [site oficial](https://draculatheme.com/dircolors):\r\n\r\n```bash\r\nwget https://raw.githubusercontent.com/dracula/dircolors/main/.dircolors -P ~/.dircolors\r\n```\r\n\r\nAgora, adicione `echo -ne '\\e]11;#282A36\\e\\\\'` no seu `.bashrc` (se você usa o Bash), `.zshrc` (se você usa ZSH) e/ou `.config/fish/config.fish` (se você, como eu, usa o Fish Shell).\n",
      "tags": [
        "Linux",
        "Ubuntu"
      ],
      "translates": null
    },
    {
      "id": "d3govdnqx3prpgq",
      "title": "Instalando o WhatsApp no Linux",
      "slug": "instalando-o-whatsapp-no-linux",
      "locale": "pt-BR",
      "created": "2024-07-29T17:18:23.361Z",
      "updated": "2024-07-29T17:34:53.815Z",
      "content": "Infelizmente, o WhatsApp não fornece um aplicativo oficial para o Linux. Felizmente, se você tem o [Google Chrome](https://www.google.com/intl/pt-BR/chrome/) ou o Chromium instalado no seu computador, você pode instalar a página como uma aplicação. Siga os passos abaixo:\r\n\r\n### 1. Baixe um ícone para a sua aplicação\r\n\r\nEu, por exemplo, escolhi [este](https://github.com/mimbrero/whatsapp-desktop-linux/blob/main/data/icons/hicolor/512x512/apps/io.github.mimbrero.WhatsAppDesktop.png) ícone para o WhatsApp no meu computador. Se quiser utilizar o mesmo, execute o seguinte comando no terminal:\r\n\r\n```bash\r\nICON_INSTALLATION_DIR=~/.local/share/web-apps/icons && mkdir -p $ICON_INSTALLATION_DIR && wget https://raw.githubusercontent.com/mimbrero/whatsapp-desktop-linux/main/data/icons/hicolor/512x512/apps/io.github.mimbrero.WhatsAppDesktop.png -P $ICON_INSTALLATION_DIR/WhatsApp.png \r\n```\r\n\r\nO comando acima irá criar o diretório `~/.local/share/web-apps` e baixará o ícone do WhatsApp.\r\n\r\n### 2. Crie o [_desktop entry_](https://wiki.archlinux.org/title/Desktop_entries) da aplicação\r\n\r\nPara criar o arquivo [_desktop entry_](https://wiki.archlinux.org/title/Desktop_entries) da aplicação, execute o seguinte comando:\r\n\r\n```bash\r\ncat <<EOF >~/.local/share/applications/WhatsApp.desktop\r\n[Desktop Entry]\r\nVersion=1.0\r\nName=WhatsApp\r\nComment=WhatsApp Messenger\r\nExec=google-chrome --app=\"https://web.whatsapp.com\" --name=WhatsApp --class=Whatsapp\r\nTerminal=false\r\nType=Application\r\nIcon=/home/$USER/.local/share/web-apps/icons/WhatsApp.png\r\nCategories=GTK;\r\nMimeType=text/html;text/xml;application/xhtml_xml;\r\nStartupNotify=true\r\nStartupWMClass=Whatsapp\r\nEOF\r\n```\r\n\r\nAgora, o WhatsApp estará disponível no menu do seu sistema. No meu Ubuntu 24.04 ficou assim:\r\n\r\n![Meu dash do Gnome](https://pocketbase.douglasmoura.dev/api/files/quq9xznky3sx782/8ka7cdr3iet8iqf/screenshot_from_2024_07_29_14_25_00_3M0OyL4OCK.png)\n",
      "tags": [
        "WhatsApp",
        "Linux",
        "Ubuntu"
      ],
      "translates": null
    },
    {
      "id": "1maxkvari818nwt",
      "title": "Corrigindo a configuração do teclado americano no Ubuntu",
      "slug": "corrigindo-a-configuracao-do-teclado-americano-no-ubuntu",
      "locale": "pt-BR",
      "created": "2024-07-29T13:26:35.627Z",
      "updated": "2024-08-07T14:27:45.659Z",
      "content": "Neste fim de semana, troquei meu Macbook Air M1 (com o qual precisava lutar com o pouco armazenamento de 256 GB) por um Dell G3 3579 (onde fiz um upgrade para ter 40 GB de RAM, 500 GB SSD M.2 e um SSD de 1 TB) e, logo após instalar o Ubuntu 24.04, eu não estava conseguindo digitar o ç no me teclado Keychron K2 v.2 (sempre que tentava digitar um ç, me aparecia um ć). \r\n\r\nAcontece que, ao invés de digitar <kbd>'</kbd> + <kbd>c</kbd>, para obter o <kbd>ç</kbd>, teria que digitar  <kbd>Alt Grd</kbd> + <kbd><</kbd><kbd>c</kbd>. Como não queria me adaptar à essa mudança, fiz uma rápida pesquisa e descobri que a solução é adicionar a variável de ambiente `GTK_IM_MODULE=cedilla` no arquivo `/etc/environment` ([afetando todos os usuários do sistema](https://help.ubuntu.com/community/EnvironmentVariables)) ou no arquivo `~/.profile` (o que afeta apenas o seu usuário). Para corrigir o problema para todos os usuários do computador, eu anexei essa variável de ambiente ao fim do arquivo `/etc/environment` da seguinte maneira:\r\n\r\n```bash\r\nsudo sh -c 'echo \"GTK_IM_MODULE=cedilla\" >> /etc/environment'\r\n```\r\n\r\nDepois disso, reinicie sua sessão de usuário (_logout_ e _login_) ou reinicie o computador.\r\n\r\n---\r\n\r\n## Fonte\r\n\r\n[Ask Ubuntu](https://askubuntu.com/questions/1291492/cedilha-getting-%C4%87-rather-than-%C3%A7-after-upgrade-to-20-10)\r\n\n",
      "tags": [
        "Ubuntu",
        "Linux",
        "Dicas"
      ],
      "translates": null
    }
  ],
  "editorconfig": [
    {
      "id": "fyuo9wob9vf9fz3",
      "title": "Use this NPM script to create your EditorConfig files ",
      "slug": "use-this-npm-script-to-create-your-editorconfig-files",
      "locale": "en-US",
      "created": "2022-01-09T15:00:00.000Z",
      "updated": "2023-01-04T15:16:37.227Z",
      "content": "Have you ever needed to create an [EditorConfig](https://editorconfig.org/) to your programming projects but can never remember all the options you can use? Worry no more: just type `npx create-editorconfig -y` in your terminal and have one generated for you. Those are the default options:\r\n\r\n```\r\n# editorconfig.org\r\nroot = true\r\n\r\n[*]\r\ncharset = utf-8\r\nend_of_line = lf\r\ninsert_final_newline = true\r\nindent_style = space\r\nindent_size = 2\r\ntrim_trailing_whitespace = true\r\n```\r\n\r\nIf you want to customize the settings or even add more for a different set of files (by defining a glob pattern), just ommit the `-y` argument in the terminal and answer the prompted questions.\r\n\r\n<img src=\"https://github.com/DouglasdeMoura/create-editorconfig/raw/main/usage.svg\" alt=\"Using create-editorconfig on ZSH\" />\r\n\r\n## What is EditorConfig?\r\n\r\nEditorConfig is a configuration file (the `.editorconfig`) that defines the coding styles that a given code editor (such as [VS Code](https://code.visualstudio.com/)) should apply in the files. You can even set a different set of rules for the files of your project according to your their extension or directory, by using a [glob pattern](https://en.wikipedia.org/wiki/Glob_(programming)).\r\n\r\n## My code editor is not applying the EditorConfig settings\r\n\r\nTo apply your `.editorconfig` rules, your code editor should have a plugin or have EditorConfig rule parsing implemented natively (if you are using VS Code, you must install [this extension](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig).\r\n\r\n[![EditorConfig extension on VS Code Marketplace](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/641onx2wrltmoq1ze501.png)](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)\r\n\r\n## How can I contribute to `create-editorconfig`?\r\n\r\nPlease, go to the official [GitHub repository](https://github.com/douglasdeMoura/create-editorconfig) and open an issue.\r\n \r\n\r\n\r\n## \n",
      "tags": [
        "javascript",
        "editorconfig",
        "npm",
        "npx"
      ],
      "translates": "1z3ovbccz4z4tmh"
    }
  ],
  "npm": [
    {
      "id": "bjdnvqai9ykbt6v",
      "title": "Devo commitar o node_modules no git?",
      "slug": "devo-commitar-o-node-modules-no-git",
      "locale": "pt-BR",
      "created": "2024-06-04T17:49:35.568Z",
      "updated": "2024-06-04T17:49:35.568Z",
      "content": "TL; DR: Não. Por favor, adicione `node_modules` ao seu arquivo `.gitignore`:\r\n\r\n```\r\nnode_modules\r\n```\r\n\r\n## Mas, por quê?\r\n\r\nO diretório `node_modules` é onde o seu gerenciador de pacotes (que pode ser o [npm](https://www.npmjs.com/), [yarn](https://classic.yarnpkg.com/) ou [pnpm](https://pnpm.io/)) irá instalar todas as dependências do projeto listadas no seu `package.json`. Independentemente do gerenciador de pacotes que você escolher, um lockfile (`package-lock.json`, `yarn.lock` ou `pnpm-lock.yaml`, respectivamente) será gerado na primeira vez que você instalar as dependências do seu projeto, descrevendo toda a árvore de dependências. Dessa forma, toda vez que você precisar reinstalar as dependências do seu projeto, você obterá exatamente os mesmos arquivos.\r\n\r\nO lockfile deve ser _commitado_ no `git`, permitindo a reinstalação da árvore de dependências em qualquer outro ambiente, o que torna desnecessário commitar o diretório `node_modules` no `git` (além disso, isso reduz muito o tamanho do seu repositório, já que o `node_modules` pode consumir gigabytes de espaço).\n",
      "tags": [
        "Node.js",
        "javascript",
        "npm"
      ],
      "translates": "46trc5wkbpbc97s"
    },
    {
      "id": "46trc5wkbpbc97s",
      "title": "Should I commit node_modules directory to git?",
      "slug": "should-i-commit-node-modules-directory-to-git",
      "locale": "en-US",
      "created": "2024-06-04T17:45:35.356Z",
      "updated": "2024-06-04T17:49:44.038Z",
      "content": "TL; DR: No. Please add `node_modules` to your `.gitignore` file:\r\n\r\n```\r\nnode_modules\r\n```\r\n\r\n## But, why?\r\n\r\nThe `node_modules` directory is where your package manager (that can be [npm](https://www.npmjs.com/), [yarn](https://classic.yarnpkg.com/) or [pnpm](https://pnpm.io/)) will install all the project dependencies listed on your `package.json`. Regardless of the package manager you choose, a lockfile (`package-lock.json`,  `yarn.lock` or `pnpm-lock.yaml`, respectelly) will be generated in the first time you install your project dependencies, describing the entire dependency tree. This way, every time you need to reinstall your project dependencies, you shall get the exact same files.\r\n\r\nThe lockfile should be commited to `git`, enabling the re-installation of the tree of dependencies in any other ambient, what makes unecessary to commit the `node_modules` directory to `git` (also, it cuts the size of your repository by a lot, as `node_modules` can consumes gigabytes of space).\n",
      "tags": [
        "Node.js",
        "javascript",
        "npm"
      ],
      "translates": "bjdnvqai9ykbt6v"
    },
    {
      "id": "fccw7a1zbkshukm",
      "title": "Use GitHub actions to publish your package on NPM",
      "slug": "use-github-actions-to-publish-your-package-on-npm",
      "locale": "en-US",
      "created": "2022-10-04T15:00:00.000Z",
      "updated": "2022-12-29T14:51:36.616Z",
      "content": "Recently, I created a package with the [ESLint](https://eslint.org) settings I like to use in my React projects, as I was tired of always having to configure it when I start new React projects. Publishing a NPM package is just a matter of running `npm publish` on the directory of your package (considering, of course, that you already have an NPM account and is authenticated on your terminal). But I wanted to automatize this publishing everytime I created a new release.\r\n\r\nIn order to do that, I used the following GitHub Action:\r\n\r\n```yaml\r\n# File: .github/workflows/npm-publish.yml\r\n\r\n# This workflow will publish a package to NPM when a release is created\r\n# For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages\r\n\r\nname: Publish Package to npmjs\r\n\r\non:\r\n  release:\r\n    types: [created]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/setup-node@v3\r\n        with:\r\n          node-version: 16\r\n          registry-url: https://registry.npmjs.org/\r\n      - run: npm publish\r\n        env:\r\n          NODE_AUTH_TOKEN: ${{secrets.NODE_AUTH_TOKEN}}\r\n```\r\n\r\nIf you read the YAML file above (that you should put on the `.github/workflows/npm-publish.yml` directory of your git repository), you should have noted that the environment variable `NODE_AUTH_TOKEN` should be defined. Create a new automation access token on the control panel of NPM:\r\n\r\n\r\n1. Access your NPM account and click in \"Access tokens\":\r\n![Access tokens on NPM](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hddbdiev3xhhrl0s09km.png)\r\n\r\n2. Name your new access token and select the \"Automation\" type for it:\r\n\r\n\r\n![Creating access token on NPM](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4oect8iqd17igcbnrrg1.png)\r\n\r\n3. Go to your GitHub repository, click in \"Settings > Secrets > Actions > New repository secret\", name it as NODE_AUTH_TOKEN and paste the access token you just got from NPM:\r\n\r\n\r\n![Create a new secret on the GitHub repository](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wv7pw3j8elyjeoaeehif.png)\r\n\r\n4. Create a new release for your package. This should trigger our GitHub Action and publish to NPM.\r\n\r\n\r\n![Creating a new release on GitHub](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/31fsgle783ujl75stld1.png)\n",
      "tags": [
        "javascript",
        "typescript",
        "npm"
      ],
      "translates": null
    },
    {
      "id": "fyuo9wob9vf9fz3",
      "title": "Use this NPM script to create your EditorConfig files ",
      "slug": "use-this-npm-script-to-create-your-editorconfig-files",
      "locale": "en-US",
      "created": "2022-01-09T15:00:00.000Z",
      "updated": "2023-01-04T15:16:37.227Z",
      "content": "Have you ever needed to create an [EditorConfig](https://editorconfig.org/) to your programming projects but can never remember all the options you can use? Worry no more: just type `npx create-editorconfig -y` in your terminal and have one generated for you. Those are the default options:\r\n\r\n```\r\n# editorconfig.org\r\nroot = true\r\n\r\n[*]\r\ncharset = utf-8\r\nend_of_line = lf\r\ninsert_final_newline = true\r\nindent_style = space\r\nindent_size = 2\r\ntrim_trailing_whitespace = true\r\n```\r\n\r\nIf you want to customize the settings or even add more for a different set of files (by defining a glob pattern), just ommit the `-y` argument in the terminal and answer the prompted questions.\r\n\r\n<img src=\"https://github.com/DouglasdeMoura/create-editorconfig/raw/main/usage.svg\" alt=\"Using create-editorconfig on ZSH\" />\r\n\r\n## What is EditorConfig?\r\n\r\nEditorConfig is a configuration file (the `.editorconfig`) that defines the coding styles that a given code editor (such as [VS Code](https://code.visualstudio.com/)) should apply in the files. You can even set a different set of rules for the files of your project according to your their extension or directory, by using a [glob pattern](https://en.wikipedia.org/wiki/Glob_(programming)).\r\n\r\n## My code editor is not applying the EditorConfig settings\r\n\r\nTo apply your `.editorconfig` rules, your code editor should have a plugin or have EditorConfig rule parsing implemented natively (if you are using VS Code, you must install [this extension](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig).\r\n\r\n[![EditorConfig extension on VS Code Marketplace](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/641onx2wrltmoq1ze501.png)](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)\r\n\r\n## How can I contribute to `create-editorconfig`?\r\n\r\nPlease, go to the official [GitHub repository](https://github.com/douglasdeMoura/create-editorconfig) and open an issue.\r\n \r\n\r\n\r\n## \n",
      "tags": [
        "javascript",
        "editorconfig",
        "npm",
        "npx"
      ],
      "translates": "1z3ovbccz4z4tmh"
    }
  ],
  "npx": [
    {
      "id": "fyuo9wob9vf9fz3",
      "title": "Use this NPM script to create your EditorConfig files ",
      "slug": "use-this-npm-script-to-create-your-editorconfig-files",
      "locale": "en-US",
      "created": "2022-01-09T15:00:00.000Z",
      "updated": "2023-01-04T15:16:37.227Z",
      "content": "Have you ever needed to create an [EditorConfig](https://editorconfig.org/) to your programming projects but can never remember all the options you can use? Worry no more: just type `npx create-editorconfig -y` in your terminal and have one generated for you. Those are the default options:\r\n\r\n```\r\n# editorconfig.org\r\nroot = true\r\n\r\n[*]\r\ncharset = utf-8\r\nend_of_line = lf\r\ninsert_final_newline = true\r\nindent_style = space\r\nindent_size = 2\r\ntrim_trailing_whitespace = true\r\n```\r\n\r\nIf you want to customize the settings or even add more for a different set of files (by defining a glob pattern), just ommit the `-y` argument in the terminal and answer the prompted questions.\r\n\r\n<img src=\"https://github.com/DouglasdeMoura/create-editorconfig/raw/main/usage.svg\" alt=\"Using create-editorconfig on ZSH\" />\r\n\r\n## What is EditorConfig?\r\n\r\nEditorConfig is a configuration file (the `.editorconfig`) that defines the coding styles that a given code editor (such as [VS Code](https://code.visualstudio.com/)) should apply in the files. You can even set a different set of rules for the files of your project according to your their extension or directory, by using a [glob pattern](https://en.wikipedia.org/wiki/Glob_(programming)).\r\n\r\n## My code editor is not applying the EditorConfig settings\r\n\r\nTo apply your `.editorconfig` rules, your code editor should have a plugin or have EditorConfig rule parsing implemented natively (if you are using VS Code, you must install [this extension](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig).\r\n\r\n[![EditorConfig extension on VS Code Marketplace](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/641onx2wrltmoq1ze501.png)](https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig)\r\n\r\n## How can I contribute to `create-editorconfig`?\r\n\r\nPlease, go to the official [GitHub repository](https://github.com/douglasdeMoura/create-editorconfig) and open an issue.\r\n \r\n\r\n\r\n## \n",
      "tags": [
        "javascript",
        "editorconfig",
        "npm",
        "npx"
      ],
      "translates": "1z3ovbccz4z4tmh"
    }
  ],
  "Conselhos": [
    {
      "id": "uexpopcezi7muo0",
      "title": "Como ficar rico, segundo Naval",
      "slug": "como-ficar-rico-segundo-naval",
      "locale": "pt-BR",
      "created": "2024-06-01T23:45:47.857Z",
      "updated": "2024-06-01T23:50:04.710Z",
      "content": "Há algum tempo, Naval Ravikant postou uma [thread](https://x.com/naval/status/1002103360646823936) no X (antigo Twitter) sobre como ficar rico. A thread foi tão boa que ele mesmo a transformou em um [podcast](https://nav.al/rich). Aqui está uma tradução livre da thread:\r\n\r\n<div hidden>\r\n- Seek wealth, not money or status. Wealth is having assets that earn while you sleep. Money is how we transfer time and wealth. Status is your place in the social hierarchy;\r\n- Understand that ethical wealth creation is possible. If you secretly despise wealth, it will elude you;\r\n- Ignore people playing status games. They gain status by attacking people playing wealth creation games;\r\n- You're not going to get rich renting out your time. You must own equity - a piece of a business - to gain your financial freedom;\r\n- You will get rich by giving society what it wants but does not yet know how to get. At scale;\r\n- Pick an industry where you can play long term games with long term people;\r\n- The Internet has massively broadened the possible space of careers. Most people haven't figured this out yet;\r\n- Play iterated games. All the returns in life, whether in wealth, relationships, or knowledge, come from compound interest;\r\n- Pick business partners with high intelligence, energy, and, above all, integrity;\r\n- Don't partner with cynics and pessimists. Their beliefs are self-fulfilling;\r\n- Learn to sell. Learn to build. If you can do both, you will be unstoppable;\r\n- Arm yourself with specific knowledge, accountability, and leverage;\r\n- Specific knowledge is knowledge that you cannot be trained for. If society can train you, it can train someone else, and replace you;\r\n- Specific knowledge is found by pursuing your genuine curiosity and passion rather than whatever is hot right now;\r\n- Building specific knowledge will feel like play to you but will look like work to others;\r\n- When specific knowledge is taught, it's through apprenticeships, not schools;\r\n- Specific knowledge is often highly technical or creative. It cannot be outsourced or automated;\r\n- Embrace accountability and take business risks under your own name. Society will reward you with responsibility, equity, and leverage;\r\n- The most accountable people have singular, public, and risky brands: Oprah, Trump, Kanye, Elon;\r\n- \"Give me a lever long enough, and a place to stand, and I will move the earth.\" - Archimedes\r\n- Fortunes require leverage. Business leverage comes from capital, people, and products with no marginal cost of replication (code and media);\r\n- Capital means money. To raise money, apply your specific knowledge, with accountability, and show resulting good judgment;\r\n- Labor means people working for you. It's the oldest and most fought-over form of leverage. Labor leverage will impress your parents, but don’t waste your life chasing it.;\r\n- Capital and labor are permissioned leverage. Everyone is chasing capital, but someone has to give it to you. Everyone is trying to lead, but someone has to follow you;\r\n- Code and media are permissionless leverage. They're the leverage behind the newly rich. You can create software and media that works for you while you sleep;\r\n- An army of robots is freely available - it's just packed in data centers for heat and space efficiency. Use it;\r\n- If you can't code, write books and blogs, record videos and podcasts;\r\n- Leverage is a force multiplier for your judgement;\r\n- Judgement requires experience, but can be built faster by learning foundational skills;\r\n- There is no skill called \"business.\" Avoid business magazines and business classes;\r\n- Study microeconomics, game theory, psychology, persuasion, ethics, mathematics, and computers;\r\n- Reading is faster than listening. Doing is faster than watching;\r\n- You should be too busy to \"do coffee,\" while still keeping an uncluttered calendar;\r\n- Set and enforce an aspirational personal hourly rate. If fixing a problem will save less than your hourly rate, ignore it. If outsourcing a task will cost less than your hourly rate, outsource it;\r\n- Work as hard as you can. Even though who you work with and what you work on are more important than how hard you work;\r\n- Become the best in the world at what you do. Keep redefining what you do until this is true;\r\n- There are no get rich quick schemes. That's just someone else getting rich off you;\r\n- Apply specific knowledge, with leverage, and eventually, you will get what you deserve;\r\n- When you're finally wealthy, you'll realize that it wasn't what you were seeking in the first place.\r\n</div>\r\n\r\n- Busque riqueza, não dinheiro ou status. Riqueza é ter ativos que geram renda enquanto você dorme. Dinheiro é como transferimos tempo e riqueza. Status é seu lugar na hierarquia social;\r\n- Entenda que a criação de riqueza ética é possível. Se você secretamente despreza a riqueza, ela o iludirá;\r\n- Ignore pessoas jogando jogos de status. Elas ganham status atacando pessoas que jogam jogos de criação de riqueza;\r\n- Você não ficará rico alugando seu tempo. Você deve possuir patrimônio - uma parte de um negócio - para conquistar sua liberdade financeira;\r\n- Você ficará rico dando à sociedade o que ela quer, mas ainda não sabe como obter. Em escala;\r\n- Escolha uma indústria onde você possa jogar jogos de longo prazo com pessoas de longo prazo;\r\n- A Internet ampliou massivamente o espaço possível de carreiras. A maioria das pessoas ainda não percebeu isso;\r\n- Jogue jogos iterados. Todos os retornos na vida, seja em riqueza, relacionamentos ou conhecimento, vêm do interesse composto;\r\n- Escolha parceiros de negócios com alta inteligência, energia e, acima de tudo, integridade;\r\n- Não se associe a cínicos e pessimistas. Suas crenças são auto-realizáveis;\r\n- Aprenda a vender. Aprenda a construir. Se você puder fazer ambos, será imparável;\r\n- Arme-se com conhecimento específico, responsabilidade e alavancagem;\r\n- Conhecimento específico é conhecimento para o qual você não pode ser treinado. Se a sociedade pode treiná-lo, ela pode treinar outra pessoa e substituí-lo;\r\n- Conhecimento específico é encontrado ao seguir sua genuína curiosidade e paixão, em vez do que está na moda agora;\r\n- Construir conhecimento específico parecerá brincadeira para você, mas parecerá trabalho para os outros;\r\n- Quando o conhecimento específico é ensinado, é através de aprendizados, não escolas;\r\n- Conhecimento específico é frequentemente altamente técnico ou criativo. Não pode ser terceirizado ou automatizado;\r\n- Abrace a responsabilidade e assuma riscos empresariais em seu próprio nome. A sociedade recompensará você com responsabilidade, patrimônio e alavancagem;\r\n- As pessoas mais responsáveis têm marcas singulares, públicas e arriscadas: Oprah, Trump, Kanye, Elon;\r\n- \"Dê-me uma alavanca suficientemente longa e um ponto de apoio, e moverei a Terra.\" - Arquimedes\r\n- Fortunas exigem alavancagem. A alavancagem dos negócios vem do capital, pessoas e produtos sem custo marginal de replicação (código e mídia);\r\n- Capital significa dinheiro. Para levantar dinheiro, aplique seu conhecimento específico, com responsabilidade, e mostre bom julgamento resultante;\r\n- Trabalho significa pessoas trabalhando para você. É a forma mais antiga e mais disputada de alavancagem. A alavancagem do trabalho impressionará seus pais, mas não desperdice sua vida perseguindo-a;\r\n- Capital e trabalho são as alavancagens permitidas. Todos estão perseguindo capital, mas alguém tem que dar a você. Todos estão tentando liderar, mas alguém tem que segui-lo;\r\n- Código e mídia são alavancagens sem permissão. Elas são a alavancagem por trás dos novos ricos. Você pode criar software e mídia que trabalham para você enquanto você dorme;\r\n- Um exército de robôs está disponível gratuitamente - ele está apenas contido em centros de dados para eficiência de calor e espaço. Use-o;\r\n- Se você não sabe programar, escreva livros e blogs, grave vídeos e podcasts;\r\n- Alavancagem é um multiplicador de força para seu julgamento;\r\n- Julgamento requer experiência, mas pode ser construído mais rapidamente aprendendo habilidades fundamentais;\r\n- Não existe habilidade chamada \"negócios\". Evite revistas de negócios e aulas de negócios;\r\n- Estude microeconomia, teoria dos jogos, psicologia, persuasão, ética, matemática e computação;\r\n- Ler é mais rápido que ouvir. Fazer é mais rápido que assistir;\r\n- Você deve estar ocupado demais para \"tomar um café\", mas ainda mantendo uma agenda desocupada;\r\n- Estabeleça e faça cumprir uma taxa pessoal horária aspiracional. Se resolver um problema economizar menos do que sua taxa horária, ignore-o. Se terceirizar uma tarefa custar menos do que sua taxa horária, terceirize-a;\r\n- Trabalhe o mais duro que puder. Mesmo que com quem você trabalha e no que você trabalha sejam mais importantes do que quão duro você trabalha;\r\n- Torne-se o melhor do mundo no que você faz. Continue redefinindo o que você faz até que isso seja verdade;\r\n- Não existem esquemas para ficar rico rapidamente. Isso é apenas outra pessoa ficando rica às suas custas;\r\n- Aplique conhecimento específico, com alavancagem, e eventualmente você obterá o que merece;\r\n- Quando você finalmente estiver rico, perceberá que não era isso que você estava buscando originalmente.\r\n\n",
      "tags": [
        "Conselhos",
        "Riqueza",
        "Sabedoria"
      ],
      "translates": null
    }
  ],
  "Riqueza": [
    {
      "id": "uexpopcezi7muo0",
      "title": "Como ficar rico, segundo Naval",
      "slug": "como-ficar-rico-segundo-naval",
      "locale": "pt-BR",
      "created": "2024-06-01T23:45:47.857Z",
      "updated": "2024-06-01T23:50:04.710Z",
      "content": "Há algum tempo, Naval Ravikant postou uma [thread](https://x.com/naval/status/1002103360646823936) no X (antigo Twitter) sobre como ficar rico. A thread foi tão boa que ele mesmo a transformou em um [podcast](https://nav.al/rich). Aqui está uma tradução livre da thread:\r\n\r\n<div hidden>\r\n- Seek wealth, not money or status. Wealth is having assets that earn while you sleep. Money is how we transfer time and wealth. Status is your place in the social hierarchy;\r\n- Understand that ethical wealth creation is possible. If you secretly despise wealth, it will elude you;\r\n- Ignore people playing status games. They gain status by attacking people playing wealth creation games;\r\n- You're not going to get rich renting out your time. You must own equity - a piece of a business - to gain your financial freedom;\r\n- You will get rich by giving society what it wants but does not yet know how to get. At scale;\r\n- Pick an industry where you can play long term games with long term people;\r\n- The Internet has massively broadened the possible space of careers. Most people haven't figured this out yet;\r\n- Play iterated games. All the returns in life, whether in wealth, relationships, or knowledge, come from compound interest;\r\n- Pick business partners with high intelligence, energy, and, above all, integrity;\r\n- Don't partner with cynics and pessimists. Their beliefs are self-fulfilling;\r\n- Learn to sell. Learn to build. If you can do both, you will be unstoppable;\r\n- Arm yourself with specific knowledge, accountability, and leverage;\r\n- Specific knowledge is knowledge that you cannot be trained for. If society can train you, it can train someone else, and replace you;\r\n- Specific knowledge is found by pursuing your genuine curiosity and passion rather than whatever is hot right now;\r\n- Building specific knowledge will feel like play to you but will look like work to others;\r\n- When specific knowledge is taught, it's through apprenticeships, not schools;\r\n- Specific knowledge is often highly technical or creative. It cannot be outsourced or automated;\r\n- Embrace accountability and take business risks under your own name. Society will reward you with responsibility, equity, and leverage;\r\n- The most accountable people have singular, public, and risky brands: Oprah, Trump, Kanye, Elon;\r\n- \"Give me a lever long enough, and a place to stand, and I will move the earth.\" - Archimedes\r\n- Fortunes require leverage. Business leverage comes from capital, people, and products with no marginal cost of replication (code and media);\r\n- Capital means money. To raise money, apply your specific knowledge, with accountability, and show resulting good judgment;\r\n- Labor means people working for you. It's the oldest and most fought-over form of leverage. Labor leverage will impress your parents, but don’t waste your life chasing it.;\r\n- Capital and labor are permissioned leverage. Everyone is chasing capital, but someone has to give it to you. Everyone is trying to lead, but someone has to follow you;\r\n- Code and media are permissionless leverage. They're the leverage behind the newly rich. You can create software and media that works for you while you sleep;\r\n- An army of robots is freely available - it's just packed in data centers for heat and space efficiency. Use it;\r\n- If you can't code, write books and blogs, record videos and podcasts;\r\n- Leverage is a force multiplier for your judgement;\r\n- Judgement requires experience, but can be built faster by learning foundational skills;\r\n- There is no skill called \"business.\" Avoid business magazines and business classes;\r\n- Study microeconomics, game theory, psychology, persuasion, ethics, mathematics, and computers;\r\n- Reading is faster than listening. Doing is faster than watching;\r\n- You should be too busy to \"do coffee,\" while still keeping an uncluttered calendar;\r\n- Set and enforce an aspirational personal hourly rate. If fixing a problem will save less than your hourly rate, ignore it. If outsourcing a task will cost less than your hourly rate, outsource it;\r\n- Work as hard as you can. Even though who you work with and what you work on are more important than how hard you work;\r\n- Become the best in the world at what you do. Keep redefining what you do until this is true;\r\n- There are no get rich quick schemes. That's just someone else getting rich off you;\r\n- Apply specific knowledge, with leverage, and eventually, you will get what you deserve;\r\n- When you're finally wealthy, you'll realize that it wasn't what you were seeking in the first place.\r\n</div>\r\n\r\n- Busque riqueza, não dinheiro ou status. Riqueza é ter ativos que geram renda enquanto você dorme. Dinheiro é como transferimos tempo e riqueza. Status é seu lugar na hierarquia social;\r\n- Entenda que a criação de riqueza ética é possível. Se você secretamente despreza a riqueza, ela o iludirá;\r\n- Ignore pessoas jogando jogos de status. Elas ganham status atacando pessoas que jogam jogos de criação de riqueza;\r\n- Você não ficará rico alugando seu tempo. Você deve possuir patrimônio - uma parte de um negócio - para conquistar sua liberdade financeira;\r\n- Você ficará rico dando à sociedade o que ela quer, mas ainda não sabe como obter. Em escala;\r\n- Escolha uma indústria onde você possa jogar jogos de longo prazo com pessoas de longo prazo;\r\n- A Internet ampliou massivamente o espaço possível de carreiras. A maioria das pessoas ainda não percebeu isso;\r\n- Jogue jogos iterados. Todos os retornos na vida, seja em riqueza, relacionamentos ou conhecimento, vêm do interesse composto;\r\n- Escolha parceiros de negócios com alta inteligência, energia e, acima de tudo, integridade;\r\n- Não se associe a cínicos e pessimistas. Suas crenças são auto-realizáveis;\r\n- Aprenda a vender. Aprenda a construir. Se você puder fazer ambos, será imparável;\r\n- Arme-se com conhecimento específico, responsabilidade e alavancagem;\r\n- Conhecimento específico é conhecimento para o qual você não pode ser treinado. Se a sociedade pode treiná-lo, ela pode treinar outra pessoa e substituí-lo;\r\n- Conhecimento específico é encontrado ao seguir sua genuína curiosidade e paixão, em vez do que está na moda agora;\r\n- Construir conhecimento específico parecerá brincadeira para você, mas parecerá trabalho para os outros;\r\n- Quando o conhecimento específico é ensinado, é através de aprendizados, não escolas;\r\n- Conhecimento específico é frequentemente altamente técnico ou criativo. Não pode ser terceirizado ou automatizado;\r\n- Abrace a responsabilidade e assuma riscos empresariais em seu próprio nome. A sociedade recompensará você com responsabilidade, patrimônio e alavancagem;\r\n- As pessoas mais responsáveis têm marcas singulares, públicas e arriscadas: Oprah, Trump, Kanye, Elon;\r\n- \"Dê-me uma alavanca suficientemente longa e um ponto de apoio, e moverei a Terra.\" - Arquimedes\r\n- Fortunas exigem alavancagem. A alavancagem dos negócios vem do capital, pessoas e produtos sem custo marginal de replicação (código e mídia);\r\n- Capital significa dinheiro. Para levantar dinheiro, aplique seu conhecimento específico, com responsabilidade, e mostre bom julgamento resultante;\r\n- Trabalho significa pessoas trabalhando para você. É a forma mais antiga e mais disputada de alavancagem. A alavancagem do trabalho impressionará seus pais, mas não desperdice sua vida perseguindo-a;\r\n- Capital e trabalho são as alavancagens permitidas. Todos estão perseguindo capital, mas alguém tem que dar a você. Todos estão tentando liderar, mas alguém tem que segui-lo;\r\n- Código e mídia são alavancagens sem permissão. Elas são a alavancagem por trás dos novos ricos. Você pode criar software e mídia que trabalham para você enquanto você dorme;\r\n- Um exército de robôs está disponível gratuitamente - ele está apenas contido em centros de dados para eficiência de calor e espaço. Use-o;\r\n- Se você não sabe programar, escreva livros e blogs, grave vídeos e podcasts;\r\n- Alavancagem é um multiplicador de força para seu julgamento;\r\n- Julgamento requer experiência, mas pode ser construído mais rapidamente aprendendo habilidades fundamentais;\r\n- Não existe habilidade chamada \"negócios\". Evite revistas de negócios e aulas de negócios;\r\n- Estude microeconomia, teoria dos jogos, psicologia, persuasão, ética, matemática e computação;\r\n- Ler é mais rápido que ouvir. Fazer é mais rápido que assistir;\r\n- Você deve estar ocupado demais para \"tomar um café\", mas ainda mantendo uma agenda desocupada;\r\n- Estabeleça e faça cumprir uma taxa pessoal horária aspiracional. Se resolver um problema economizar menos do que sua taxa horária, ignore-o. Se terceirizar uma tarefa custar menos do que sua taxa horária, terceirize-a;\r\n- Trabalhe o mais duro que puder. Mesmo que com quem você trabalha e no que você trabalha sejam mais importantes do que quão duro você trabalha;\r\n- Torne-se o melhor do mundo no que você faz. Continue redefinindo o que você faz até que isso seja verdade;\r\n- Não existem esquemas para ficar rico rapidamente. Isso é apenas outra pessoa ficando rica às suas custas;\r\n- Aplique conhecimento específico, com alavancagem, e eventualmente você obterá o que merece;\r\n- Quando você finalmente estiver rico, perceberá que não era isso que você estava buscando originalmente.\r\n\n",
      "tags": [
        "Conselhos",
        "Riqueza",
        "Sabedoria"
      ],
      "translates": null
    }
  ],
  "Sabedoria": [
    {
      "id": "uexpopcezi7muo0",
      "title": "Como ficar rico, segundo Naval",
      "slug": "como-ficar-rico-segundo-naval",
      "locale": "pt-BR",
      "created": "2024-06-01T23:45:47.857Z",
      "updated": "2024-06-01T23:50:04.710Z",
      "content": "Há algum tempo, Naval Ravikant postou uma [thread](https://x.com/naval/status/1002103360646823936) no X (antigo Twitter) sobre como ficar rico. A thread foi tão boa que ele mesmo a transformou em um [podcast](https://nav.al/rich). Aqui está uma tradução livre da thread:\r\n\r\n<div hidden>\r\n- Seek wealth, not money or status. Wealth is having assets that earn while you sleep. Money is how we transfer time and wealth. Status is your place in the social hierarchy;\r\n- Understand that ethical wealth creation is possible. If you secretly despise wealth, it will elude you;\r\n- Ignore people playing status games. They gain status by attacking people playing wealth creation games;\r\n- You're not going to get rich renting out your time. You must own equity - a piece of a business - to gain your financial freedom;\r\n- You will get rich by giving society what it wants but does not yet know how to get. At scale;\r\n- Pick an industry where you can play long term games with long term people;\r\n- The Internet has massively broadened the possible space of careers. Most people haven't figured this out yet;\r\n- Play iterated games. All the returns in life, whether in wealth, relationships, or knowledge, come from compound interest;\r\n- Pick business partners with high intelligence, energy, and, above all, integrity;\r\n- Don't partner with cynics and pessimists. Their beliefs are self-fulfilling;\r\n- Learn to sell. Learn to build. If you can do both, you will be unstoppable;\r\n- Arm yourself with specific knowledge, accountability, and leverage;\r\n- Specific knowledge is knowledge that you cannot be trained for. If society can train you, it can train someone else, and replace you;\r\n- Specific knowledge is found by pursuing your genuine curiosity and passion rather than whatever is hot right now;\r\n- Building specific knowledge will feel like play to you but will look like work to others;\r\n- When specific knowledge is taught, it's through apprenticeships, not schools;\r\n- Specific knowledge is often highly technical or creative. It cannot be outsourced or automated;\r\n- Embrace accountability and take business risks under your own name. Society will reward you with responsibility, equity, and leverage;\r\n- The most accountable people have singular, public, and risky brands: Oprah, Trump, Kanye, Elon;\r\n- \"Give me a lever long enough, and a place to stand, and I will move the earth.\" - Archimedes\r\n- Fortunes require leverage. Business leverage comes from capital, people, and products with no marginal cost of replication (code and media);\r\n- Capital means money. To raise money, apply your specific knowledge, with accountability, and show resulting good judgment;\r\n- Labor means people working for you. It's the oldest and most fought-over form of leverage. Labor leverage will impress your parents, but don’t waste your life chasing it.;\r\n- Capital and labor are permissioned leverage. Everyone is chasing capital, but someone has to give it to you. Everyone is trying to lead, but someone has to follow you;\r\n- Code and media are permissionless leverage. They're the leverage behind the newly rich. You can create software and media that works for you while you sleep;\r\n- An army of robots is freely available - it's just packed in data centers for heat and space efficiency. Use it;\r\n- If you can't code, write books and blogs, record videos and podcasts;\r\n- Leverage is a force multiplier for your judgement;\r\n- Judgement requires experience, but can be built faster by learning foundational skills;\r\n- There is no skill called \"business.\" Avoid business magazines and business classes;\r\n- Study microeconomics, game theory, psychology, persuasion, ethics, mathematics, and computers;\r\n- Reading is faster than listening. Doing is faster than watching;\r\n- You should be too busy to \"do coffee,\" while still keeping an uncluttered calendar;\r\n- Set and enforce an aspirational personal hourly rate. If fixing a problem will save less than your hourly rate, ignore it. If outsourcing a task will cost less than your hourly rate, outsource it;\r\n- Work as hard as you can. Even though who you work with and what you work on are more important than how hard you work;\r\n- Become the best in the world at what you do. Keep redefining what you do until this is true;\r\n- There are no get rich quick schemes. That's just someone else getting rich off you;\r\n- Apply specific knowledge, with leverage, and eventually, you will get what you deserve;\r\n- When you're finally wealthy, you'll realize that it wasn't what you were seeking in the first place.\r\n</div>\r\n\r\n- Busque riqueza, não dinheiro ou status. Riqueza é ter ativos que geram renda enquanto você dorme. Dinheiro é como transferimos tempo e riqueza. Status é seu lugar na hierarquia social;\r\n- Entenda que a criação de riqueza ética é possível. Se você secretamente despreza a riqueza, ela o iludirá;\r\n- Ignore pessoas jogando jogos de status. Elas ganham status atacando pessoas que jogam jogos de criação de riqueza;\r\n- Você não ficará rico alugando seu tempo. Você deve possuir patrimônio - uma parte de um negócio - para conquistar sua liberdade financeira;\r\n- Você ficará rico dando à sociedade o que ela quer, mas ainda não sabe como obter. Em escala;\r\n- Escolha uma indústria onde você possa jogar jogos de longo prazo com pessoas de longo prazo;\r\n- A Internet ampliou massivamente o espaço possível de carreiras. A maioria das pessoas ainda não percebeu isso;\r\n- Jogue jogos iterados. Todos os retornos na vida, seja em riqueza, relacionamentos ou conhecimento, vêm do interesse composto;\r\n- Escolha parceiros de negócios com alta inteligência, energia e, acima de tudo, integridade;\r\n- Não se associe a cínicos e pessimistas. Suas crenças são auto-realizáveis;\r\n- Aprenda a vender. Aprenda a construir. Se você puder fazer ambos, será imparável;\r\n- Arme-se com conhecimento específico, responsabilidade e alavancagem;\r\n- Conhecimento específico é conhecimento para o qual você não pode ser treinado. Se a sociedade pode treiná-lo, ela pode treinar outra pessoa e substituí-lo;\r\n- Conhecimento específico é encontrado ao seguir sua genuína curiosidade e paixão, em vez do que está na moda agora;\r\n- Construir conhecimento específico parecerá brincadeira para você, mas parecerá trabalho para os outros;\r\n- Quando o conhecimento específico é ensinado, é através de aprendizados, não escolas;\r\n- Conhecimento específico é frequentemente altamente técnico ou criativo. Não pode ser terceirizado ou automatizado;\r\n- Abrace a responsabilidade e assuma riscos empresariais em seu próprio nome. A sociedade recompensará você com responsabilidade, patrimônio e alavancagem;\r\n- As pessoas mais responsáveis têm marcas singulares, públicas e arriscadas: Oprah, Trump, Kanye, Elon;\r\n- \"Dê-me uma alavanca suficientemente longa e um ponto de apoio, e moverei a Terra.\" - Arquimedes\r\n- Fortunas exigem alavancagem. A alavancagem dos negócios vem do capital, pessoas e produtos sem custo marginal de replicação (código e mídia);\r\n- Capital significa dinheiro. Para levantar dinheiro, aplique seu conhecimento específico, com responsabilidade, e mostre bom julgamento resultante;\r\n- Trabalho significa pessoas trabalhando para você. É a forma mais antiga e mais disputada de alavancagem. A alavancagem do trabalho impressionará seus pais, mas não desperdice sua vida perseguindo-a;\r\n- Capital e trabalho são as alavancagens permitidas. Todos estão perseguindo capital, mas alguém tem que dar a você. Todos estão tentando liderar, mas alguém tem que segui-lo;\r\n- Código e mídia são alavancagens sem permissão. Elas são a alavancagem por trás dos novos ricos. Você pode criar software e mídia que trabalham para você enquanto você dorme;\r\n- Um exército de robôs está disponível gratuitamente - ele está apenas contido em centros de dados para eficiência de calor e espaço. Use-o;\r\n- Se você não sabe programar, escreva livros e blogs, grave vídeos e podcasts;\r\n- Alavancagem é um multiplicador de força para seu julgamento;\r\n- Julgamento requer experiência, mas pode ser construído mais rapidamente aprendendo habilidades fundamentais;\r\n- Não existe habilidade chamada \"negócios\". Evite revistas de negócios e aulas de negócios;\r\n- Estude microeconomia, teoria dos jogos, psicologia, persuasão, ética, matemática e computação;\r\n- Ler é mais rápido que ouvir. Fazer é mais rápido que assistir;\r\n- Você deve estar ocupado demais para \"tomar um café\", mas ainda mantendo uma agenda desocupada;\r\n- Estabeleça e faça cumprir uma taxa pessoal horária aspiracional. Se resolver um problema economizar menos do que sua taxa horária, ignore-o. Se terceirizar uma tarefa custar menos do que sua taxa horária, terceirize-a;\r\n- Trabalhe o mais duro que puder. Mesmo que com quem você trabalha e no que você trabalha sejam mais importantes do que quão duro você trabalha;\r\n- Torne-se o melhor do mundo no que você faz. Continue redefinindo o que você faz até que isso seja verdade;\r\n- Não existem esquemas para ficar rico rapidamente. Isso é apenas outra pessoa ficando rica às suas custas;\r\n- Aplique conhecimento específico, com alavancagem, e eventualmente você obterá o que merece;\r\n- Quando você finalmente estiver rico, perceberá que não era isso que você estava buscando originalmente.\r\n\n",
      "tags": [
        "Conselhos",
        "Riqueza",
        "Sabedoria"
      ],
      "translates": null
    }
  ],
  "tutorial": [
    {
      "id": "0mdfakkgsmugaex",
      "title": "Mastering Insertion Sort: A Detailed Guide",
      "slug": "mastering-insertion-sort-a-detailed-guide",
      "locale": "en-US",
      "created": "2024-01-26T23:06:53.913Z",
      "updated": "2024-01-26T23:06:53.913Z",
      "content": "Sorting is a fundamental operation in the field of computer science, and because of this, there are various algorithms available to solve this problem. Each one is chosen based on factors such as the number of items to sort, the degree of order already present, the computer architecture where the algorithm will be executed, the type of storage device, among others. In this article, we will explore the insertion sort algorithm, understanding its nuances, strengths, and limitations.\r\n\r\n## What is insertion sort?\r\nInsertion sort is a comparison-based algorithm that constructs its output one element at a time. It works similarly to the method we use to sort a deck of cards: we take one card at a time, compare it with the ones we already have in our hand, place the card in the correct position, and repeat this action until we finish our deck.\r\n\r\nIt is an adaptive algorithm, meaning it is efficient for small data sets, as well as other quadratic complexity algorithms ($O(n^2)$). It is simple to implement, requires a constant amount of memory, as changes in the list are made in the list itself (without the need to create a new list, which would double the use of memory), and is capable of sorting the list as it receives it.\r\n\r\n## How does insertion sort work?\r\n**Initialization:** We assume that the first element of our list is already sorted. We proceed to the next element, consider it as our key, and insert it in the correct position in the sorted part of the list;\r\n\r\n**Iteration:** For each item in the list (starting from the second element), we store the current item (key) and its position. Then we compare the key with the elements in the sorted part of the list (elements before the key);\r\n\r\n**Insertion:** If the current element in the sorted part is greater than the key, we move that element one position up. This creates space for the new key to be inserted;\r\n\r\n**Repositioning the Key:** We continue moving elements one position up until we find the correct position for the key. This position is found when we encounter an element that is less than or equal to the key or when we reach the beginning of the list;\r\n\r\n**Repeat:** The process is repeated for all the elements in the list.\r\n\r\n## Implementation in JavaScript\r\nTo better understand the algorithm, let's implement it in JavaScript:\r\n```js\r\n/**\r\n* Sorts an array of numbers using the insertion sort algorithm.\r\n* \r\n* @param  {number[]}  numbers - The list of numbers to be sorted.\r\n* @returns  {number[]} - The sorted list of numbers.\r\n*/\r\nfunction insertionSort(numbers) {\r\n  for (let i = 1; i < numbers.length; i++) {\r\n    const key = numbers[i]\r\n    let j = i - 1\r\n    \r\n    while (j >= 0 && numbers[j] > key) {\r\n      numbers[j  +  1] =  numbers[j]\r\n      j--\r\n    }\r\n\r\n    numbers[j  +  1] = key\r\n  }\r\n}\r\n``` \r\n## Complexity Analysis\r\n### Time Complexity\r\n**Best Case (Array is already sorted):** $O(n)$. This is because the inner loop (while) is not executed at all;\r\n**Average Case and Worst Case (Array is sorted in reverse order):** $O(n^2)$. In the worst case, each iteration will cause an element to be moved. This makes the algorithm inefficient for large data sets.\r\n## Space Complexity\r\n**Space Complexity:**  $O(1)$. Insertion sort is an in-place algorithm; it requires a constant amount of memory space.\n",
      "tags": [
        "algorithms",
        "computerscience",
        "tutorial"
      ],
      "translates": "y9hhvn3ra53p0qj"
    },
    {
      "id": "y9hhvn3ra53p0qj",
      "title": "Dominando o algoritmo de ordenação por inserção: um guia detalhado",
      "slug": "dominando-o-algoritmo-de-ordenacao-por-insercao-um-guia-detalhado",
      "locale": "pt-BR",
      "created": "2024-01-26T23:00:25.261Z",
      "updated": "2024-01-26T23:07:02.602Z",
      "content": "Ordenação é uma operação fundamental no campo da ciência da computação e, por conta disso, existem vários algoritmos disponíveis para resolver este problema, cada um com sua aplicação determinada pela quantidade de itens a ordenar, o grau de ordenação já presente, a arquitetura do computador onde o algoritmo será executado, tipo de dispositivo de armazenamento, entre outros fatores. Neste artigo, exploraremos o algoritmo de ordenação por inserção, entendendo suas nuances, forças e limitações.\r\n\r\n## O que é ordenação por inserção?\r\n\r\nOrdenação por inserção é um algoritmo baseado em comparação que constrói a sua saída um elemento por vez. Ele funciona de maneira análoga ao método que utilizamos para ordenar as cartas de um baralho: pegamos uma carta de cada vez, comparamos com os anteriores que já estão na nossa mão, colocamos a carta na posição correta e, repetimos esta ação até o fim do nosso baralho.\r\n\r\nÉ um algoritmo adaptativo, o que significa que é eficiente para pequenos conjuntos de dados, assim como outros algoritmos de complexidade quadrática ($O(n^2)$). É simples de implementar, requer um valor constante de memória, pois as alterações na lista são feitas na própria lista (sem a necessidade de criar uma nova lista, o que dobraria o uso da memória) e é capaz de ordenar a lista enquanto a recebe.\r\n\r\n## Como a ordenação por inserção funciona?\r\n\r\n1.  **Inicialização**: Assumimos que o primeiro elemento da nossa lista já está ordenado. Prosseguimos para o próximo elemento, consideramos ele como nossa chave e o inserimos na posição correta na parte ordenada da lista;\r\n    \r\n2.  **Iteração**: Para cada item da lista (começando do segundo elemento), armazenamos o item atual (chave) e sua posição. Comparamos então a chave com os elementos na parte ordenada da lista (elementos antes da chave);\r\n    \r\n3.  **Inserção**: Se o elemento atual na parte ordenada for maior que a chave, movemos esse elemento uma posição acima. Isso cria espaço para a nova chave ser inserida;\r\n    \r\n4.  **Reposicionamento da Chave**: Continuamos movendo elementos uma posição acima até encontrarmos a posição correta para a chave. Esta posição é encontrada quando batemos em um elemento menor ou igual à chave ou alcançamos o início da lista.\r\n    \r\n5.  **Repetir**: O processo é repetido para todos os elementos da lista.\r\n    \r\n\r\n## Implementação em JavaScript\r\n\r\nPara melhor entendermos o algoritmo, vamos implementá-lo em JavaScript:\r\n\r\n```js\r\n/**\r\n* Ordena um array de números usando o algoritmo de ordenação por inserção.\r\n* \r\n* @param  {number[]}  numbers - A lista de números que deve ser ordenada.\r\n* @returns  {number[]} - A lista de números ordenada.\r\n*/\r\nfunction insertionSort(numbers) {\r\n  for (let i = 1; i < numbers.length; i++) {\r\n    const key = numbers[i]\r\n    let j = i - 1\r\n    \r\n    while (j >= 0 && numbers[j] > key) {\r\n      numbers[j  +  1] =  numbers[j]\r\n      j--\r\n    }\r\n\r\n    numbers[j  +  1] = key\r\n  }\r\n}\r\n``` \r\n\r\n## Análise da complexidade\r\n\r\n### Complexidade de tempo\r\n\r\n-   **Melhor caso (Array já está ordenado)**:  $O(n)$. Isso porque o laço interno (`while`) não é executado nenhuma vez;\r\n-   **Caso médio e pior caso (Array está ordenado de maneira reversa)**: $O(n^2)$. No pior caso, cada iteração fará com que um elemento seja movido. Isso faz este algoritmo ser ineficiente para conjuntos grandes de dados.\r\n\r\n### Complexidade de espaço\r\n\r\n-   **Complexidade de espaço**: $O(1)$. ordenação por inserção é um algoritmo _in-place_; requer um valor constante de espaço na memória.\n",
      "tags": [
        "Algoritmos",
        "Ciência da Computação",
        "tutorial"
      ],
      "translates": "0mdfakkgsmugaex"
    },
    {
      "id": "l2hgc45s729in42",
      "title": "Múltiplas formas de somar os valores de um array de objetos, em TypeScript",
      "slug": "multiplas-formas-de-somar-os-valores-de-um-array-de-objetos-em-typescript",
      "locale": "pt-BR",
      "created": "2024-01-17T23:28:26.679Z",
      "updated": "2024-01-23T13:49:43.604Z",
      "content": "Há algum tempo, o [Zan Franceschi](https://twitter.com/zanfranceschi) postou o seguinte desafio:\r\n\r\n<Tweet id=\"1564671754483765251\" />\r\n\r\nNeste artigo, vou resolvê-lo de duas formas: uma com laços e outra sem laços, com TypeScript.\r\n\r\n## Analisando os dados\r\n\r\nVou transcrever o JSON do desafio para facilitar a nossa análise:\r\n\r\n```json\r\n{\r\n  \"compras\": [\r\n    {\r\n      \"data\": \"2022-01-01\",\r\n      \"produtos\": [\r\n        {\r\n          \"cod\": \"a\",\r\n          \"qtd\": 2,\r\n          \"valor_unitario\": 12.24\r\n        },\r\n        {\r\n          \"cod\": \"b\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 3.99\r\n        },\r\n        {\r\n          \"cod\": \"c\",\r\n          \"qtd\": 3,\r\n          \"valor_unitario\": 98.14\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"data\": \"2022-01-02\",\r\n      \"produtos\": [\r\n        {\r\n          \"cod\": \"a\",\r\n          \"qtd\": 6,\r\n          \"valor_unitario\": 12.34\r\n        },\r\n        {\r\n          \"cod\": \"b\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 3.99\r\n        },\r\n        {\r\n          \"cod\": \"c\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 34.02\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nPodemos definir o JSON acima em dois tipos distintos: `Produto` e `Compra`. Seus nomes são autoexplicativos, mas vou defini-los aqui para facilitar a leitura do código:\r\n\r\n```ts\r\ntype Produto = {\r\n  cod: string\r\n  qtd: number\r\n  valor_unitario: number\r\n}\r\n\r\ntype Compra = {\r\n  data: string\r\n  produtos: Produto[]\r\n}\r\n```\r\n\r\n## Escrevendo testes\r\n\r\nAntes de começar a escrever o código, vamos escrever alguns testes para garantir que o código está funcionando corretamente. Para isso, vamos usar o [Vitest](https://vitest.dev/).\r\n\r\n```ts\r\nimport { describe, expect, test } from 'vitest'\r\nimport {\r\n  somaComFor,\r\n  somaComForIn,\r\n  somaComForOf,\r\n  somaComWhile,\r\n  somaComForEach,\r\n  somaComReduce,\r\n  somaComFlatMapEReduce,\r\n  somaComSum,\r\n  somaComSumEFlatMap\r\n} from './desafio-da-soma'\r\n\r\nconst { compras } = await import('./data.json', { with: { type: 'json' } })\r\n\r\nconst result = 434.93999999999994\r\n\r\ndescribe('Desafio da soma', () => {\r\n  test('somaComFor', () => {\r\n    expect(somaComFor(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForOf', () => {\r\n    expect(somaComForOf(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForIn', () => {\r\n    expect(somaComForIn(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComWhile', () => {\r\n    expect(somaComWhile(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForEach', () => {\r\n    expect(somaComForEach(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComReduce', () => {\r\n    expect(somaComReduce(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComFlatMapEReduce', () => {\r\n    expect(somaComFlatMapEReduce(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComSum', () => {\r\n    expect(somaComSum(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComSumEFlatMap', () => {\r\n    expect(somaComSumEFlatMap(compras)).toBe(result)\r\n  })\r\n})\r\n```\r\n\r\n## Somando com laços\r\n\r\nAgora que já temos os tipos definidos, podemos começar a resolver o desafio. Podemos fazer isso de quatro formas:\r\n\r\n### 1. Usando `for`\r\n\r\nO [`for`](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/for) é um **laço de repetição** que executa um bloco de código até que uma condição seja satisfeita.\r\n\r\n```typescript\r\nfunction somaComFor(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (let i = 0; i < compras.length; i++) {\r\n    for (let j = 0; j < compras[i].produtos.length; j++) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 2. Usando `for...of`\r\n\r\nO [`for...of`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of) é um **laço de iteração** que itera sobre uma sequência de valores vindos de um [objeto iterável](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol) (que, no nosso caso, é um [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)).\r\n\r\n```typescript\r\nfunction somaComForOf(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (const compra of compras) {\r\n    for (const produto of compra.produtos) {\r\n      soma += produto.qtd * produto.valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 3. Usando `for...in`\r\n\r\nO [`for...in`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in) é um **laço de iteração** que itera sobre as propriedades enumeráveis do tipo _string_ de um objeto, inclusive as herdadas. Estou colocando esta solução aqui somente para mostrar que ela é possível, mas deve ser preterida em relação às outras soluções apresentadas neste artigo.\r\n\r\n```typescript\r\nfunction somaComForIn(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (const i in compras) {\r\n    for (const j in compras[i].produtos) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 4. Usando `while`\r\n\r\nO [`while`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/while) é um **laço de repetição** que executa um bloco de código até que uma condição seja satisfeita.\r\n\r\n```typescript\r\nfunction somaComWhile(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  let i = 0\r\n  while (i < compras.length) {\r\n    let j = 0\r\n    while (j < compras[i].produtos.length) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n      j++\r\n    }\r\n    i++\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n## Somando com métodos de `Array`\r\n\r\n### 1. Usando `Array.prototype.forEach`\r\n\r\nO [`Array.prototype.forEach`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach) é um método que executa uma função para cada elemento do array.\r\n\r\n```typescript\r\nfunction somaComForEach(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  compras.forEach(compra => {\r\n    compra.produtos.forEach(produto => {\r\n      soma += produto.qtd * produto.valor_unitario\r\n    })\r\n  })\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 2. Usando `Array.prototype.reduce`\r\n\r\nO [`Array.prototype.reduce`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce) é um método que executa uma função para cada elemento do array, retornando um único valor.\r\n\r\n```typescript\r\nfunction somaComReduce(compras: Compra[]): number {\r\n  return compras.reduce((soma, compra) => {\r\n    return (\r\n      soma +\r\n      compra.produtos.reduce((soma, produto) => {\r\n        return soma + produto.qtd * produto.valor_unitario\r\n      }, 0)\r\n    )\r\n  }, 0)\r\n}\r\n```\r\n\r\nMas, podemos torná-la ainda melhor usando o [`Array.prototype.flatMap`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap):\r\n\r\n```typescript\r\nfunction somaComFlatMapEReduce(compras: Compra[]): number {\r\n  return compras\r\n    .flatMap(compra => compra.produtos)\r\n    .reduce((soma, produto) => soma + produto.qtd * produto.valor_unitario, 0)\r\n}\r\n```\r\n\r\n## Com uma função de ajuda\r\n\r\nPodemos criar uma função genérica que faz a soma de qualquer array da seguinte forma:\r\n\r\n```typescript\r\n/**\r\n * Soma todos os valores de um array. Se o array for de objetos, é possível\r\n * passar uma função para extrair os números que serão somados.\r\n *\r\n * @example soma([1, 2, 3]) // 6\r\n * @example soma([{ valor: 1 }, { valor: 2 }, { valor: 3 }], item => item.valor) // 6\r\n */\r\nfunction sum<T extends number | object>(\r\n  array: T[],\r\n  fn?: (item: T) => number,\r\n): number {\r\n  return array.reduce(\r\n    (acumulador, item) => acumulador + (fn ? fn(item) : (item as number)),\r\n    0,\r\n  )\r\n}\r\n```\r\n\r\nE usá-la em conjunto com as soluções já apresentadas:\r\n\r\n```typescript\r\nfunction somaComSumEFlatMap(compras: Compra[]): number {\r\n  return sum(\r\n    compras.flatMap(compra => compra.produtos),\r\n    produto => produto.qtd * produto.valor_unitario,\r\n  )\r\n}\r\n```\r\n\r\nSe tiver alguma sugestão ou alguma outra ideia de como resolver este desafio, conta para mim nos comentários.\r\n\n",
      "tags": [
        "tutorial",
        "typescript",
        "algorithms"
      ],
      "translates": null
    },
    {
      "id": "pd682cq57ureywz",
      "title": "Creating native modals with the dialog element",
      "slug": "creating-native-modals-with-the-dialog-element",
      "locale": "en-US",
      "created": "2023-08-13T19:29:49.318Z",
      "updated": "2023-08-15T00:22:38.749Z",
      "content": "Using custom dialog elements instead of native browser implementations, such as [`alert`](https://developer.mozilla.org/en-US/docs/Web/API/Window/alert),\r\n[`confirm`](https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm), or [`prompt`](https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt),\r\nhas become the standard for web development for quite some time (popularized by various [jQuery](https://jqueryui.com/dialog/) plugins and by [Bootstrap](https://getbootstrap.com/2.3.2/javascript.html#modals) itself), so that with every new UI library that emerges[^1][^2][^3], it is common for its authors to re-implement a modal with the framework of the moment (which may or may not implement [WAI-ARIA accessibility](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/)).\r\n\r\n[^1]: [Material UI Modal](https://mui.com/material-ui/react-modal/)\r\n[^2]: [Ant Design Modal](https://ant.design/components/modal)\r\n[^3]: [Carbon Design System Modal](https://carbondesignsystem.com/components/modal/usage/#live-demo)\r\n\r\nBut now, with the arrival of the [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element in HTML5 (supported by [93.85%](https://caniuse.com/dialog) of browsers in use), it is much easier to create dialogs natively. In this article, we will see how to create a simple modal (and non-modal) dialog with the `<dialog>` element.\r\n\r\n## Understanding the _dialog_ element\r\n\r\nIn the sense employed in user interface development, a **dialog** is a <q>conversation</q> between the system and the user, where the system expects a response from the user to continue. A dialog can be **modal** or **non-modal**. A modal dialog (that is, one that changes the **mode** of interaction of the user with the system) is one that locks the interface, preventing the user from interacting with the rest of the page until it is closed. A non-modal dialog (that is, one that _does not_ change the **mode** of interaction of the user with the system), on the other hand, allows the user to interact with the rest of the page while the dialog is open.\r\n\r\nThe simplest way to put a non-modal dialog on the screen is as follows:\r\n\r\n```html\r\n<dialog open>\r\n  <p>Olá, mundo!</p>\r\n  <form method=\"dialog\">\r\n    <button>Fechar</button>\r\n  </form>\r\n</dialog>\r\n```\r\n\r\nNote the form, on line 5, with the _dialog_ method. It is this form that sends actions to the `dialog`. It will be displayed like this:\r\n\r\n<CodePen id=\"zYMgBOz\" />\r\n\r\nWhat makes the example above a non-modal dialog is the use of the `open` attribute (line 1), which also makes it unable to be closed with the `Esc` key. It's possible to create a non-modal dialog using the JavaScript API:\r\n\r\n<CodePen id=\"BaGXqjx\" />\r\n\r\nIn order for it to behave like a modal, it is necessary to open it through its JavaScript API, as we will see next.\r\n\r\n<CodePen id=\"VwVojZB\" />\r\n\r\nThis time, we open and close the modal with JavaScript and put the form result in the `output` element when the modal is closed. Read the code carefully and try to understand what is happening.\r\n\r\n## Styling the modal\r\n\r\nThe `dialog` element can (of course), be styled like any other HTML element. However, note that, to style the overlay (the dark background behind the modal), it is necessary to use the `::backdrop` selector:\r\n\r\n<CodePen id=\"gOQVMYE\" />\r\n\r\n## Polyfill\r\n\r\nIf you want to use `dialog` and don't have compatibility issues in older browsers, you can use this [polyfill](https://github.com/GoogleChrome/dialog-polyfill).\r\n\r\n<hr />\r\n\r\n<h3>References</h3>\r\n\r\n- [Dialog](https://web.dev/learn/html/dialog/)\r\n- [Dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)\r\n- [Modal & Nonmodal Dialogs: When (& When Not) to Use Them](https://www.nngroup.com/articles/modal-nonmodal-dialog/)\r\n\n",
      "tags": [
        "html",
        "javascript",
        "tutorial"
      ],
      "translates": "066kuym52jk3nbp"
    },
    {
      "id": "066kuym52jk3nbp",
      "title": "Criando modais nativos com o elemento dialog",
      "slug": "criando-modais-nativos-com-o-elemento-dialog",
      "locale": "pt-BR",
      "created": "2023-08-13T01:49:01.615Z",
      "updated": "2023-08-15T00:22:04.855Z",
      "content": "Usar elementos customizados de diálogo no lugar das implementações nativas do navegador, como [`alert`](https://developer.mozilla.org/en-US/docs/Web/API/Window/alert),\r\n[`confirm`](https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm) ou [`prompt`](https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt),\r\nse tornou o padrão do desenvolvimento web há bastante tempo (popularizado por diversos plugins do [jQuery](https://jqueryui.com/dialog/) e pelo próprio [Bootstrap](https://getbootstrap.com/2.3.2/javascript.html#modals)), de modo que, a cada nova biblioteca de UI que surge[^1][^2][^3], é comum que seus autores re-implementem um modal com o framework da vez (que podem ou não implementar [acessibilidade WAI-ARIA](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/)).\r\n\r\n[^1]: [Modal do Material UI](https://mui.com/material-ui/react-modal/)\r\n[^2]: [Modal do Ant Design](https://ant.design/components/modal)\r\n[^3]: [Modal do Carbon Design System](https://carbondesignsystem.com/components/modal/usage/#live-demo)\r\n\r\nMas agora, com a chegada do elemento [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) no HTML5 (suportado por [93,85%](https://caniuse.com/dialog) dos navegadores em uso), é muito mais fácil criar diálogos de forma nativa. Neste artigo, vamos ver como criar um diálogo modal (e não-modal) simples com o elemento `<dialog>`.\r\n\r\n## Entendendo o elemento _dialog_\r\n\r\nNo sentido empregado no desenvolvimento de interfaces de usuário, um **diálogo** é uma <q>conversação</q> entre o sistema e o usuário, onde o sistema espera uma resposta do usuário para continuar. Um diálogo pode ser **modal** ou **não-modal**. Um diálogo modal (isto é um, um diálogo que muda o **modo** de interação do usuário com o sistema) é aquele que trava a interface, impedindo o usuário de interagir com o restante da página até que ele seja fechado. Um diálogo não-modal (isto é um, um diálogo que _não_ muda o **modo** de interação do usuário com o sistema), por outro lado, permite que o usuário interaja com o restante da página enquanto o diálogo está aberto.\r\n\r\nA maneira mais simples de colocar um diálogo não-modal na tela é da seguinte forma:\r\n\r\n```html\r\n<dialog open>\r\n  <p>Olá, mundo!</p>\r\n  <form method=\"dialog\">\r\n    <button>Fechar</button>\r\n  </form>\r\n</dialog>\r\n```\r\n\r\nNote o formulário, na linha 5, com o método _dialog_. É este formulário que envia ações para o `dialog`. Ele será exibido dessa forma:\r\n\r\n<CodePen id=\"qBQzzww\" />\r\n\r\nO que torna o exemplo acima um diálogo não modal é o uso do atributo `open` (linha 1), o que também faz com que ele não possa ser fechado com a tecla `Esc`. Também é possível criar um diálogo não modal usando a API JavaScript:\r\n\r\n<CodePen id=\"BaGXqjx\" />\r\n\r\nAgora, para que o diálogo se comporte como um modal, é necessário que ele seja aberto através de sua API JavaScript, você pode ver no exemplo a seguir:\r\n\r\n<CodePen id=\"ZEmdgYj\" />\r\n\r\nDesta vez, abrimos e fechamos o modal com JavaScript e colocamos o resultado do formulário no elemento `output` quando o modal é fechado. Leia o código com calma e tente entender o que está acontecendo.\r\n\r\n## Estilizando o modal\r\n\r\nO elemento `dialog` pode (é claro), ser estilizado como qualquer outro elemento HTML. Atente-se, porém, que, para estilizar o _overlay_ (o fundo escuro que fica atrás do modal), é necessário usar o seletor `::backdrop`:\r\n\r\n<CodePen id=\"PoxrMzW\" />\r\n\r\n## Polyfill\r\n\r\nSe você quiser usar o `dialog` e não ter problemas de compatibilidade em navegadores mais antigos, pode usar este [polyfill](https://github.com/GoogleChrome/dialog-polyfill).\r\n\r\n<hr />\r\n\r\n<h3>Referências</h3>\r\n\r\n- [Dialog](https://web.dev/learn/html/dialog/)\r\n- [Dialog](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog)\r\n- [Modal & Nonmodal Dialogs: When (& When Not) to Use Them](https://www.nngroup.com/articles/modal-nonmodal-dialog/)\r\n\n",
      "tags": [
        "tutorial",
        "javascript",
        "html"
      ],
      "translates": "pd682cq57ureywz"
    },
    {
      "id": "x09m6ctgj8r7ebz",
      "title": "Create beautiful placeholders for your images ",
      "slug": "create-beautiful-placeholders-for-your-images",
      "locale": "en-US",
      "created": "2022-09-29T15:00:00.000Z",
      "updated": "2023-08-12T13:33:26.541Z",
      "content": "Have you ever faced the situation where the layout of your beautifully crafted interface \"breaks\" if the image (depeding on the quality of your user's connections) takes some time to load? Something like the example below:\r\n\r\n[<img src=\"https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif\" />](https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif)\r\n\r\nThis happens because the browser has no clue about the dimensions of the image you want to display on your content beforehand.\r\n\r\nThe easiest way to solve this issue is using the [`aspect-ratio`](https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio) property to tell the browser how much space (based on the user's size display) it should reserve before the image is loaded. Check the difference:\r\n\r\n```css\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n\r\n/*\r\n  Here, I'm using the image's width and height,\r\n  but you can come up with diference aspect ratios.\r\n*/\r\n  aspect-ratio: 760 / 235;\r\n}\r\n```\r\n\r\n[<img src=\"https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif\" width=\"100%\" />](https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif)\r\n\r\nSo, it solves the sudden layout change, but we can do even better do better adding an animated background.\r\n\r\n## Displaying an animated background\r\n\r\nYou can give a hint for the user that the blank space on your app should be filled with something by adding a background color or animating the transition between two o more colors, like in the example below:\r\n\r\n<iframe height=\"300\" style={{width:'100%'}} scrolling=\"no\" title=\"Animated placeholder\" src=\"https://codepen.io/douglasdemoura/embed/RwyWzEr?default-tab=\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\r\n  See the Pen <a href=\"https://codepen.io/douglasdemoura/pen/RwyWzEr\">\r\n  Animated placeholder</a> by Douglas Moura (<a href=\"https://codepen.io/douglasdemoura\">@douglasdemoura</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.\r\n</iframe>\r\n\r\nAnd our code will look like this:\r\n\r\n```css\r\n:root {\r\n  /*\r\n  Set the default aspect ratio. You can change\r\n  this CSS variable per class/id or event\r\n  creating diferente classes.\r\n  */\r\n  --aspect-ratio: 16/9;\r\n}\r\n\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n/* Put all your images inside this container */\r\n.image-container {  \r\n  aspect-ratio: var(--aspect-ratio);\r\n  position: relative;\r\n  animation: background-loading .8s linear infinite alternate;\r\n}\r\n\r\n.image-container img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n/* The placeholder animation */\r\n@keyframes background-loading {\r\n  0% {\r\n    background-color: #f9fafb;\r\n  }\r\n  100% {\r\n    background-color: #d1d5db;\r\n  }\r\n}\r\n```\r\n\r\nAnd this is the result (check the code on [CodePen](https://codepen.io/douglasdemoura/pen/RwyWBOR)):\r\n\r\n<img src=\"https://media.giphy.com/media/9yYPBL1X9wnAKzhVfE/giphy.gif\" />\r\n\r\nYet, this can be even better by displaying a colorful background that matches the image colors.\r\n\r\n## Displaying colorful image placeholders\r\n\r\n[BlurHash](https://github.com/woltapp/blurhash) is a compact representation of a placeholder for a image. You use it to process your image before sending it to the browser and you'll get a string of 20-30 characters that the algorithm can turn into a blurred image that you can show to your user before the actual image is downloaded. Check how it looks like:\r\n\r\n<img src=\"https://media.giphy.com/media/1RSpYFokgWI2tKRKHk/giphy.gif\" />\r\n\r\nI have implemented that last effect in React for the sake of simplicity and time, but you can re-implement it in whatever framework you like. Just pay attention to the `onLoad` event that changes the opacity of the image.\r\n\r\n<iframe src=\"https://stackblitz.com/edit/vitejs-vite-enczef?embed=1&file=src/Image.module.css\" height=\"500\" style={{width: '100%'}} scrolling=\"no\" title=\"Animated placeholder\"  frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"></iframe>\n",
      "tags": [
        "javascript",
        "typescript",
        "react",
        "tutorial"
      ],
      "translates": null
    }
  ],
  "mathematic": [
    {
      "id": "vfb16zvqx9d6eq8",
      "title": "Encontrando o maior divisor comum em TypeScript",
      "slug": "encontrando-o-maior-divisor-comum-em-typescript",
      "locale": "pt-BR",
      "created": "2024-01-25T13:47:59.773Z",
      "updated": "2024-01-25T13:56:47.886Z",
      "content": "Primeiramente descrito no clássico livro de geometria _Elementos_, pelo matemático grego antigo Euclides (cerca de 300 a.C., no livro VII, proposição 2), o método de encontrar o maior divisor comum entre os números positivos $a$ e $b$, sendo $a > b$, consiste no conhecimento de que os divisores comuns de $a$ e $b$ são os mesmos de $a - b$ e $b$. Portanto, podemos encontrar esse maior divisor comum substituindo o maior número ($a$) pela diferença entre os dois números ($a - b$), repetidamente, até que os dois números sejam iguais. Em TypeScript, podemos fazer isso assim:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Quando `a` for igual a `b`, retorna o resultado\r\n  if (a === b) {\r\n    return a\r\n  }\r\n\r\n  // Enquanto `a` é maior que b, chama a função novamente\r\n  // com o novo `a` sendo `a - b`:\r\n  if (a > b) {\r\n    return gcd(a - b, b)\r\n  }\r\n\r\n  // Se o novo `b` for maior que `a`,\r\n  // subtraia `a` de `b`.\r\n  return gcd(a, b - a)\r\n}\r\n```\r\n\r\nEste método pode ser muito lento se a diferença entre $a$ e $b$ for muito grande. Felizmente, existe outro método para encontrar o maior divisor comum entre dois números, que pode ser descrito da seguinte forma:\r\n\r\nPara encontrar o maior divisor comum entre $a$ e $b$, sendo $a > b$, realize a divisão entre os dois números. Esta operação dará um quociente e um resto (que chamaremos de $q$ e $r$, respectivamente). Assim, $a$ pode ser descrito como $a = q \\times b + r$;\r\nSe $r$ for igual a 0, paramos, porque descobrimos que o maior divisor comum de $a$ e $b$ é $b$. Caso contrário, voltamos ao passo 1, fazendo de $b$ o novo $a$ e $r$ será o novo $b$.\r\nAgora, podemos começar com a implementação do algoritmo acima:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Primeiro, calculamos o resto da divisão entre `a` e `b`:\r\n  const r = a % b\r\n  \r\n  // Se o resto for igual a zero, significamos que já encontramos o\r\n  // maior divisor comum, porrtanto, retornamos `b`:\r\n  if (r === 0) {\r\n    return b\r\n  }\r\n  \r\n  // Enquanto o resto não for igual a 0, chamamos a função novamente,\r\n  // com os novos valores de `a` e `b`:\r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nA implementação é muito direta e pode ser lida exatamente como descrita nos passos 1 e 2. Podemos tornar a função mais simples, verificando diretamente se $b$ é igual a zero e só realizando a operação de resto depois disso. Portanto, se a função receber um $b$ que seja igual a zero, saberemos que $a$ é o maior divisor comum:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  if (b === 0) {\r\n    return a\r\n  }\r\n  \r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nEsta variante é chamada de _algoritmo euclidiano_ (em contraste com a primeira, que é o _algoritmo de Euclides_) e é significativamente mais rápida do que a primeira implementação.\r\n\r\n## Implementações alternativas\r\n\r\nTambém podemos adotar uma abordagem diferente. Em vez de chamar nossa função gcd recursivamente, podemos implementar nossa função usando um laço `while` (análogo à nossa primeira implementação acima):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Roda este laço enquanto `a` for diferente de `b`\r\n  while (a !== b) {\r\n    if (a > b) {\r\n      // Subtrai `b` de `a` enquanto `a` for maior que `b`\r\n      a = a - b\r\n      // Pula para a próxima iteração\r\n      continue\r\n    }\r\n    // Subtrai `a` de `b` quanto a <= b\r\n    b = b - a\r\n  }\r\n  // Retorna o resultado\r\n  return a\r\n}\r\n```\r\n\r\nE esta é outra maneira (análoga à nossa segunda implementação acima):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Roda este laço enquanto `b` for diferente de 0\r\n  while (b !== 0) {\r\n    // Salva o novo valor em uma variável temporária\r\n    const newA = b\r\n    b = a % b\r\n    a = newA\r\n  }\r\n\r\n  return a\r\n}\r\n```\r\n\r\n## Encontrando o maior divisor comum entre três ou mais números\r\n\r\nO maior divisor comum de três ou mais números é igual ao produto dos fatores primos comuns a todos os números (exploraremos mais isso em um futuro artigo), mas, você também pode calcular o maior divisor comum entre pares desta lista de números com as mesmas funções que já mostramos. Então, vamos refatorar nossa função`gcd` para receber múltiplos parâmetros:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b)\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Só por precaução, ordena os números em ordem descendente:\r\n      .sort((a, b) => b - a)\r\n      // Chama `calculateGcd` para cada par de números na lista:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\r\n\r\n## Validando nossas entradas\r\nVamos garantir que nossas funções devem sempre receber, pelo menos, dois números e que todos os números deve ser positivos:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  if (numbers.length < 2) {\r\n    throw new Error(\"Você deve passar, pelo menos, 2 números\")\r\n  }\r\n\r\n  if (numbers.some((number) => number < 0)) {\r\n    throw new Error(\"Os números devem ser >= 0\")\r\n  }\r\n\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b);\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      .sort((a, b) => b - a)\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "mathematic",
        "typescript"
      ],
      "translates": "5d4agn9wp8tkd45"
    },
    {
      "id": "5d4agn9wp8tkd45",
      "title": "Finding the greatest common divisor in TypeScript",
      "slug": "finding-the-greatest-common-divisor-in-typescript",
      "locale": "en-US",
      "created": "2024-01-12T16:31:36.266Z",
      "updated": "2024-01-25T13:55:08.252Z",
      "content": "First described in the classic geometry book *Elements*, by the ancient Greek mathematician Euclid (ca. 300 BC, at the book VII, proposition 2), the method of finding de greatest common divisor between the positive numbers $a$ and $b$, being $a > b$ consists on the knowledge that the common divisors of $a$ and $b$ are the same of $a - b$ and $b$. Therefore, we can find this greatest common divisor by replacing the largest number ($a$) by the different between the two numbers ($a - b$), repeatedly, until the two numbers are equal. In TypeScript, we can do that like this:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // When `a` is equal to `b`, return the result\r\n  if (a === b) {\r\n    return a\r\n  }\r\n\r\n  // When `a` is bigger than b, calculate the the GCD again\r\n  // with the new `a` being `a - b`.\r\n  if (a > b) {\r\n    return gcd(a - b, b)\r\n  }\r\n\r\n  // If the new `b` is bigger than `a`,\r\n  // subtract a from it.\r\n  return gcd(a, b - a)\r\n}\r\n```\r\n\r\nThis method can be very slow if the difference between $a$ and $b$ is too large. Thankfully, there's another method to find the greatest common divisor between two numbers, that can be described as follows:\r\n\r\n1. In order to find the greatest common divisor between $a$ and $b$, being $a > b$, perform the division between the two numbers. This operation will give a quotient and a remainder (that we will call $q$ and $r$, respectively). Thus, $a$ can be described as $a = q \\times b + r$;\r\n2.  If $r$ is equal to 0, we stop, because we found that the greatest common divisor of $a$ and $b$ is $b$. Otherwise, we go back to step 1, making $b$ the new $a$ and $r$ will be the new $b$.\r\n\r\nNow, we can start with the implementation of the algorithm above:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // First, we take the remainder between the division of a and b:\r\n  const r = a % b\r\n  \r\n  // If the remainder is equal to zero, it means that we already found the\r\n  // greatest common divisor, therefore, we return b:\r\n  if (r === 0) {\r\n    return b\r\n  }\r\n  \r\n  // If the remainder is not equal to 0, we call the function again\r\n  // with the new values for a and b:\r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nThe implementation is very straightforward and can be read exactly as is described in steps 1 and 2. We can make the function simpler, by checking, directly, if $b$ is equal to zero and only doing the remainder operation afterwards. Therefore, if the function receive a $b$ that is equal to zero, we will know that $a$ is the greatest common divisor:\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  if (b === 0) {\r\n    return a\r\n  }\r\n  \r\n  return gcd(b, a % b)\r\n}\r\n```\r\n\r\nThis variant is called *Euclidean algorithm* (in contrast of the first one, which is the *Euclid's algorithm*) and it significantly faster than the first implementation.\r\n\r\n## Alternative implementations\r\n\r\nWe can also take a different approach. Instead of calling our `gcd` function recursively, we can implement our function using a `while` loop (analogous to our first implementation above):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Run this loop while a is different of b\r\n  while (a !== b) {\r\n    if (a > b) {\r\n      // Subtracts b from a while a is bigger than b\r\n      a = a - b\r\n      // Go to the next loop\r\n      continue\r\n    }\r\n    // Subtracts a from b when a <= b\r\n    b = b - a\r\n  }\r\n  // Returns the greatest common divisor between a and b\r\n  return a\r\n}\r\n```\r\n\r\nAnd this is another way (analogous to our second implementation above):\r\n\r\n```typescript\r\nconst gcd = (a: number, b: number): number => {\r\n  // Run this loop while `b` is different from 0\r\n  while (b !== 0) {\r\n    // Save the new value for a in a temporary variable\r\n    const newA = b\r\n    // Set b to the modulo of a and b (the remainder of the division between a and b)\r\n    b = a % b\r\n    // Set a to its new value before the next loop\r\n    a = newA\r\n  }\r\n  \r\n  // Now that b is equal to 0, we know that a is the greatest common divisor\r\n  return a\r\n}\r\n```\r\n\r\n## Finding the greatest common between three or more numbers\r\n\r\nThe greatest  of three or more numbers is equal the product of the prime factors common to all the numbers (we will explore more of that in a future article), but, you can also calculate the greatest common divisor between pairs of this list of numbers with the same functions we have showed already. So, let's refactor our `gcd` function to receive multiple parameters:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b)\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Just to be sure, sort numbers in descendant order:\r\n      .sort((a, b) => b - a)\r\n      // Call `calculateGcd` for each pair in the numbers array:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\r\n\r\n## Validating our input\r\n\r\nLet's guarantee that our functions should always receive, at least, two numbers and that all numbers must not be negative:\r\n\r\n```typescript\r\nconst gcd = (...numbers: number[]): number => {\r\n  if (numbers.length < 2) {\r\n    throw new Error(\"You must pass, at least, 2 numbers\")\r\n  }\r\n\r\n  if (numbers.some((number) => number < 0)) {\r\n    throw new Error(\"The numbers must be >= 0\")\r\n  }\r\n\r\n  const calculateGcd = (a: number, b: number): number => {\r\n    if (b === 0) {\r\n      return a\r\n    }\r\n\r\n    return calculateGcd(b, a % b);\r\n  };\r\n\r\n  return (\r\n    numbers\r\n      // Just to be sure, sort numbers in descendant order:\r\n      .sort((a, b) => b - a)\r\n      // Call `calculateGcd` for each pair in the numbers array:\r\n      .reduce((a, b) => calculateGcd(a, b))\r\n  )\r\n}\r\n```\n",
      "tags": [
        "typescript",
        "mathematic",
        "javascript"
      ],
      "translates": "vfb16zvqx9d6eq8"
    },
    {
      "id": "8mgwfzzig2t1wd9",
      "title": "Understanding Tail Call Optimization With JavaScript",
      "slug": "understanding-tail-call-optimization-with-javascript",
      "locale": "en-US",
      "created": "2023-10-24T15:13:38.216Z",
      "updated": "2023-10-24T15:27:40.960Z",
      "content": "Consider the following function that calculates the factorial of a number:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Factorial\" mb=\"md\" color=\"blue\">\r\nIn Mathematics, the factorial of a non-negative integer (n!) is the product of all positive integers less than or equal to n.\r\n</Alert>\r\n\r\nThe function above was implemented iteratively, that is, it uses a loop to calculate the factorial of a number. However, it is possible to implement the same function recursively (that is, a function that references itself):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nThe result of both functions is the same, however, the iterative function is [much more efficient](https://jsben.ch/1qyl8) (in JavaScript) than the recursive function. In addition, if we try to calculate the factorial of a very large number, we encounter the error RangeError: Maximum call stack size exceeded. Let's understand why this happens and how we can improve the recursive function.\r\n\r\n## Call Stack\r\n\r\nA [call stack](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) is a data structure that stores information about a program's functions. When a function is called, it is added to the execution stack, as well as all the functions it calls. When a function returns, it is removed from the execution stack. Each function added to the stack is called a _stack frame_.\r\n\r\nIn order to understand what is happening, let's try to represent, graphically, how the calculation of the factorial of 6 is done with the iterative function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNow, compare it with the substitution model for calculating the factorial of 6 using the recursive function:\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNote that, in the iterative function, the arrow shape is linear and we can see the state of each variable at each step. In addition, at each iteration of our loop, a calculation is performed and the variables stored in memory are updated. In the recursive function, the arrow shape is exponential and we cannot see the state of all variables in the first half of the processing. In addition, each time the function is executed, more memory needs to be used to store the resulting values of each execution.\r\n\r\nBut what does this mean? In order for JavaScript to calculate the factorial of 6 using the iterative function, the `while` condition is added to the stack, where its calculation is performed, the `result` variable is updated, and then the executed code block of the `while` is removed from the stack. This is done until the while condition is false, that is, until the value of `n` is less than or equal to 1.\r\n\r\nIn the recursive function, each call to the `factorial` function is added to the stack as many times as necessary until the if condition is false, that is, until the value of `n` is less than or equal to 1. This means that, to calculate the factorial of 6, the `factorial` function is added to the stack 6 times before being executed. And that's why, when we try to calculate the factorial of a large number (100,000, for example), we encounter the error `RangeError: Maximum call stack size exceeded`: there is not enough space in the stack to store all the calls to the `factorial` function.\r\n\r\n## Introducing Tail Call Optimization\r\n\r\nAs defined by [Dr. Axel Rauschmayer](https://dr-axel.de/):\r\n\r\n> [...] whenever the last thing a function does is call another function, then this last function does not need to return to its caller. As a consequence, no information needs to be stored on the call stack and the function call is more like a goto (a jump). This type of call is called a _tail call_; not increasing the stack is called tail call optimization (TCO).\r\n\r\nNow, we have discovered that our factorial calculation function is not tail recursive. But how can we make it tail recursive? With the help of another function:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nNow, our function is tail recursive: the last thing it does is call a function (and not calculate an expression, as in the first implementation). Now, let's see the substitution model for calculating the factorial of 6 with our new `factorial` function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[The performance is superior](https://jsben.ch/vOf9P) to our first implementation, although it still doesn't beat the performance of the iterative function. However, we still encounter the error `RangeError: Maximum call stack size exceeded`. But why does this happen? Because, despite our function being tail recursive, current versions of Node.js and browsers ([with the exception of Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) do not implement Tail Call Optimization (despite its inclusion in the [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) specification since 2015).\r\n\r\nBut how will we solve this problem? With the help of another function, of course! For that, we will rely on the [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)) pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nOur trampoline function consists of a loop that invokes a function that wraps another function (what we call a [thunk](https://en.wikipedia.org/wiki/Thunk)) until there are no more functions to execute. Let's see how the implementation of our factorial function would look like with the Trampoline pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Now, a function returns another function\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nAnd now, we can call our factorial function with a large number, without encountering the error `RangeError: Maximum call stack size exceeded`. Of course, depending on the factorial we want to calculate, we will encounter an Infinity, as it is a very large number (a number greater than Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). In this case, we can use [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Converting values to BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Typing our function\r\n\r\nAnd finally, let's add the necessary types to our factorial function:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## References\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "algorithms",
        "javascript",
        "mathematic",
        "Node.js"
      ],
      "translates": "rc3oq9fakzdn3ad"
    },
    {
      "id": "rc3oq9fakzdn3ad",
      "title": "Entendendo o que é Tail Call Optimization com JavaScript",
      "slug": "entendendo-o-que-e-tail-call-optimization-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-03T02:40:27.535Z",
      "updated": "2023-10-24T15:13:47.577Z",
      "content": "Considere a seguinte função que calcula o fatorial de um número:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Fatorial\" mb=\"md\" color=\"blue\">\r\nEm matemática, o fatorial de um inteiro n não negativo (n!), é o produto de todos os inteiros positivos menores ou iguais a n.\r\n</Alert>\r\n\r\nA função acima foi implementada de forma iterativa, ou seja, ela utiliza um laço de repetição para calcular o fatorial de um número. Porém, é possível implementar a mesma função de forma recursiva (ou seja: uma função que referencia a si mesma):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nO resultado de ambas às funções é o mesmo, porém, a função iterativa é [muito mais eficiente](https://jsben.ch/1qyl8) (no JavaScript) que a função recursiva. Além disso, se tentarmos calcular o fatorial de um número muito grande, nós deparamos com o erro RangeError: Maximum call stack size exceeded. Vamos entender o porquê disso e como podemos melhorar a função recursiva.\r\n\r\n## Pilha de execução\r\n\r\nUma [pilha de execução (call stack)](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) é uma estrutura de dados que armazena informações sobre as funções de um programa. Quando uma função é chamada, ela é adicionada à pilha de execução, assim como todas as funções que ela chamar. Quando uma função retorna, ela é removida da pilha de execução. Cada função adicionada à pilha é chamada de _stack frame_.\r\n\r\nPara entendermos o que está acontecendo, vamos tentar representar, graficamente, como o cálculo do fatorial de 6 é feito com a função iterativa:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nAgora, compare com o modelo de substituição para o cálculo do fatorial de 6 com a função recursiva:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nObserve, que, na função iterativa, a forma da seta é linear e podemos ver o estado de cada variável em cada passo. Além disso, a cada iteração do nosso laço de repetição, um cálculo e efetuado e as variáveis armazenadas na memória são atualizadas. Na função recursiva, a forma da seta é exponencial e não podemos ver o estado de todas as variáveis na primeira metade do processamento. Além disso, a cada vez que a função é executada, mais memória precisa ser utilizada para armazenar os valores resultantes de cada execução.\r\n\r\nMas, o que isso significa? Para que o JavaScript possa calcular o fatorial de 6, com a função iterativa, a condição `while` é adicionada à pilha, onde seu cálculo é efetuado, a variável result é atualizada e, em seguida, o bloco de código executado do `while` é retirado da pilha. Isso é feito até que a condição while seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1.\r\n\r\nJá, na função recursiva, cada chamada da função `factorial` é adicionada à pilha quantas vezes forem necessárias até que a condição if seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1. Isso significa que, para calcular o fatorial de 6, a função factorial é adicionada à pilha 6 vezes, para, então ser executada. E é por isso que, quando tentamos calcular o fatorial de um número grande (100.000, por exemplo), nos deparamos com o erro `RangeError: Maximum call stack size exceeded`: não há espaço suficiente na pilha para armazenar todas as chamadas da função factorial.\r\n\r\n## Introduzindo Tail Call Optimization\r\n\r\nComo bem definido pelo [Dr. Axel Rauschmayer](https://dr-axel.de/) (grifo meu):\r\n\r\n> [...] sempre que a última coisa que uma função faz é chamar outra função, então esta última não precisa retornar para sua chamadora. Como consequência, nenhuma informação precisa ser armazenada na pilha de chamadas e a chamada de função é mais como um goto (um salto). Esse tipo de chamada é chamado de _tail call_; não aumentar a pilha é chamado de tail call optmization (TCO).\r\n\r\nOra, descobrimos que nossa função para calcular fatorial não é _tail recursive_. Mas, como podemos torná-la tail recursiva? Com a ajuda de outra função:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nAgora, sim, nossa função é _tail recursive_: a última coisa que ela faz é chamar uma função (e não calcular uma expressão, como na primeira implementação).Agora, vamos ver o modelo de substituição para o cálculo do fatorial de 6 com a nossa nova função `factorial`:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[O desempenho é superior](https://jsben.ch/vOf9P) ao da nossa primeira implementação, apesar de ainda não bater o desempenho da função iterativa. Porém, ainda nos deparamos com o erro `RangeError: Maximum call stack size exceeded`. Mas, por que isso acontece? Porque, apesar de nossa função ser _tail recursive_, as atuais versões do Node.js e os navegadores ([com exceção do Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) não implementa Tail Call Optimization (apesar de sua inclusão na especificação do [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) desde 2015).\r\n\r\nMas, como resolveremos este problema? Com a ajuda de outra função, claro! Para isso, vamos contar com a ajuda do padrão [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nNossas função trampoline consiste em um laço de repetição que invoca uma função que envolve outra função (o que chamamos de [thunk](https://en.wikipedia.org/wiki/Thunk)) até que não haja mais funções para executar. Vamos ver como ficaria a implementação da nossa função factorial com o padrão Trampoline:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Note que, agora, a função retorna uma função\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nE agora sim, podemos chamar a nossa função factorial com um número grande, sem nos depararmos com o erro RangeError: Maximum call stack size exceeded. Claro, dependendo do fatorial que quisermos calcular, nos depararemos com um Infinity, por se tratar de um número muito grande (um número maior que o Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). Neste caso, podemos usar o [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Convertendo os valores para BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Tipando a nossa função\r\n\r\nE, para finalizar, vamos adicionar os tipos necessários para a nossa função factorial:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Referências\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "javascript",
        "algorithms",
        "mathematic",
        "Node.js"
      ],
      "translates": "8mgwfzzig2t1wd9"
    }
  ],
  "Beginners": [
    {
      "id": "fk4euqpea154kb9",
      "title": "Introduction to algorithms",
      "slug": "introduction-to-algorithms",
      "locale": "en-US",
      "created": "2024-01-25T17:00:12.952Z",
      "updated": "2024-01-25T17:01:52.985Z",
      "content": "## What is an Algorithm?\r\nAn algorithm is a precise and unambiguous specification of a sequence of computational steps that can be mechanically performed[^1]. From this, we can think of a function that receives a value or a set of values as input and returns a value or a set of values as its output.\r\n\r\nAn algorithm can be correct or incorrect. It is correct when, given its input parameters, its output is correct and, therefore, solves the computational problem for which it was developed. An incorrect algorithm, on the other hand, may stop with an incorrect output or may not stop at all for some input instances. Still, some incorrect algorithms can still have useful applications.\r\n\r\nThere can be different algorithms that solve the same problem, some more efficient, that is, faster than others. But, not every problem has an efficient solution. Such problems are known as <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete.\r\n\r\n<abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems are very interesting: even though no efficient algorithm has been found for this class of problems, it has not been proven that it is not possible to find an efficient algorithm (from class P, which can be solved in polynomial time) for such a problem. Moreover, if there were an efficient algorithm to solve an NP-complete problem, it would mean that there is an efficient algorithm for all <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems.\r\n\r\n<Alert title=\"P vs. NP\">\r\nP vs. NP is a fundamental question in computer science, specifically in the field of computational complexity theory. It concerns the relationship between two classes of problems. The P class consists of decision problems (problems with a yes or no answer) that can be quickly solved (in polynomial time) by a deterministic computer, meaning that the time needed to solve the problem grows at a manageable rate as the size of the input increases. On the other hand, the NP class consists of decision problems for which, if a solution is provided, it can be quickly verified (also in polynomial time) by a deterministic computer.\r\n\r\nThe crucial question, \"Is P equal to NP?\", asks whether every problem whose solution can be quickly verified (NP) can also be solved quickly (P). This is profound because, if P were equal to NP, it would mean that all the problems that we can verify quickly can also be solved quickly. This has vast implications for various fields, including cryptography, optimization, and algorithm design.\r\n</Alert>\r\n\r\n## Algorithmic Complexity\r\nWhen we talk about algorithms, most of the time we are interested in the growth rate of time and space required to solve increasingly larger instances of certain problems. If we are interested in the time a particular algorithm takes to perform its function, we are interested in its time complexity. And the behavior of the time complexity limit of our algorithm in relation to the increase of the problem instances is called asymptotic time complexity. And it is this asymptotic complexity that determines the size of the problem that can be solved by algorithms[^2].\r\n\r\nIf an algorithm takes a time $cn^2$ for a constant $c$ to process an input of size $n$, we say that the complexity of the algorithm is of the order of $n^2$, or, in Bachmann–Landau notation (also called asymptotic notation and Big O notation), the algorithm has complexity $O(n^2)$.\r\n\r\nTo get a better idea of what this means in relation to the runtime of our algorithm, consider that one unit of time on the computer on which we run our algorithm is 1 millisecond. Now, we want to know what the maximum size of input that our algorithm can process within a certain time limit (one second, one hour, and one day). Note, in the table below, how much the complexity of the algorithm interferes with the maximum size of the input it can handle, given the time limit:\r\n\r\n| Time Complexity | 1 second |\t1 minute | 1 hour |\r\n|--|--|--|--|\r\n| $n$ | 1000 | 60000 | 360000 |\r\n| $n \\log_2 n$ | 140 | 4895 | 204095 |\r\n| $n^2$ | 31 | 244 | 1897 |\r\n| $n^3$ | 10 | 39 | 153 |\r\n| $2^n$ | 9 | 15 | 21 |\r\n\r\nEven though we can build faster computers, the increase in the execution speed of less efficient algorithms would not be so significant, so we should always seek the most efficient algorithm to address a given problem.\r\n\r\n[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. _Foundations of Computer Science_. Stanford, 1994.\r\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. _The Design and Analysis of Computer Algorithms_. Addison-Wesley, 1974.\n",
      "tags": [
        "Beginners",
        "Computer Science",
        "algorithms"
      ],
      "translates": "q56goy3mqfdb3hu"
    }
  ],
  "Computer Science": [
    {
      "id": "fk4euqpea154kb9",
      "title": "Introduction to algorithms",
      "slug": "introduction-to-algorithms",
      "locale": "en-US",
      "created": "2024-01-25T17:00:12.952Z",
      "updated": "2024-01-25T17:01:52.985Z",
      "content": "## What is an Algorithm?\r\nAn algorithm is a precise and unambiguous specification of a sequence of computational steps that can be mechanically performed[^1]. From this, we can think of a function that receives a value or a set of values as input and returns a value or a set of values as its output.\r\n\r\nAn algorithm can be correct or incorrect. It is correct when, given its input parameters, its output is correct and, therefore, solves the computational problem for which it was developed. An incorrect algorithm, on the other hand, may stop with an incorrect output or may not stop at all for some input instances. Still, some incorrect algorithms can still have useful applications.\r\n\r\nThere can be different algorithms that solve the same problem, some more efficient, that is, faster than others. But, not every problem has an efficient solution. Such problems are known as <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete.\r\n\r\n<abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems are very interesting: even though no efficient algorithm has been found for this class of problems, it has not been proven that it is not possible to find an efficient algorithm (from class P, which can be solved in polynomial time) for such a problem. Moreover, if there were an efficient algorithm to solve an NP-complete problem, it would mean that there is an efficient algorithm for all <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems.\r\n\r\n<Alert title=\"P vs. NP\">\r\nP vs. NP is a fundamental question in computer science, specifically in the field of computational complexity theory. It concerns the relationship between two classes of problems. The P class consists of decision problems (problems with a yes or no answer) that can be quickly solved (in polynomial time) by a deterministic computer, meaning that the time needed to solve the problem grows at a manageable rate as the size of the input increases. On the other hand, the NP class consists of decision problems for which, if a solution is provided, it can be quickly verified (also in polynomial time) by a deterministic computer.\r\n\r\nThe crucial question, \"Is P equal to NP?\", asks whether every problem whose solution can be quickly verified (NP) can also be solved quickly (P). This is profound because, if P were equal to NP, it would mean that all the problems that we can verify quickly can also be solved quickly. This has vast implications for various fields, including cryptography, optimization, and algorithm design.\r\n</Alert>\r\n\r\n## Algorithmic Complexity\r\nWhen we talk about algorithms, most of the time we are interested in the growth rate of time and space required to solve increasingly larger instances of certain problems. If we are interested in the time a particular algorithm takes to perform its function, we are interested in its time complexity. And the behavior of the time complexity limit of our algorithm in relation to the increase of the problem instances is called asymptotic time complexity. And it is this asymptotic complexity that determines the size of the problem that can be solved by algorithms[^2].\r\n\r\nIf an algorithm takes a time $cn^2$ for a constant $c$ to process an input of size $n$, we say that the complexity of the algorithm is of the order of $n^2$, or, in Bachmann–Landau notation (also called asymptotic notation and Big O notation), the algorithm has complexity $O(n^2)$.\r\n\r\nTo get a better idea of what this means in relation to the runtime of our algorithm, consider that one unit of time on the computer on which we run our algorithm is 1 millisecond. Now, we want to know what the maximum size of input that our algorithm can process within a certain time limit (one second, one hour, and one day). Note, in the table below, how much the complexity of the algorithm interferes with the maximum size of the input it can handle, given the time limit:\r\n\r\n| Time Complexity | 1 second |\t1 minute | 1 hour |\r\n|--|--|--|--|\r\n| $n$ | 1000 | 60000 | 360000 |\r\n| $n \\log_2 n$ | 140 | 4895 | 204095 |\r\n| $n^2$ | 31 | 244 | 1897 |\r\n| $n^3$ | 10 | 39 | 153 |\r\n| $2^n$ | 9 | 15 | 21 |\r\n\r\nEven though we can build faster computers, the increase in the execution speed of less efficient algorithms would not be so significant, so we should always seek the most efficient algorithm to address a given problem.\r\n\r\n[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. _Foundations of Computer Science_. Stanford, 1994.\r\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. _The Design and Analysis of Computer Algorithms_. Addison-Wesley, 1974.\n",
      "tags": [
        "Beginners",
        "Computer Science",
        "algorithms"
      ],
      "translates": "q56goy3mqfdb3hu"
    }
  ],
  "algorithms": [
    {
      "id": "0mdfakkgsmugaex",
      "title": "Mastering Insertion Sort: A Detailed Guide",
      "slug": "mastering-insertion-sort-a-detailed-guide",
      "locale": "en-US",
      "created": "2024-01-26T23:06:53.913Z",
      "updated": "2024-01-26T23:06:53.913Z",
      "content": "Sorting is a fundamental operation in the field of computer science, and because of this, there are various algorithms available to solve this problem. Each one is chosen based on factors such as the number of items to sort, the degree of order already present, the computer architecture where the algorithm will be executed, the type of storage device, among others. In this article, we will explore the insertion sort algorithm, understanding its nuances, strengths, and limitations.\r\n\r\n## What is insertion sort?\r\nInsertion sort is a comparison-based algorithm that constructs its output one element at a time. It works similarly to the method we use to sort a deck of cards: we take one card at a time, compare it with the ones we already have in our hand, place the card in the correct position, and repeat this action until we finish our deck.\r\n\r\nIt is an adaptive algorithm, meaning it is efficient for small data sets, as well as other quadratic complexity algorithms ($O(n^2)$). It is simple to implement, requires a constant amount of memory, as changes in the list are made in the list itself (without the need to create a new list, which would double the use of memory), and is capable of sorting the list as it receives it.\r\n\r\n## How does insertion sort work?\r\n**Initialization:** We assume that the first element of our list is already sorted. We proceed to the next element, consider it as our key, and insert it in the correct position in the sorted part of the list;\r\n\r\n**Iteration:** For each item in the list (starting from the second element), we store the current item (key) and its position. Then we compare the key with the elements in the sorted part of the list (elements before the key);\r\n\r\n**Insertion:** If the current element in the sorted part is greater than the key, we move that element one position up. This creates space for the new key to be inserted;\r\n\r\n**Repositioning the Key:** We continue moving elements one position up until we find the correct position for the key. This position is found when we encounter an element that is less than or equal to the key or when we reach the beginning of the list;\r\n\r\n**Repeat:** The process is repeated for all the elements in the list.\r\n\r\n## Implementation in JavaScript\r\nTo better understand the algorithm, let's implement it in JavaScript:\r\n```js\r\n/**\r\n* Sorts an array of numbers using the insertion sort algorithm.\r\n* \r\n* @param  {number[]}  numbers - The list of numbers to be sorted.\r\n* @returns  {number[]} - The sorted list of numbers.\r\n*/\r\nfunction insertionSort(numbers) {\r\n  for (let i = 1; i < numbers.length; i++) {\r\n    const key = numbers[i]\r\n    let j = i - 1\r\n    \r\n    while (j >= 0 && numbers[j] > key) {\r\n      numbers[j  +  1] =  numbers[j]\r\n      j--\r\n    }\r\n\r\n    numbers[j  +  1] = key\r\n  }\r\n}\r\n``` \r\n## Complexity Analysis\r\n### Time Complexity\r\n**Best Case (Array is already sorted):** $O(n)$. This is because the inner loop (while) is not executed at all;\r\n**Average Case and Worst Case (Array is sorted in reverse order):** $O(n^2)$. In the worst case, each iteration will cause an element to be moved. This makes the algorithm inefficient for large data sets.\r\n## Space Complexity\r\n**Space Complexity:**  $O(1)$. Insertion sort is an in-place algorithm; it requires a constant amount of memory space.\n",
      "tags": [
        "algorithms",
        "computerscience",
        "tutorial"
      ],
      "translates": "y9hhvn3ra53p0qj"
    },
    {
      "id": "fk4euqpea154kb9",
      "title": "Introduction to algorithms",
      "slug": "introduction-to-algorithms",
      "locale": "en-US",
      "created": "2024-01-25T17:00:12.952Z",
      "updated": "2024-01-25T17:01:52.985Z",
      "content": "## What is an Algorithm?\r\nAn algorithm is a precise and unambiguous specification of a sequence of computational steps that can be mechanically performed[^1]. From this, we can think of a function that receives a value or a set of values as input and returns a value or a set of values as its output.\r\n\r\nAn algorithm can be correct or incorrect. It is correct when, given its input parameters, its output is correct and, therefore, solves the computational problem for which it was developed. An incorrect algorithm, on the other hand, may stop with an incorrect output or may not stop at all for some input instances. Still, some incorrect algorithms can still have useful applications.\r\n\r\nThere can be different algorithms that solve the same problem, some more efficient, that is, faster than others. But, not every problem has an efficient solution. Such problems are known as <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete.\r\n\r\n<abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems are very interesting: even though no efficient algorithm has been found for this class of problems, it has not been proven that it is not possible to find an efficient algorithm (from class P, which can be solved in polynomial time) for such a problem. Moreover, if there were an efficient algorithm to solve an NP-complete problem, it would mean that there is an efficient algorithm for all <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems.\r\n\r\n<Alert title=\"P vs. NP\">\r\nP vs. NP is a fundamental question in computer science, specifically in the field of computational complexity theory. It concerns the relationship between two classes of problems. The P class consists of decision problems (problems with a yes or no answer) that can be quickly solved (in polynomial time) by a deterministic computer, meaning that the time needed to solve the problem grows at a manageable rate as the size of the input increases. On the other hand, the NP class consists of decision problems for which, if a solution is provided, it can be quickly verified (also in polynomial time) by a deterministic computer.\r\n\r\nThe crucial question, \"Is P equal to NP?\", asks whether every problem whose solution can be quickly verified (NP) can also be solved quickly (P). This is profound because, if P were equal to NP, it would mean that all the problems that we can verify quickly can also be solved quickly. This has vast implications for various fields, including cryptography, optimization, and algorithm design.\r\n</Alert>\r\n\r\n## Algorithmic Complexity\r\nWhen we talk about algorithms, most of the time we are interested in the growth rate of time and space required to solve increasingly larger instances of certain problems. If we are interested in the time a particular algorithm takes to perform its function, we are interested in its time complexity. And the behavior of the time complexity limit of our algorithm in relation to the increase of the problem instances is called asymptotic time complexity. And it is this asymptotic complexity that determines the size of the problem that can be solved by algorithms[^2].\r\n\r\nIf an algorithm takes a time $cn^2$ for a constant $c$ to process an input of size $n$, we say that the complexity of the algorithm is of the order of $n^2$, or, in Bachmann–Landau notation (also called asymptotic notation and Big O notation), the algorithm has complexity $O(n^2)$.\r\n\r\nTo get a better idea of what this means in relation to the runtime of our algorithm, consider that one unit of time on the computer on which we run our algorithm is 1 millisecond. Now, we want to know what the maximum size of input that our algorithm can process within a certain time limit (one second, one hour, and one day). Note, in the table below, how much the complexity of the algorithm interferes with the maximum size of the input it can handle, given the time limit:\r\n\r\n| Time Complexity | 1 second |\t1 minute | 1 hour |\r\n|--|--|--|--|\r\n| $n$ | 1000 | 60000 | 360000 |\r\n| $n \\log_2 n$ | 140 | 4895 | 204095 |\r\n| $n^2$ | 31 | 244 | 1897 |\r\n| $n^3$ | 10 | 39 | 153 |\r\n| $2^n$ | 9 | 15 | 21 |\r\n\r\nEven though we can build faster computers, the increase in the execution speed of less efficient algorithms would not be so significant, so we should always seek the most efficient algorithm to address a given problem.\r\n\r\n[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. _Foundations of Computer Science_. Stanford, 1994.\r\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. _The Design and Analysis of Computer Algorithms_. Addison-Wesley, 1974.\n",
      "tags": [
        "Beginners",
        "Computer Science",
        "algorithms"
      ],
      "translates": "q56goy3mqfdb3hu"
    },
    {
      "id": "l2hgc45s729in42",
      "title": "Múltiplas formas de somar os valores de um array de objetos, em TypeScript",
      "slug": "multiplas-formas-de-somar-os-valores-de-um-array-de-objetos-em-typescript",
      "locale": "pt-BR",
      "created": "2024-01-17T23:28:26.679Z",
      "updated": "2024-01-23T13:49:43.604Z",
      "content": "Há algum tempo, o [Zan Franceschi](https://twitter.com/zanfranceschi) postou o seguinte desafio:\r\n\r\n<Tweet id=\"1564671754483765251\" />\r\n\r\nNeste artigo, vou resolvê-lo de duas formas: uma com laços e outra sem laços, com TypeScript.\r\n\r\n## Analisando os dados\r\n\r\nVou transcrever o JSON do desafio para facilitar a nossa análise:\r\n\r\n```json\r\n{\r\n  \"compras\": [\r\n    {\r\n      \"data\": \"2022-01-01\",\r\n      \"produtos\": [\r\n        {\r\n          \"cod\": \"a\",\r\n          \"qtd\": 2,\r\n          \"valor_unitario\": 12.24\r\n        },\r\n        {\r\n          \"cod\": \"b\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 3.99\r\n        },\r\n        {\r\n          \"cod\": \"c\",\r\n          \"qtd\": 3,\r\n          \"valor_unitario\": 98.14\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      \"data\": \"2022-01-02\",\r\n      \"produtos\": [\r\n        {\r\n          \"cod\": \"a\",\r\n          \"qtd\": 6,\r\n          \"valor_unitario\": 12.34\r\n        },\r\n        {\r\n          \"cod\": \"b\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 3.99\r\n        },\r\n        {\r\n          \"cod\": \"c\",\r\n          \"qtd\": 1,\r\n          \"valor_unitario\": 34.02\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nPodemos definir o JSON acima em dois tipos distintos: `Produto` e `Compra`. Seus nomes são autoexplicativos, mas vou defini-los aqui para facilitar a leitura do código:\r\n\r\n```ts\r\ntype Produto = {\r\n  cod: string\r\n  qtd: number\r\n  valor_unitario: number\r\n}\r\n\r\ntype Compra = {\r\n  data: string\r\n  produtos: Produto[]\r\n}\r\n```\r\n\r\n## Escrevendo testes\r\n\r\nAntes de começar a escrever o código, vamos escrever alguns testes para garantir que o código está funcionando corretamente. Para isso, vamos usar o [Vitest](https://vitest.dev/).\r\n\r\n```ts\r\nimport { describe, expect, test } from 'vitest'\r\nimport {\r\n  somaComFor,\r\n  somaComForIn,\r\n  somaComForOf,\r\n  somaComWhile,\r\n  somaComForEach,\r\n  somaComReduce,\r\n  somaComFlatMapEReduce,\r\n  somaComSum,\r\n  somaComSumEFlatMap\r\n} from './desafio-da-soma'\r\n\r\nconst { compras } = await import('./data.json', { with: { type: 'json' } })\r\n\r\nconst result = 434.93999999999994\r\n\r\ndescribe('Desafio da soma', () => {\r\n  test('somaComFor', () => {\r\n    expect(somaComFor(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForOf', () => {\r\n    expect(somaComForOf(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForIn', () => {\r\n    expect(somaComForIn(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComWhile', () => {\r\n    expect(somaComWhile(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComForEach', () => {\r\n    expect(somaComForEach(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComReduce', () => {\r\n    expect(somaComReduce(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComFlatMapEReduce', () => {\r\n    expect(somaComFlatMapEReduce(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComSum', () => {\r\n    expect(somaComSum(compras)).toBe(result)\r\n  })\r\n\r\n  test('somaComSumEFlatMap', () => {\r\n    expect(somaComSumEFlatMap(compras)).toBe(result)\r\n  })\r\n})\r\n```\r\n\r\n## Somando com laços\r\n\r\nAgora que já temos os tipos definidos, podemos começar a resolver o desafio. Podemos fazer isso de quatro formas:\r\n\r\n### 1. Usando `for`\r\n\r\nO [`for`](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/for) é um **laço de repetição** que executa um bloco de código até que uma condição seja satisfeita.\r\n\r\n```typescript\r\nfunction somaComFor(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (let i = 0; i < compras.length; i++) {\r\n    for (let j = 0; j < compras[i].produtos.length; j++) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 2. Usando `for...of`\r\n\r\nO [`for...of`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of) é um **laço de iteração** que itera sobre uma sequência de valores vindos de um [objeto iterável](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol) (que, no nosso caso, é um [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)).\r\n\r\n```typescript\r\nfunction somaComForOf(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (const compra of compras) {\r\n    for (const produto of compra.produtos) {\r\n      soma += produto.qtd * produto.valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 3. Usando `for...in`\r\n\r\nO [`for...in`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in) é um **laço de iteração** que itera sobre as propriedades enumeráveis do tipo _string_ de um objeto, inclusive as herdadas. Estou colocando esta solução aqui somente para mostrar que ela é possível, mas deve ser preterida em relação às outras soluções apresentadas neste artigo.\r\n\r\n```typescript\r\nfunction somaComForIn(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  for (const i in compras) {\r\n    for (const j in compras[i].produtos) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n    }\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 4. Usando `while`\r\n\r\nO [`while`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/while) é um **laço de repetição** que executa um bloco de código até que uma condição seja satisfeita.\r\n\r\n```typescript\r\nfunction somaComWhile(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  let i = 0\r\n  while (i < compras.length) {\r\n    let j = 0\r\n    while (j < compras[i].produtos.length) {\r\n      soma += compras[i].produtos[j].qtd * compras[i].produtos[j].valor_unitario\r\n      j++\r\n    }\r\n    i++\r\n  }\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n## Somando com métodos de `Array`\r\n\r\n### 1. Usando `Array.prototype.forEach`\r\n\r\nO [`Array.prototype.forEach`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach) é um método que executa uma função para cada elemento do array.\r\n\r\n```typescript\r\nfunction somaComForEach(compras: Compra[]): number {\r\n  let soma = 0\r\n\r\n  compras.forEach(compra => {\r\n    compra.produtos.forEach(produto => {\r\n      soma += produto.qtd * produto.valor_unitario\r\n    })\r\n  })\r\n\r\n  return soma\r\n}\r\n```\r\n\r\n### 2. Usando `Array.prototype.reduce`\r\n\r\nO [`Array.prototype.reduce`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce) é um método que executa uma função para cada elemento do array, retornando um único valor.\r\n\r\n```typescript\r\nfunction somaComReduce(compras: Compra[]): number {\r\n  return compras.reduce((soma, compra) => {\r\n    return (\r\n      soma +\r\n      compra.produtos.reduce((soma, produto) => {\r\n        return soma + produto.qtd * produto.valor_unitario\r\n      }, 0)\r\n    )\r\n  }, 0)\r\n}\r\n```\r\n\r\nMas, podemos torná-la ainda melhor usando o [`Array.prototype.flatMap`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap):\r\n\r\n```typescript\r\nfunction somaComFlatMapEReduce(compras: Compra[]): number {\r\n  return compras\r\n    .flatMap(compra => compra.produtos)\r\n    .reduce((soma, produto) => soma + produto.qtd * produto.valor_unitario, 0)\r\n}\r\n```\r\n\r\n## Com uma função de ajuda\r\n\r\nPodemos criar uma função genérica que faz a soma de qualquer array da seguinte forma:\r\n\r\n```typescript\r\n/**\r\n * Soma todos os valores de um array. Se o array for de objetos, é possível\r\n * passar uma função para extrair os números que serão somados.\r\n *\r\n * @example soma([1, 2, 3]) // 6\r\n * @example soma([{ valor: 1 }, { valor: 2 }, { valor: 3 }], item => item.valor) // 6\r\n */\r\nfunction sum<T extends number | object>(\r\n  array: T[],\r\n  fn?: (item: T) => number,\r\n): number {\r\n  return array.reduce(\r\n    (acumulador, item) => acumulador + (fn ? fn(item) : (item as number)),\r\n    0,\r\n  )\r\n}\r\n```\r\n\r\nE usá-la em conjunto com as soluções já apresentadas:\r\n\r\n```typescript\r\nfunction somaComSumEFlatMap(compras: Compra[]): number {\r\n  return sum(\r\n    compras.flatMap(compra => compra.produtos),\r\n    produto => produto.qtd * produto.valor_unitario,\r\n  )\r\n}\r\n```\r\n\r\nSe tiver alguma sugestão ou alguma outra ideia de como resolver este desafio, conta para mim nos comentários.\r\n\n",
      "tags": [
        "tutorial",
        "typescript",
        "algorithms"
      ],
      "translates": null
    },
    {
      "id": "8mgwfzzig2t1wd9",
      "title": "Understanding Tail Call Optimization With JavaScript",
      "slug": "understanding-tail-call-optimization-with-javascript",
      "locale": "en-US",
      "created": "2023-10-24T15:13:38.216Z",
      "updated": "2023-10-24T15:27:40.960Z",
      "content": "Consider the following function that calculates the factorial of a number:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Factorial\" mb=\"md\" color=\"blue\">\r\nIn Mathematics, the factorial of a non-negative integer (n!) is the product of all positive integers less than or equal to n.\r\n</Alert>\r\n\r\nThe function above was implemented iteratively, that is, it uses a loop to calculate the factorial of a number. However, it is possible to implement the same function recursively (that is, a function that references itself):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nThe result of both functions is the same, however, the iterative function is [much more efficient](https://jsben.ch/1qyl8) (in JavaScript) than the recursive function. In addition, if we try to calculate the factorial of a very large number, we encounter the error RangeError: Maximum call stack size exceeded. Let's understand why this happens and how we can improve the recursive function.\r\n\r\n## Call Stack\r\n\r\nA [call stack](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) is a data structure that stores information about a program's functions. When a function is called, it is added to the execution stack, as well as all the functions it calls. When a function returns, it is removed from the execution stack. Each function added to the stack is called a _stack frame_.\r\n\r\nIn order to understand what is happening, let's try to represent, graphically, how the calculation of the factorial of 6 is done with the iterative function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNow, compare it with the substitution model for calculating the factorial of 6 using the recursive function:\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nNote that, in the iterative function, the arrow shape is linear and we can see the state of each variable at each step. In addition, at each iteration of our loop, a calculation is performed and the variables stored in memory are updated. In the recursive function, the arrow shape is exponential and we cannot see the state of all variables in the first half of the processing. In addition, each time the function is executed, more memory needs to be used to store the resulting values of each execution.\r\n\r\nBut what does this mean? In order for JavaScript to calculate the factorial of 6 using the iterative function, the `while` condition is added to the stack, where its calculation is performed, the `result` variable is updated, and then the executed code block of the `while` is removed from the stack. This is done until the while condition is false, that is, until the value of `n` is less than or equal to 1.\r\n\r\nIn the recursive function, each call to the `factorial` function is added to the stack as many times as necessary until the if condition is false, that is, until the value of `n` is less than or equal to 1. This means that, to calculate the factorial of 6, the `factorial` function is added to the stack 6 times before being executed. And that's why, when we try to calculate the factorial of a large number (100,000, for example), we encounter the error `RangeError: Maximum call stack size exceeded`: there is not enough space in the stack to store all the calls to the `factorial` function.\r\n\r\n## Introducing Tail Call Optimization\r\n\r\nAs defined by [Dr. Axel Rauschmayer](https://dr-axel.de/):\r\n\r\n> [...] whenever the last thing a function does is call another function, then this last function does not need to return to its caller. As a consequence, no information needs to be stored on the call stack and the function call is more like a goto (a jump). This type of call is called a _tail call_; not increasing the stack is called tail call optimization (TCO).\r\n\r\nNow, we have discovered that our factorial calculation function is not tail recursive. But how can we make it tail recursive? With the help of another function:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nNow, our function is tail recursive: the last thing it does is call a function (and not calculate an expression, as in the first implementation). Now, let's see the substitution model for calculating the factorial of 6 with our new `factorial` function:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[The performance is superior](https://jsben.ch/vOf9P) to our first implementation, although it still doesn't beat the performance of the iterative function. However, we still encounter the error `RangeError: Maximum call stack size exceeded`. But why does this happen? Because, despite our function being tail recursive, current versions of Node.js and browsers ([with the exception of Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) do not implement Tail Call Optimization (despite its inclusion in the [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) specification since 2015).\r\n\r\nBut how will we solve this problem? With the help of another function, of course! For that, we will rely on the [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)) pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nOur trampoline function consists of a loop that invokes a function that wraps another function (what we call a [thunk](https://en.wikipedia.org/wiki/Thunk)) until there are no more functions to execute. Let's see how the implementation of our factorial function would look like with the Trampoline pattern:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Now, a function returns another function\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nAnd now, we can call our factorial function with a large number, without encountering the error `RangeError: Maximum call stack size exceeded`. Of course, depending on the factorial we want to calculate, we will encounter an Infinity, as it is a very large number (a number greater than Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). In this case, we can use [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Converting values to BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Typing our function\r\n\r\nAnd finally, let's add the necessary types to our factorial function:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## References\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "algorithms",
        "javascript",
        "mathematic",
        "Node.js"
      ],
      "translates": "rc3oq9fakzdn3ad"
    },
    {
      "id": "rc3oq9fakzdn3ad",
      "title": "Entendendo o que é Tail Call Optimization com JavaScript",
      "slug": "entendendo-o-que-e-tail-call-optimization-com-javascript",
      "locale": "pt-BR",
      "created": "2023-09-03T02:40:27.535Z",
      "updated": "2023-10-24T15:13:47.577Z",
      "content": "Considere a seguinte função que calcula o fatorial de um número:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  let result = 1\r\n\r\n  while (n > 1) {\r\n    result *= n\r\n    n--\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n<Alert title=\"Fatorial\" mb=\"md\" color=\"blue\">\r\nEm matemática, o fatorial de um inteiro n não negativo (n!), é o produto de todos os inteiros positivos menores ou iguais a n.\r\n</Alert>\r\n\r\nA função acima foi implementada de forma iterativa, ou seja, ela utiliza um laço de repetição para calcular o fatorial de um número. Porém, é possível implementar a mesma função de forma recursiva (ou seja: uma função que referencia a si mesma):\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  if (n === 0) return 1\r\n\r\n  return n * factorial(n - 1)\r\n}\r\n```\r\n\r\nO resultado de ambas às funções é o mesmo, porém, a função iterativa é [muito mais eficiente](https://jsben.ch/1qyl8) (no JavaScript) que a função recursiva. Além disso, se tentarmos calcular o fatorial de um número muito grande, nós deparamos com o erro RangeError: Maximum call stack size exceeded. Vamos entender o porquê disso e como podemos melhorar a função recursiva.\r\n\r\n## Pilha de execução\r\n\r\nUma [pilha de execução (call stack)](https://developer.mozilla.org/en-US/docs/Glossary/Call_stack) é uma estrutura de dados que armazena informações sobre as funções de um programa. Quando uma função é chamada, ela é adicionada à pilha de execução, assim como todas as funções que ela chamar. Quando uma função retorna, ela é removida da pilha de execução. Cada função adicionada à pilha é chamada de _stack frame_.\r\n\r\nPara entendermos o que está acontecendo, vamos tentar representar, graficamente, como o cálculo do fatorial de 6 é feito com a função iterativa:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDI2NS45MDYyNSA4MzguNDc2NTYyNSIgc3R5bGU9Im1heC13aWR0aDogMjUwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjY1LjkwNjI1IiBoZWlnaHQ9IjgzOC40NzY1NjI1IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMuNDUzMTI1IDIxLjE2MzA4NTkzNzUpIHJvdGF0ZSgwIDgyLjAzMTI1IDM5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj48L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAxPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNiAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iOTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA2PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE0NCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE5MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDY8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjE2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+d2hpbGUoNSAmZ3Q7IDEpIHs8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ICByZXN1bHQgKj0gNTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIDUtLTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyODgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj59PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjMxMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjwvdGV4dD48dGV4dCB4PSIwIiB5PSIzMzYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5yZXN1bHQgPSAzMDwvdGV4dD48dGV4dCB4PSIwIiB5PSIzNjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSg0ICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSIzODQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSA0PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQwOCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgNC0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQzMiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNDU2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4MCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDEyMDwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgzICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI1MjgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAzPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU1MiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMy0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjU3NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjYyNCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDM2MDwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj53aGlsZSgyICZndDsgMSkgezwvdGV4dD48dGV4dCB4PSIwIiB5PSI2NzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj4gIHJlc3VsdCAqPSAyPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjY5NiIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPiAgMi0tPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPn08L3RleHQ+PHRleHQgeD0iMCIgeT0iNzQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+PC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijc2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSwgbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPnJlc3VsdCA9IDcyMDwvdGV4dD48L2c+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4MTI1IDEwKSByb3RhdGUoMCA5MS44Mzc4OTA2MjUgNDA5LjIzODI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNDguNSAwLCA5NyAwLCAxODMuNjggMCBNMCAwIEMzOC4xIDAsIDc2LjIxIDAsIDE4My42OCAwIE0xODMuNjggMCBDMTgzLjY4IDMyMi4zOSwgMTgzLjY4IDY0NC43OCwgMTgzLjY4IDgxOC40OCBNMTgzLjY4IDAgQzE4My42OCAyMDkuMTIsIDE4My42OCA0MTguMjQsIDE4My42OCA4MTguNDggTTE4My42OCA4MTguNDggQzEzNi42NSA4MTguNDgsIDg5LjYzIDgxOC40OCwgMCA4MTguNDggTTE4My42OCA4MTguNDggQzEzOS4yIDgxOC40OCwgOTQuNzIgODE4LjQ4LCAwIDgxOC40OCBNMCA4MTguNDggQzAgNTIwLjM2LCAwIDIyMi4yNSwgMCAwIE0wIDgxOC40OCBDMCA1NTIuOTUsIDAgMjg3LjQxLCAwIDAiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNDI1NzgxMjUgNTkuMjUpIHJvdGF0ZSgwIDkxLjE1NjI1IC0wLjcxODc1KSI+PHBhdGggZD0iTTAgMCBDNzIuMTIgLTAuNTcsIDE0NC4yNCAtMS4xNCwgMTgyLjMxIC0xLjQ0IE0wIDAgQzcxLjY5IC0wLjU3LCAxNDMuMzkgLTEuMTMsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjIzMDQ2ODc1IDIwMi4yNjk1MzEyNSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEMzNi41OSAtMC4yOSwgNzMuMTkgLTAuNTgsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNjI1IDM0Ny44NzEwOTM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM1MS4zMyAtMC40LCAxMDIuNjYgLTAuODEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuMDE5NTMxMjUgNDkyLjI4MTI1KSByb3RhdGUoMCA5MS4xNTYyNSAtMC43MTg3NSkiPjxwYXRoIGQ9Ik0wIDAgQzU3LjQ0IC0wLjQ1LCAxMTQuODggLTAuOTEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgNjM4LjczNDM3NSkgcm90YXRlKDAgOTEuMTU2MjUgLTAuNzE4NzUpIj48cGF0aCBkPSJNMCAwIEM2OS43NyAtMC41NSwgMTM5LjU0IC0xLjEsIDE4Mi4zMSAtMS40NCIgc3Ryb2tlPSIjMWUxZTFlIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iOCAxMCI+PC9wYXRoPjwvZz48L2c+PG1hc2s+PC9tYXNrPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMzc1IDc3OS4wODU5Mzc1KSByb3RhdGUoMCA5MS43MTY3OTY4NzUgLTAuMTExMzI4MTI1KSI+PHBhdGggZD0iTTAgMCBDNjAuODcgLTAuMDcsIDEyMS43NSAtMC4xNSwgMTgzLjQzIC0wLjIyIE0wIDAgQzQyLjk4IC0wLjA1LCA4NS45NyAtMC4xLCAxODMuNDMgLTAuMjIiIHN0cm9rZT0iIzFlMWUxZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PGcgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuODUxNTYyNSAxOC40NjA5Mzc1KSByb3RhdGUoMCAtMjEuNDg0Mzc1IDM5Mi4yMzgyODEyNSkiPjxwYXRoIGQ9Ik0wIDAgQzAuNTEgMTkzLjgzLCAxLjAyIDM4Ny42NSwgMi4wNSA3ODMuODYgTTAgMCBDMC43NyAyOTUuMzgsIDEuNTUgNTkwLjc2LCAyLjA1IDc4My44NiBNMi4wNSA3ODMuODYgQy0xMy4zNSA3ODQuMDYsIC0yOC43NSA3ODQuMjYsIC00NS4wMiA3ODQuNDggTTIuMDUgNzgzLjg2IEMtOC4xNCA3ODMuOTksIC0xOC4zMyA3ODQuMTIsIC00NS4wMiA3ODQuNDgiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1My44NTE1NjI1IDE4LjQ2MDkzNzUpIHJvdGF0ZSgwIC0yMS40ODQzNzUgMzkyLjIzODI4MTI1KSI+PHBhdGggZD0iTS00NS4wMiA3ODQuNDggTC0zMS41MSA3NzcuOTYgTC0zMS4zNSA3OTAuNjQgTC00NS4wMiA3ODQuNDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQ1LjAyIDc4NC40OCBDLTQxLjY4IDc4Mi44NiwgLTM4LjM0IDc4MS4yNSwgLTMxLjUxIDc3Ny45NiBNLTQ1LjAyIDc4NC40OCBDLTM5LjkzIDc4Mi4wMiwgLTM0Ljg0IDc3OS41NiwgLTMxLjUxIDc3Ny45NiBNLTMxLjUxIDc3Ny45NiBDLTMxLjQ2IDc4Mi4xMSwgLTMxLjQgNzg2LjI1LCAtMzEuMzUgNzkwLjY0IE0tMzEuNTEgNzc3Ljk2IEMtMzEuNDggNzgwLjcsIC0zMS40NCA3ODMuNDUsIC0zMS4zNSA3OTAuNjQgTS0zMS4zNSA3OTAuNjQgQy0zNC43IDc4OS4xMywgLTM4LjA1IDc4Ny42MiwgLTQ1LjAyIDc4NC40OCBNLTMxLjM1IDc5MC42NCBDLTM1LjUyIDc4OC43NiwgLTM5LjY5IDc4Ni44OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCBNLTQ1LjAyIDc4NC40OCBDLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCwgLTQ1LjAyIDc4NC40OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nAgora, compare com o modelo de substituição para o cálculo do fatorial de 6 com a função recursiva:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" />\r\n\r\nObserve, que, na função iterativa, a forma da seta é linear e podemos ver o estado de cada variável em cada passo. Além disso, a cada iteração do nosso laço de repetição, um cálculo e efetuado e as variáveis armazenadas na memória são atualizadas. Na função recursiva, a forma da seta é exponencial e não podemos ver o estado de todas as variáveis na primeira metade do processamento. Além disso, a cada vez que a função é executada, mais memória precisa ser utilizada para armazenar os valores resultantes de cada execução.\r\n\r\nMas, o que isso significa? Para que o JavaScript possa calcular o fatorial de 6, com a função iterativa, a condição `while` é adicionada à pilha, onde seu cálculo é efetuado, a variável result é atualizada e, em seguida, o bloco de código executado do `while` é retirado da pilha. Isso é feito até que a condição while seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1.\r\n\r\nJá, na função recursiva, cada chamada da função `factorial` é adicionada à pilha quantas vezes forem necessárias até que a condição if seja falsa, ou seja, até que o valor de `n` seja menor ou igual a 1. Isso significa que, para calcular o fatorial de 6, a função factorial é adicionada à pilha 6 vezes, para, então ser executada. E é por isso que, quando tentamos calcular o fatorial de um número grande (100.000, por exemplo), nos deparamos com o erro `RangeError: Maximum call stack size exceeded`: não há espaço suficiente na pilha para armazenar todas as chamadas da função factorial.\r\n\r\n## Introduzindo Tail Call Optimization\r\n\r\nComo bem definido pelo [Dr. Axel Rauschmayer](https://dr-axel.de/) (grifo meu):\r\n\r\n> [...] sempre que a última coisa que uma função faz é chamar outra função, então esta última não precisa retornar para sua chamadora. Como consequência, nenhuma informação precisa ser armazenada na pilha de chamadas e a chamada de função é mais como um goto (um salto). Esse tipo de chamada é chamado de _tail call_; não aumentar a pilha é chamado de tail call optmization (TCO).\r\n\r\nOra, descobrimos que nossa função para calcular fatorial não é _tail recursive_. Mas, como podemos torná-la tail recursiva? Com a ajuda de outra função:\r\n\r\n```javascript\r\nconst factorial = (n) => {\r\n  return factorialHelper(n, 1)\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return factorialHelper(x - 1, x * accumulator)\r\n}\r\n```\r\n\r\nAgora, sim, nossa função é _tail recursive_: a última coisa que ela faz é chamar uma função (e não calcular uma expressão, como na primeira implementação).Agora, vamos ver o modelo de substituição para o cálculo do fatorial de 6 com a nossa nova função `factorial`:\r\n\r\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDMyMS4zMTY0MDYyNSAyMjguNDIxODc1IiBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIzMjEuMzE2NDA2MjUiIGhlaWdodD0iMjI4LjQyMTg3NSIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDI2LjQyMTg3NSkgcm90YXRlKDAgMTM0Ljc2NTYyNSA5NikiPjx0ZXh0IHg9IjAiIHk9IjAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWwoNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNiwgMSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iNDgiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNSwgNik8L3RleHQ+PHRleHQgeD0iMCIgeT0iNzIiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksIG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj5mYWN0b3JpYWxIZWxwZXIoNCwgMzApPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDMsIDEyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTIwIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDIsIDM2MCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTQ0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsSGVscGVyKDEsIDcyMCk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTY4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NzIwPC90ZXh0PjwvZz48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxOS45MTAxNTYyNSAxMCkgcm90YXRlKDAgLTI0LjQxMDE1NjI1IDk5LjY2NDA2MjUpIj48cGF0aCBkPSJNLTguNTkgMCBDLTguNzcgNzcuNzUsIC04Ljk1IDE1NS41MSwgLTkuMDUgMTk5LjMzIE0tOC41OSAwIEMtOC43MiA1Ny4xMSwgLTguODYgMTE0LjIyLCAtOS4wNSAxOTkuMzMgTS05LjA1IDE5OS4zMyBDLTE3LjI0IDE5OS4yMiwgLTI1LjQ0IDE5OS4xMSwgLTQwLjIzIDE5OC45MSBNLTkuMDUgMTk5LjMzIEMtMjAuOTYgMTk5LjE3LCAtMzIuODcgMTk5LjAxLCAtNDAuMjMgMTk4LjkxIiBzdHJva2U9IiNlMDMxMzEiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTkuOTEwMTU2MjUgMTApIHJvdGF0ZSgwIC0yNC40MTAxNTYyNSA5OS42NjQwNjI1KSI+PHBhdGggZD0iTS00MC4yMyAxOTguOTEgTC0yNi41NSAxOTIuNzUgTC0yNi43MiAyMDUuNDMgTC00MC4yMyAxOTguOTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTQwLjIzIDE5OC45MSBDLTM0Ljg5IDE5Ni41MSwgLTI5LjU2IDE5NC4xMSwgLTI2LjU1IDE5Mi43NSBNLTQwLjIzIDE5OC45MSBDLTM2LjMxIDE5Ny4xNSwgLTMyLjM5IDE5NS4zOCwgLTI2LjU1IDE5Mi43NSBNLTI2LjU1IDE5Mi43NSBDLTI2LjU5IDE5Ni4wOSwgLTI2LjY0IDE5OS40MiwgLTI2LjcyIDIwNS40MyBNLTI2LjU1IDE5Mi43NSBDLTI2LjYxIDE5Ny42LCAtMjYuNjggMjAyLjQ0LCAtMjYuNzIgMjA1LjQzIE0tMjYuNzIgMjA1LjQzIEMtMjkuNSAyMDQuMDksIC0zMi4yNyAyMDIuNzUsIC00MC4yMyAxOTguOTEgTS0yNi43MiAyMDUuNDMgQy0zMC4yNyAyMDMuNzIsIC0zMy44MSAyMDIuMDEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEgTS00MC4yMyAxOTguOTEgQy00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEsIC00MC4yMyAxOTguOTEiIHN0cm9rZT0iI2UwMzEzMSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjwvZz48bWFzaz48L21hc2s+PC9zdmc+\" />\r\n\r\n[O desempenho é superior](https://jsben.ch/vOf9P) ao da nossa primeira implementação, apesar de ainda não bater o desempenho da função iterativa. Porém, ainda nos deparamos com o erro `RangeError: Maximum call stack size exceeded`. Mas, por que isso acontece? Porque, apesar de nossa função ser _tail recursive_, as atuais versões do Node.js e os navegadores ([com exceção do Safari](https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/)) não implementa Tail Call Optimization (apesar de sua inclusão na especificação do [EcmaScript](https://262.ecma-international.org/6.0/#sec-tail-position-calls) desde 2015).\r\n\r\nMas, como resolveremos este problema? Com a ajuda de outra função, claro! Para isso, vamos contar com a ajuda do padrão [Trampoline](https://en.wikipedia.org/wiki/Trampoline_(computing)):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return result\r\n}\r\n```\r\n\r\nNossas função trampoline consiste em um laço de repetição que invoca uma função que envolve outra função (o que chamamos de [thunk](https://en.wikipedia.org/wiki/Thunk)) até que não haja mais funções para executar. Vamos ver como ficaria a implementação da nossa função factorial com o padrão Trampoline:\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  // Note que, agora, a função retorna uma função\r\n  return () => factorialHelper(x - 1, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  return trampoline(factorialHelper(n, 1))\r\n}\r\n```\r\n\r\nE agora sim, podemos chamar a nossa função factorial com um número grande, sem nos depararmos com o erro RangeError: Maximum call stack size exceeded. Claro, dependendo do fatorial que quisermos calcular, nos depararemos com um Infinity, por se tratar de um número muito grande (um número maior que o Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). Neste caso, podemos usar o [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt):\r\n\r\n```javascript\r\nconst trampoline = (fn) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x, accumulator) => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n) => {\r\n  // Convertendo os valores para BigInt\r\n  //-------------------------------\\/----------\\/\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Tipando a nossa função\r\n\r\nE, para finalizar, vamos adicionar os tipos necessários para a nossa função factorial:\r\n\r\n```typescript\r\ntype Thunk = bigint | (() => Thunk)\r\n\r\nconst trampoline = (fn: Thunk) => {\r\n  while (typeof fn === 'function') {\r\n    fn = fn()\r\n  }\r\n\r\n  return fn\r\n}\r\n\r\nconst factorialHelper = (x: bigint, accumulator: bigint): Thunk => {\r\n  if (x <= 1) {\r\n    return accumulator\r\n  }\r\n\r\n  return () => factorialHelper(x - 1n, x * accumulator)\r\n}\r\n\r\nconst factorial = (n: number) => {\r\n  return trampoline(factorialHelper(BigInt(n), 1n))\r\n}\r\n```\r\n\r\n## Referências\r\n- [What happened to proper tail calls in JavaScript?](https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/)\r\n- [Tail Call Optmization](https://exploringjs.com/es6/ch_tail-calls.html)\r\n- [Limites da recursão em JavaScript, TCO e o pattern Trampoline](http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/)\r\n- [What is an Activation object in JavaScript?](https://softwareengineering.stackexchange.com/a/189973/383960)\r\n- [Factorial](https://mathworld.wolfram.com/Factorial.html)\r\n- [Tail Recursion Explained - Computerphile](https://www.youtube.com/watch?v=_JtPhF8MshA)\r\n- [Tail Call Optimization: The Musical!!](https://www.youtube.com/watch?v=-PX0BV9hGZY)\r\n\n",
      "tags": [
        "javascript",
        "algorithms",
        "mathematic",
        "Node.js"
      ],
      "translates": "8mgwfzzig2t1wd9"
    }
  ],
  "Iniciantes": [
    {
      "id": "q56goy3mqfdb3hu",
      "title": "Introdução à algoritmos",
      "slug": "introducao-a-algoritmos",
      "locale": "pt-BR",
      "created": "2024-01-25T16:53:40.103Z",
      "updated": "2024-01-25T17:00:20.007Z",
      "content": "## O que é um algoritmo?\r\n\r\nUm _algoritmo_ é uma especificação precisa e sem ambiguidades de uma sequência de passos computacionais que podem ser realizados mecanicamente[^1]. A partir disso, podemos pensar em uma função que recebe um valor ou um conjunto de valores de **entrada** e retorna um valor ou conjunto de valores em sua **saída**.\r\n\r\nUm algoritmo pode ser **correto** e **incorreto**. Ele é correto quando, dados seus parâmetros de entrada, sua saída for correta e, portanto, **resolve** o problema computacional para qual foi desenvolvido. Um algoritmo incorreto, por sua vez, pode parar com uma saída incorreta ou mesmo não parar para algumas instâncias de entrada. Ainda assim, alguns algoritmos incorretos ainda podem ter aplicações úteis.\r\n\r\nPodem haver diferentes algoritmos que resolvem um mesmo problema, alguns mais eficientes, isto é, mais velozes do que outros. Mas, nem todo problema possui uma solução eficiente. Tais problemas são conhecidos como <abbr title=\"Tempo polinomial não-determinístico\">NP</abbr>-completos.\r\n\r\nProblemas <abbr title=\"Tempo polinomial não-determinístico\">NP</abbr>-completos são muito interessantes:  mesmo que nenhum algoritmo eficiente tenha sido encontrado para esta classe de problemas, não se provou que que não é possível encontrar um algoritmo eficiente (da classe P, que pode ser resolvido em tempo polinomial) para tal problema. Além disso, se houver um algoritmo eficiente para resolver um problema NP-completo, significa que existe um algoritmo eficiente para todos os problemas <abbr title=\"tempo polinomial não-determinístico\">NP</abbr>-completos.\r\n\r\n<Alert title=\"P vs. NP\">\r\nP vs. NP é uma questão fundamental em ciência da computação, especificamente no campo da teoria da complexidade computacional. Ela diz respeito à relação entre duas classes de problemas. A classe P consiste em problemas de decisão (problemas com resposta sim ou não) que podem ser resolvidos rapidamente (em tempo polinomial) por um computador determinístico, o que significa que o tempo necessário para resolver o problema cresce a uma taxa gerenciável à medida que o tamanho da entrada aumenta. Por outro lado, a classe NP consiste em problemas de decisão para os quais, se uma solução for fornecida, ela pode ser verificada rapidamente (também em tempo polinomial) por um computador determinístico.\r\n\r\nA questão crucial, \"P é igual a NP?\", pergunta se todo problema cuja solução pode ser verificada rapidamente (NP) também pode ser resolvido rapidamente (P). Isso é profundo porque, se P fosse igual a NP, significaria que todos os problemas que podemos verificar rapidamente também podem ser resolvidos rapidamente. Isso tem implicações vastas para vários campos, incluindo criptografia, otimização e design de algoritmos.\r\n</Alert>\r\n\r\n## Complexidade de algoritmos\r\n\r\nQuando falamos de algoritmos, na maior parte do tempo estamos interessados na taxa de crescimento de tempo e espaço requeridos para resolver instâncias cada vez maiores de determinados problemas. Se estamos interessados no tempo que determinado algoritmo leva para executar sua função, estamos interessados um sua _complexidade temporal_. E o comportamento do limite da complexidade temporal do nosso algoritmo em relação ao aumento das instâncias do problema é chamado de _complexidade assintótica temporal_. E é esse complexidade assintótica que que determina o tamanho do problema que pode ser resolvido por algoritmos[^2].\r\n\r\nSe um algoritmo leva um tempo $cn^2$ para uma constante $c$ para processar um entrada de tamanho $n$, dizemos que a complexidade do algoritmo é da _ordem de $n^2$_, ou, em notação Bachmann–Landau (também chamada de notação assintótica e notação **Big O**), o algoritmo tem a complexidade $O(n^2)$.\r\n\r\nPara termos uma melhor ideia do que isso significa em relação ao tempo de execução do nosso algoritmo, considere que uma unidade de tempo no computador em que executamos o nosso algoritmo é de 1 milissegundo. Agora, queremos saber qual o tamanho máximo da entrada que o nosso algoritmo pode processar dentro de um determinado limite de tempo (um segundo, um hora e um dia). Observe, na tabela abaixo, o quanto a complexidade do algoritmo interfere no tamanho máximo da entrada que ele pode tratar, dado o limite de tempo:\r\n\r\n| Complexidade de tempo | 1 segundo | 1 minuto | 1 hora |\r\n|--|--|--|--|\r\n| $n$ | 1000 | 60000 | 360000 |\r\n| $n \\log_2 n$ | 140 | 4895 | 204095 |\r\n| $n^2$ | 31 | 244 | 1897 |\r\n| $n^3$ | 10 | 39 | 153 |\r\n| $2^n$ | 9 | 15 | 21 |\r\n\r\nAinda que possamos construir computadores mais rápidos, o aumento na velocidade de execução dos algoritmos menos eficientes não seria tão significativo, de modo que que devemos buscar sempre o algoritmo de melhor eficiência para tratar determinado problema.\r\n\r\n[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. _Foundations of Computer Science_. Stanford, 1994.\r\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. _The Design and Analysis of Computer Algorithms_. Addison-Wesley, 1974.\n",
      "tags": [
        "Iniciantes",
        "Algoritmos",
        "Ciência da Computação"
      ],
      "translates": "fk4euqpea154kb9"
    },
    {
      "id": "oxiuks4pe1et1ku",
      "title": "O protocolo da internet (IP)",
      "slug": "o-protocolo-da-internet-ip",
      "locale": "pt-BR",
      "created": "2023-01-11T13:20:20.751Z",
      "updated": "2023-08-12T13:15:55.254Z",
      "content": "O protocolo de internet é, como o próprio nome já diz, um protocolo que define como blocos de dados (chamados **datagramas**) serão transmitidos entre computadores na internet. Cada computador da rede possui, pelo menos um endereço com o qual é identificado na rede. Este endereço é chamado de **endereço de IP**.\r\n\r\n\r\n<Alert title=\"Mas, o que é um protocolo?\" mb=\"md\" color=\"blue\">De maneira sucinta, um protocolo é uma definição do formato e da ordem das mensagens trocadas entre duas ou mais entidades, que são, no nosso caso, computadores. Um protocolo define o que deve ser feito quando uma mensagem é enviada ou recebida, e também o que deve ser feito quando um evento ocorre.</Alert>\r\n\r\nO protocolo de internet foi definido, pela primeira vez, no artigo \"A Protocol for Packet Network Intercommunication\" em maio de 1974, publicado pelo [IEEE](https://www.ieee.org/), escrito por Vinton Cerf e Robert Kahn.\r\n\r\nO IP não requer uma conexão contínua entre os pontos de comunicação, ou seja, o computador que envia os dados não verifica se a mensagem foi recebida. Cada pacote trafegado na rede é tratado de maneira totalmente independente, sem relação com outros pacotes. Para verificar se os pacotes chegaram corretamente ao destino e rearranjá-los na ordem correta, utiliza-se o TCP (_Transmission Control Protocol_ - Protocolo de Controle de Transmissão). Sua utilização é tão comum em conjunto com o IP, que nos referimos aos dois protocolos, ao mesmo tempo, como TCP/IP. É bom salientar the o TCP não é o único protocolo da internet.\r\n\r\n## Roteamento\r\n\r\nQuando enviamos ou recebemos algum dado através da internet, este dado é dividido em pequenas partes chamadas de **pacotes**, que contém o endereço único do remetente e do destinatário (chamado **endereço de IP**). Estes pequenos pacotes são enviados a um _gateway_, que nada mais é do que um computador que conecta duas ou mais redes através de diferentes protocolos. Este gateway verifica se pode encontrar o endereço do destinatário em sua rede. Se não conseguir, encaminha o pacote para o gateway mais próximo, até que o endereço do destinatário seja encontrado (ou retorne um erro, caso o endereço esteja errado ou fora do ar).\r\n\r\nVocê pode ver o caminho que os pacotes traçam, entre os roteadores da rede, até o destino, com o comando [`traceroute`](https://www.ibm.com/docs/pt-br/power8?topic=commands-traceroute-command) - ou [`tracert`](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/tracert), caso esteja no Windows ou ainda, usando o `traceroute` online do [Registro.br](https://registro.br/tecnologia/ferramentas/traceroute/):\r\n\r\n```bash\r\ntraceroute google.com\r\ntraceroute to google.com (142.251.129.46), 64 hops max, 52 byte packets\r\n 1  192.168.0.1 (192.168.0.1)  7.353 ms  3.096 ms  1.902 ms\r\n 2  100.65.0.1 (100.65.0.1)  8.703 ms  5.352 ms  6.726 ms\r\n 3  45.190.209.1 (45.190.209.1)  6.509 ms  2.820 ms  4.341 ms\r\n 4  172.16.90.1 (172.16.90.1)  9.714 ms  5.157 ms  5.715 ms\r\n 5  172.17.16.41 (172.17.16.41)  9.328 ms  5.390 ms  4.412 ms\r\n 6  172.17.1.74 (172.17.1.74)  8.665 ms  7.749 ms  10.623 ms\r\n 7  142.250.166.121 (142.250.166.121)  9.529 ms  5.825 ms  6.133 ms\r\n 8  * * *\r\n 9  142.251.61.70 (142.251.61.70)  6.626 ms\r\n    172.253.69.202 (172.253.69.202)  5.531 ms\r\n    172.253.73.190 (172.253.73.190)  7.071 ms\r\n10  74.125.243.12 (74.125.243.12)  9.858 ms\r\n    gru06s72-in-f14.1e100.net (142.251.129.46)  7.649 ms\r\n    142.251.76.13 (142.251.76.13)  6.488 ms\r\n```\r\n\r\nComo cada pacote é enviado de maneira independente, eles podem chegar ao destinatário através de gateways distintos, e em uma ordem diferente da que foram enviados. É trabalho de outro protocolo, o TCP, de reagrupar estes pacotes na ordem correta e verificar se os dados não foram corrompidos.\r\n\r\nOutros protocolos comumente utilizados em conjunto com o IP são:\r\n\r\n- UDP (_User Datagram Protocol_): provê um processo de comunicação de baixa latência, largamente utilizado em buscas de DNS e VoIP (_Voice Over IP_ - voz sobre IP);\r\n- HTTP (_Hyper Text Transfer Protocol_): especifica o protocolo de comunicação que habilita os navegadores a exibirem conteúdo;\r\n- FTP (_File Transfer Protocol_): especifica o protocolo de gerenciamento de arquivos em cliente conectados.\r\n\r\n## Camadas de protocolos\r\n\r\nA internet é composta por uma série de protocolos que se comunicam entre si, e que são organizados em camadas. Cada camada é responsável por uma tarefa específica, e cada camada pode ser implementada de maneira diferente, desde que mantenha a compatibilidade com as camadas superiores e inferiores.\r\n\r\n<figure>\r\n  <pre>\r\nAplicação\r\nTransporte\r\nRede\r\nEnlace\r\nFísico\r\n  </pre>\r\n  <figcaption>\r\n    A pilha de cinco camadas de protocolos da Internet.\r\n  </figcaption>\r\n</figure>\r\n\r\nUma camada de protocolo pode ser implementada com software ou hardware ou uma combinação dos dois.\r\n\r\n### Camada de aplicação\r\n\r\nA camada de aplicação é a camada mais próxima do usuário, fornecendo-lhe os mais diversos tipos de serviços, como e-mail, transferência de arquivos, chat, etc.\r\nOs pacotes trafegados nessa camada são chamados de _mensagens_.\r\n\r\n### Camada de transporte\r\n\r\nA camada de transporte fornece serviços de transporte da camada de aplicação entre diferentes pontos da aplicação. Dois protocolos são utilizados nesta camada: TCP e UDP. O TCP fornece um serviço de transmissão confiável, isto é, este protocolo garante que o destinatário está disponível na rede, divide a mensagens em pequenos pacotes para enviá-las, verifica se as mensagens não foram corrompidas no trajeto e as reconstrói no destino. O UDP fornece um serviço de transmissão não confiável, no sentido que não garante que o destinatário está disponível na rede, não divide a mensagem em pacotes, não verifica se as mensagens não foram corrompidas no trajeto e não as reconstrói no destino. Normalmente, o UDP é utilizado para serviços de streaming, como vídeo e áudio, onde a perda de alguns pacotes não é crítica. Os pacotes trafegados nesta camada são chamados de _segmentos_.\r\n\r\n### Camada de rede\r\n\r\nA camada de rede fornece serviços de roteamento entre diferentes pontos de rede, de modo a movimentar os pacotes de um ponto a outro. Aqui, além do protocolo IP,\r\nutilizam-se vários outros protocolos de roteamento. Os pacotes trafegados nesta camada são chamados de _datagramas_.\r\n\r\n### Camada de enlace\r\n\r\nA camada de enlace fornece serviços de transmissão de dados entre dispositivos de rede conectados por um meio de transmissão. A camada de rede depende dos serviços\r\ndesta camada para mover os pacotes de um nó a outro da rede. Os pacotes trafegados nesta camada são chamados de _frames_.\r\n\r\n### Camada física\r\n\r\nO trabalho desta camada consiste em moves os _bits_ individuais dentro de um _frame_ de um nó para o outro. Os protocolos utilizados nesta camada\r\ndependem do meio de transmissão (fibra ótica, cabo coaxial, cabo de par trançado, etc.).\r\n\r\n---\r\n\r\n**Referências**\r\n- [Internet Protocol (IP)](https://www.techtarget.com/searchunifiedcommunications/definition/Internet-Protocol);\r\n- [RFC 791 - Internet Protocol](https://www.rfc-editor.org/rfc/rfc791);\r\n- [RFC 3439 - Some Internet Architectural Guidelines and Philosophy](https://www.rfc-editor.org/rfc/rfc3439);\r\n- [How Does the Internet Work?](http://web.stanford.edu/class/msande91si/www-spr04/readings/week1/InternetWhitepaper.htm);\r\n- [Traceroute Using an IP Option](https://www.rfc-editor.org/rfc/rfc1393)\r\n- [Computer Networking: A Top-Down Approach (2020, J.F. Kurose, K.W. Ross, Pearson)](http://gaia.cs.umass.edu/kurose_ross/online_lectures.htm).\n",
      "tags": [
        "Iniciantes",
        "Internet"
      ],
      "translates": null
    }
  ],
  "Internet": [
    {
      "id": "oxiuks4pe1et1ku",
      "title": "O protocolo da internet (IP)",
      "slug": "o-protocolo-da-internet-ip",
      "locale": "pt-BR",
      "created": "2023-01-11T13:20:20.751Z",
      "updated": "2023-08-12T13:15:55.254Z",
      "content": "O protocolo de internet é, como o próprio nome já diz, um protocolo que define como blocos de dados (chamados **datagramas**) serão transmitidos entre computadores na internet. Cada computador da rede possui, pelo menos um endereço com o qual é identificado na rede. Este endereço é chamado de **endereço de IP**.\r\n\r\n\r\n<Alert title=\"Mas, o que é um protocolo?\" mb=\"md\" color=\"blue\">De maneira sucinta, um protocolo é uma definição do formato e da ordem das mensagens trocadas entre duas ou mais entidades, que são, no nosso caso, computadores. Um protocolo define o que deve ser feito quando uma mensagem é enviada ou recebida, e também o que deve ser feito quando um evento ocorre.</Alert>\r\n\r\nO protocolo de internet foi definido, pela primeira vez, no artigo \"A Protocol for Packet Network Intercommunication\" em maio de 1974, publicado pelo [IEEE](https://www.ieee.org/), escrito por Vinton Cerf e Robert Kahn.\r\n\r\nO IP não requer uma conexão contínua entre os pontos de comunicação, ou seja, o computador que envia os dados não verifica se a mensagem foi recebida. Cada pacote trafegado na rede é tratado de maneira totalmente independente, sem relação com outros pacotes. Para verificar se os pacotes chegaram corretamente ao destino e rearranjá-los na ordem correta, utiliza-se o TCP (_Transmission Control Protocol_ - Protocolo de Controle de Transmissão). Sua utilização é tão comum em conjunto com o IP, que nos referimos aos dois protocolos, ao mesmo tempo, como TCP/IP. É bom salientar the o TCP não é o único protocolo da internet.\r\n\r\n## Roteamento\r\n\r\nQuando enviamos ou recebemos algum dado através da internet, este dado é dividido em pequenas partes chamadas de **pacotes**, que contém o endereço único do remetente e do destinatário (chamado **endereço de IP**). Estes pequenos pacotes são enviados a um _gateway_, que nada mais é do que um computador que conecta duas ou mais redes através de diferentes protocolos. Este gateway verifica se pode encontrar o endereço do destinatário em sua rede. Se não conseguir, encaminha o pacote para o gateway mais próximo, até que o endereço do destinatário seja encontrado (ou retorne um erro, caso o endereço esteja errado ou fora do ar).\r\n\r\nVocê pode ver o caminho que os pacotes traçam, entre os roteadores da rede, até o destino, com o comando [`traceroute`](https://www.ibm.com/docs/pt-br/power8?topic=commands-traceroute-command) - ou [`tracert`](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/tracert), caso esteja no Windows ou ainda, usando o `traceroute` online do [Registro.br](https://registro.br/tecnologia/ferramentas/traceroute/):\r\n\r\n```bash\r\ntraceroute google.com\r\ntraceroute to google.com (142.251.129.46), 64 hops max, 52 byte packets\r\n 1  192.168.0.1 (192.168.0.1)  7.353 ms  3.096 ms  1.902 ms\r\n 2  100.65.0.1 (100.65.0.1)  8.703 ms  5.352 ms  6.726 ms\r\n 3  45.190.209.1 (45.190.209.1)  6.509 ms  2.820 ms  4.341 ms\r\n 4  172.16.90.1 (172.16.90.1)  9.714 ms  5.157 ms  5.715 ms\r\n 5  172.17.16.41 (172.17.16.41)  9.328 ms  5.390 ms  4.412 ms\r\n 6  172.17.1.74 (172.17.1.74)  8.665 ms  7.749 ms  10.623 ms\r\n 7  142.250.166.121 (142.250.166.121)  9.529 ms  5.825 ms  6.133 ms\r\n 8  * * *\r\n 9  142.251.61.70 (142.251.61.70)  6.626 ms\r\n    172.253.69.202 (172.253.69.202)  5.531 ms\r\n    172.253.73.190 (172.253.73.190)  7.071 ms\r\n10  74.125.243.12 (74.125.243.12)  9.858 ms\r\n    gru06s72-in-f14.1e100.net (142.251.129.46)  7.649 ms\r\n    142.251.76.13 (142.251.76.13)  6.488 ms\r\n```\r\n\r\nComo cada pacote é enviado de maneira independente, eles podem chegar ao destinatário através de gateways distintos, e em uma ordem diferente da que foram enviados. É trabalho de outro protocolo, o TCP, de reagrupar estes pacotes na ordem correta e verificar se os dados não foram corrompidos.\r\n\r\nOutros protocolos comumente utilizados em conjunto com o IP são:\r\n\r\n- UDP (_User Datagram Protocol_): provê um processo de comunicação de baixa latência, largamente utilizado em buscas de DNS e VoIP (_Voice Over IP_ - voz sobre IP);\r\n- HTTP (_Hyper Text Transfer Protocol_): especifica o protocolo de comunicação que habilita os navegadores a exibirem conteúdo;\r\n- FTP (_File Transfer Protocol_): especifica o protocolo de gerenciamento de arquivos em cliente conectados.\r\n\r\n## Camadas de protocolos\r\n\r\nA internet é composta por uma série de protocolos que se comunicam entre si, e que são organizados em camadas. Cada camada é responsável por uma tarefa específica, e cada camada pode ser implementada de maneira diferente, desde que mantenha a compatibilidade com as camadas superiores e inferiores.\r\n\r\n<figure>\r\n  <pre>\r\nAplicação\r\nTransporte\r\nRede\r\nEnlace\r\nFísico\r\n  </pre>\r\n  <figcaption>\r\n    A pilha de cinco camadas de protocolos da Internet.\r\n  </figcaption>\r\n</figure>\r\n\r\nUma camada de protocolo pode ser implementada com software ou hardware ou uma combinação dos dois.\r\n\r\n### Camada de aplicação\r\n\r\nA camada de aplicação é a camada mais próxima do usuário, fornecendo-lhe os mais diversos tipos de serviços, como e-mail, transferência de arquivos, chat, etc.\r\nOs pacotes trafegados nessa camada são chamados de _mensagens_.\r\n\r\n### Camada de transporte\r\n\r\nA camada de transporte fornece serviços de transporte da camada de aplicação entre diferentes pontos da aplicação. Dois protocolos são utilizados nesta camada: TCP e UDP. O TCP fornece um serviço de transmissão confiável, isto é, este protocolo garante que o destinatário está disponível na rede, divide a mensagens em pequenos pacotes para enviá-las, verifica se as mensagens não foram corrompidas no trajeto e as reconstrói no destino. O UDP fornece um serviço de transmissão não confiável, no sentido que não garante que o destinatário está disponível na rede, não divide a mensagem em pacotes, não verifica se as mensagens não foram corrompidas no trajeto e não as reconstrói no destino. Normalmente, o UDP é utilizado para serviços de streaming, como vídeo e áudio, onde a perda de alguns pacotes não é crítica. Os pacotes trafegados nesta camada são chamados de _segmentos_.\r\n\r\n### Camada de rede\r\n\r\nA camada de rede fornece serviços de roteamento entre diferentes pontos de rede, de modo a movimentar os pacotes de um ponto a outro. Aqui, além do protocolo IP,\r\nutilizam-se vários outros protocolos de roteamento. Os pacotes trafegados nesta camada são chamados de _datagramas_.\r\n\r\n### Camada de enlace\r\n\r\nA camada de enlace fornece serviços de transmissão de dados entre dispositivos de rede conectados por um meio de transmissão. A camada de rede depende dos serviços\r\ndesta camada para mover os pacotes de um nó a outro da rede. Os pacotes trafegados nesta camada são chamados de _frames_.\r\n\r\n### Camada física\r\n\r\nO trabalho desta camada consiste em moves os _bits_ individuais dentro de um _frame_ de um nó para o outro. Os protocolos utilizados nesta camada\r\ndependem do meio de transmissão (fibra ótica, cabo coaxial, cabo de par trançado, etc.).\r\n\r\n---\r\n\r\n**Referências**\r\n- [Internet Protocol (IP)](https://www.techtarget.com/searchunifiedcommunications/definition/Internet-Protocol);\r\n- [RFC 791 - Internet Protocol](https://www.rfc-editor.org/rfc/rfc791);\r\n- [RFC 3439 - Some Internet Architectural Guidelines and Philosophy](https://www.rfc-editor.org/rfc/rfc3439);\r\n- [How Does the Internet Work?](http://web.stanford.edu/class/msande91si/www-spr04/readings/week1/InternetWhitepaper.htm);\r\n- [Traceroute Using an IP Option](https://www.rfc-editor.org/rfc/rfc1393)\r\n- [Computer Networking: A Top-Down Approach (2020, J.F. Kurose, K.W. Ross, Pearson)](http://gaia.cs.umass.edu/kurose_ross/online_lectures.htm).\n",
      "tags": [
        "Iniciantes",
        "Internet"
      ],
      "translates": null
    }
  ],
  "CSS": [
    {
      "id": "afekje3ez7b2byc",
      "title": "How to calculate the border-radius of nested elements",
      "slug": "how-to-calculate-the-border-radius-of-nested-elements",
      "locale": "en-US",
      "created": "2023-08-30T18:47:17.057Z",
      "updated": "2023-08-30T18:50:19.490Z",
      "content": "The [`border-radius`](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) property allows you to round the edges of an element. Giving the same `border-radius` value to the parent element and child element doesn't result in the best appearance, so how do you calculate the border radius of nested elements?\r\n\r\nCheck out the demo below:\r\n\r\n<CodePen id=\"KKbzrER\" />\r\n\r\nIn the example above, the two circles have the same radius and are inscribed in squares with rounded edges. Note that the radius of the border is the same as the radius of the circle. We want the end of the arc of the circle each edge starts to be coincident with both squares. This can be done in two ways:\r\n\r\n1. Radius of the border of the inner square (R<sub>i</sub>) + spacing between squares (E) = radius of the border of the outer square (R<sub>e</sub>);\r\n2. Outer square border radius (R<sub>e</sub>) - spacing between squares (E) = inner square border radius R<sub>i</sub>.\r\n\r\nNote that the center of the circles inscribed in the squares do not coincide, as well as the end of the border arc. Still, the result is satisfactory.\r\n\r\n## Bonus\r\n\r\nIn this interactive example, made by [Jhey Tompkins](https://jhey.dev/), you can see how this rule applies in practice:\r\n\r\n<CodePen user=\"jh3y\" id=\"KKrYaxx\" />\r\n\r\n## References\r\n\r\n- [@jh3yy](https://twitter.com/jh3yy/status/1688542283602231296)\r\n- [Tip: Perfect nested border radius in CSS](https://www.30secondsofcode.org/css/s/nested-border-radius/)\r\n- [CSS3 border-radius Property](https://www.w3schools.com/cssref/css3_pr_border-radius.asp)\r\n- [CSS Backgrounds and Borders Module Level 3](https://www.w3.org/TR/css-backgrounds-3/#corners)\n",
      "tags": [
        "CSS",
        "HTML"
      ],
      "translates": "jyetft1jka7szdn"
    },
    {
      "id": "jyetft1jka7szdn",
      "title": "Como calcular o raio da borda (border-radius) de elementos aninhados",
      "slug": "como-calcular-o-raio-da-borda-border-radius-de-elementos-aninhados",
      "locale": "pt-BR",
      "created": "2023-08-22T20:05:26.070Z",
      "updated": "2023-08-30T18:47:29.128Z",
      "content": "A propriedade [`border-radius`](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) permite arredondar as bordas de um elemento. Dar o mesmo valor de `border-radius` para o elemento pai e elemento filho não resulta na melhor aparência, então como calcular o raio da borda de elementos aninhados?\r\n\r\nObserve a demonstração abaixo:\r\n\r\n<CodePen id=\"ExGaRJY\" />\r\n\r\nNo exemplo acima, os dois círculos possuem o mesmo raio e estão inscritos nos quadrados com bordas arredondas. Note que o raio da borda é o mesmo raio do círculo. Nós queremos que o fim do arco do círculo de cada borda comece seja coincidente com ambos os quadrados. Isso pode ser feito de duas formas:\r\n\r\n1. Raio da borda do quadrado interno (R<sub>i</sub>) + espaçamento entre os quadrados (E) = raio da borda do quadrado externo (R<sub>e</sub>);\r\n2. Raio da borda do quadrado externo (R<sub>e</sub>) - espaçamento entre os quadrados (E) = raio da borda do quadrado interno R<sub>i</sub>.\r\n\r\nObserve que o centro dos círculos inscritos nos quadrados não coincidem, assim como o fim do arco da borda. Ainda assim, o resultado é satisfatório.\r\n\r\n## Bônus\r\n\r\nNeste exemplo interativo, feito por [Jhey Tompkins](https://jhey.dev/), você pode ver como essa regra se aplica na prática:\r\n\r\n<CodePen user=\"jh3y\" id=\"KKrYaxx\" />\r\n\r\n## Referências\r\n\r\n- [@jh3yy](https://twitter.com/jh3yy/status/1688542283602231296)\r\n- [Tip: Perfect nested border radius in CSS](https://www.30secondsofcode.org/css/s/nested-border-radius/)\r\n- [CSS3 border-radius Property](https://www.w3schools.com/cssref/css3_pr_border-radius.asp)\r\n- [CSS Backgrounds and Borders Module Level 3](https://www.w3.org/TR/css-backgrounds-3/#corners)\r\n\n",
      "tags": [
        "CSS",
        "HTML",
        "Dicas"
      ],
      "translates": "afekje3ez7b2byc"
    }
  ],
  "HTML": [
    {
      "id": "afekje3ez7b2byc",
      "title": "How to calculate the border-radius of nested elements",
      "slug": "how-to-calculate-the-border-radius-of-nested-elements",
      "locale": "en-US",
      "created": "2023-08-30T18:47:17.057Z",
      "updated": "2023-08-30T18:50:19.490Z",
      "content": "The [`border-radius`](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) property allows you to round the edges of an element. Giving the same `border-radius` value to the parent element and child element doesn't result in the best appearance, so how do you calculate the border radius of nested elements?\r\n\r\nCheck out the demo below:\r\n\r\n<CodePen id=\"KKbzrER\" />\r\n\r\nIn the example above, the two circles have the same radius and are inscribed in squares with rounded edges. Note that the radius of the border is the same as the radius of the circle. We want the end of the arc of the circle each edge starts to be coincident with both squares. This can be done in two ways:\r\n\r\n1. Radius of the border of the inner square (R<sub>i</sub>) + spacing between squares (E) = radius of the border of the outer square (R<sub>e</sub>);\r\n2. Outer square border radius (R<sub>e</sub>) - spacing between squares (E) = inner square border radius R<sub>i</sub>.\r\n\r\nNote that the center of the circles inscribed in the squares do not coincide, as well as the end of the border arc. Still, the result is satisfactory.\r\n\r\n## Bonus\r\n\r\nIn this interactive example, made by [Jhey Tompkins](https://jhey.dev/), you can see how this rule applies in practice:\r\n\r\n<CodePen user=\"jh3y\" id=\"KKrYaxx\" />\r\n\r\n## References\r\n\r\n- [@jh3yy](https://twitter.com/jh3yy/status/1688542283602231296)\r\n- [Tip: Perfect nested border radius in CSS](https://www.30secondsofcode.org/css/s/nested-border-radius/)\r\n- [CSS3 border-radius Property](https://www.w3schools.com/cssref/css3_pr_border-radius.asp)\r\n- [CSS Backgrounds and Borders Module Level 3](https://www.w3.org/TR/css-backgrounds-3/#corners)\n",
      "tags": [
        "CSS",
        "HTML"
      ],
      "translates": "jyetft1jka7szdn"
    },
    {
      "id": "jyetft1jka7szdn",
      "title": "Como calcular o raio da borda (border-radius) de elementos aninhados",
      "slug": "como-calcular-o-raio-da-borda-border-radius-de-elementos-aninhados",
      "locale": "pt-BR",
      "created": "2023-08-22T20:05:26.070Z",
      "updated": "2023-08-30T18:47:29.128Z",
      "content": "A propriedade [`border-radius`](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) permite arredondar as bordas de um elemento. Dar o mesmo valor de `border-radius` para o elemento pai e elemento filho não resulta na melhor aparência, então como calcular o raio da borda de elementos aninhados?\r\n\r\nObserve a demonstração abaixo:\r\n\r\n<CodePen id=\"ExGaRJY\" />\r\n\r\nNo exemplo acima, os dois círculos possuem o mesmo raio e estão inscritos nos quadrados com bordas arredondas. Note que o raio da borda é o mesmo raio do círculo. Nós queremos que o fim do arco do círculo de cada borda comece seja coincidente com ambos os quadrados. Isso pode ser feito de duas formas:\r\n\r\n1. Raio da borda do quadrado interno (R<sub>i</sub>) + espaçamento entre os quadrados (E) = raio da borda do quadrado externo (R<sub>e</sub>);\r\n2. Raio da borda do quadrado externo (R<sub>e</sub>) - espaçamento entre os quadrados (E) = raio da borda do quadrado interno R<sub>i</sub>.\r\n\r\nObserve que o centro dos círculos inscritos nos quadrados não coincidem, assim como o fim do arco da borda. Ainda assim, o resultado é satisfatório.\r\n\r\n## Bônus\r\n\r\nNeste exemplo interativo, feito por [Jhey Tompkins](https://jhey.dev/), você pode ver como essa regra se aplica na prática:\r\n\r\n<CodePen user=\"jh3y\" id=\"KKrYaxx\" />\r\n\r\n## Referências\r\n\r\n- [@jh3yy](https://twitter.com/jh3yy/status/1688542283602231296)\r\n- [Tip: Perfect nested border radius in CSS](https://www.30secondsofcode.org/css/s/nested-border-radius/)\r\n- [CSS3 border-radius Property](https://www.w3schools.com/cssref/css3_pr_border-radius.asp)\r\n- [CSS Backgrounds and Borders Module Level 3](https://www.w3.org/TR/css-backgrounds-3/#corners)\r\n\n",
      "tags": [
        "CSS",
        "HTML",
        "Dicas"
      ],
      "translates": "afekje3ez7b2byc"
    }
  ],
  "video": [
    {
      "id": "02cjfu0pbl38fsa",
      "title": "Increase YouTube video playback rate up to 2x",
      "slug": "increase-youtube-video-playback-rate-up-to-2x",
      "locale": "en-US",
      "created": "2020-10-25T00:00:00.000Z",
      "updated": "2022-12-29T14:52:21.704Z",
      "content": "YouTube videos (along with all modern video implementations on the web) uses the [HTML5 video element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video). This new media tag implements the [HTMLMediaElement API](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement), which gives a plenty of media-related methods common to audio and video.\r\n\r\n\r\nThe standard YouTube player just allow us to increase video speed up to 2x, but, if you want to increase it even more? Well, there's a solution for that: just set the playback rate to whatever number you want!\r\n\r\nIn order to do that, you need to select the `<video>` element in the page and change its playback rate to the desired speed:\r\n\r\n\r\n```js\r\ndocument.getElementsByTagName('video')[0].playbackRate = 2.5;\r\n```\r\n\r\nIt's a good solution, but not a practical one. Gracefully, there's a better way to make use of this functionality without having to open the console of your browser.\r\n\r\n## JavaScript bookmarklet\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/hjvcu6sqxp24u5emozsb.png\" alt=\"Adding the bookmarklet on Firefox\" />\r\n  <figcaption>\r\n    Adding the bookmarklet on Firefox\r\n  </figcaption>\r\n</figure>\r\n\r\nIf you want to have this script always at hand, the best way is to put it inside a JavaScript [bookmarklet](https://en.wikipedia.org/wiki/Bookmarklet). Just create a new bookmark in you favorite browser and add the code below:\r\n\r\n```js\r\njavascript:(function() {\r\n  const rate = prompt('Set the new playback rate', 2.5);\r\n  if (rate != null) {\r\n    const video = document.getElementsByTagName('video')[0];\r\n    video.playbackRate = parseFloat(rate);\r\n  }\r\n})();\r\n```\r\n\r\nAnd here is an screenshot of the bookmarklet working:\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/erxbc4xcxdk7v0gun8z1.png\" alt=\"Video speed bookmarklet working\" />\r\n  <figcaption>\r\n    Changing the speed of an (awesome) <a href=\"https://www.youtube.com/watch?v=G4MvFT8TGII\">YouTube video</a>\r\n  </figcaption>\r\n</figure>\r\n\r\nFeel free to contribute with this code in <a href=\"https://gist.github.com/DouglasdeMoura/052456a93f93d47982ccb5eefc602eb1\" target=\"_blank\">my public gist</a>.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "video",
        "youtube"
      ],
      "translates": null
    }
  ],
  "youtube": [
    {
      "id": "02cjfu0pbl38fsa",
      "title": "Increase YouTube video playback rate up to 2x",
      "slug": "increase-youtube-video-playback-rate-up-to-2x",
      "locale": "en-US",
      "created": "2020-10-25T00:00:00.000Z",
      "updated": "2022-12-29T14:52:21.704Z",
      "content": "YouTube videos (along with all modern video implementations on the web) uses the [HTML5 video element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video). This new media tag implements the [HTMLMediaElement API](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement), which gives a plenty of media-related methods common to audio and video.\r\n\r\n\r\nThe standard YouTube player just allow us to increase video speed up to 2x, but, if you want to increase it even more? Well, there's a solution for that: just set the playback rate to whatever number you want!\r\n\r\nIn order to do that, you need to select the `<video>` element in the page and change its playback rate to the desired speed:\r\n\r\n\r\n```js\r\ndocument.getElementsByTagName('video')[0].playbackRate = 2.5;\r\n```\r\n\r\nIt's a good solution, but not a practical one. Gracefully, there's a better way to make use of this functionality without having to open the console of your browser.\r\n\r\n## JavaScript bookmarklet\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/hjvcu6sqxp24u5emozsb.png\" alt=\"Adding the bookmarklet on Firefox\" />\r\n  <figcaption>\r\n    Adding the bookmarklet on Firefox\r\n  </figcaption>\r\n</figure>\r\n\r\nIf you want to have this script always at hand, the best way is to put it inside a JavaScript [bookmarklet](https://en.wikipedia.org/wiki/Bookmarklet). Just create a new bookmark in you favorite browser and add the code below:\r\n\r\n```js\r\njavascript:(function() {\r\n  const rate = prompt('Set the new playback rate', 2.5);\r\n  if (rate != null) {\r\n    const video = document.getElementsByTagName('video')[0];\r\n    video.playbackRate = parseFloat(rate);\r\n  }\r\n})();\r\n```\r\n\r\nAnd here is an screenshot of the bookmarklet working:\r\n\r\n<figure>\r\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/erxbc4xcxdk7v0gun8z1.png\" alt=\"Video speed bookmarklet working\" />\r\n  <figcaption>\r\n    Changing the speed of an (awesome) <a href=\"https://www.youtube.com/watch?v=G4MvFT8TGII\">YouTube video</a>\r\n  </figcaption>\r\n</figure>\r\n\r\nFeel free to contribute with this code in <a href=\"https://gist.github.com/DouglasdeMoura/052456a93f93d47982ccb5eefc602eb1\" target=\"_blank\">my public gist</a>.\r\n\n",
      "tags": [
        "javascript",
        "html",
        "video",
        "youtube"
      ],
      "translates": null
    }
  ],
  "Git": [
    {
      "id": "l63ql849ju0fg4l",
      "title": "How to push an empty commit on Git?",
      "slug": "how-to-push-an-empty-commit-on-git",
      "locale": "en-US",
      "created": "2023-01-13T21:03:48.079Z",
      "updated": "2023-01-13T21:03:48.079Z",
      "content": "Have you ever had to run a [CI/CD pipeline](https://www.redhat.com/pt-br/topics/devops/what-cicd-pipeline) that is triggered by a commit, when\r\nthere is no code changes to be commited?\r\n\r\nWell, just use the command below:\r\n\r\n```bash\r\ngit commit --allow-empty -m \"ci: trigger pipeline with an empty commit\"\r\n```\r\n\r\nAnd then, just push the commit to the remote repository:\r\n\r\n\r\n```bash\r\ngit push\r\n```\r\n\r\nThat's it!\r\n\n",
      "tags": [
        "Git"
      ],
      "translates": "e62l4z2ckms6roz"
    },
    {
      "id": "e62l4z2ckms6roz",
      "title": "Como fazer um push de um commit vazio no Git",
      "slug": "como-fazer-um-push-de-um-commit-vazio-no-git",
      "locale": "pt-BR",
      "created": "2023-01-13T20:58:55.955Z",
      "updated": "2023-01-13T21:04:57.659Z",
      "content": "Voê já teve que rodar, novamente, uma [pipeline de CI/CD](https://www.redhat.com/pt-br/topics/devops/what-cicd-pipeline) que é iniciada por um commit no repositório, quando não há nenhuma alteração no código fonte para ser \"commitada\"?\r\n\r\nOra, é só usar o comando abaixo:\r\n\r\n```bash\r\ngit commit --allow-empty -m \"ci: aciona pipeline com um commit vazio\"\r\n```\r\n\r\nE agora, só precisa fazer o push para o repositório remoto:\r\n\r\n```bash\r\ngit push\r\n```\r\n\n",
      "tags": [
        "Git"
      ],
      "translates": null
    }
  ],
  "react": [
    {
      "id": "x09m6ctgj8r7ebz",
      "title": "Create beautiful placeholders for your images ",
      "slug": "create-beautiful-placeholders-for-your-images",
      "locale": "en-US",
      "created": "2022-09-29T15:00:00.000Z",
      "updated": "2023-08-12T13:33:26.541Z",
      "content": "Have you ever faced the situation where the layout of your beautifully crafted interface \"breaks\" if the image (depeding on the quality of your user's connections) takes some time to load? Something like the example below:\r\n\r\n[<img src=\"https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif\" />](https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif)\r\n\r\nThis happens because the browser has no clue about the dimensions of the image you want to display on your content beforehand.\r\n\r\nThe easiest way to solve this issue is using the [`aspect-ratio`](https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio) property to tell the browser how much space (based on the user's size display) it should reserve before the image is loaded. Check the difference:\r\n\r\n```css\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n\r\n/*\r\n  Here, I'm using the image's width and height,\r\n  but you can come up with diference aspect ratios.\r\n*/\r\n  aspect-ratio: 760 / 235;\r\n}\r\n```\r\n\r\n[<img src=\"https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif\" width=\"100%\" />](https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif)\r\n\r\nSo, it solves the sudden layout change, but we can do even better do better adding an animated background.\r\n\r\n## Displaying an animated background\r\n\r\nYou can give a hint for the user that the blank space on your app should be filled with something by adding a background color or animating the transition between two o more colors, like in the example below:\r\n\r\n<iframe height=\"300\" style={{width:'100%'}} scrolling=\"no\" title=\"Animated placeholder\" src=\"https://codepen.io/douglasdemoura/embed/RwyWzEr?default-tab=\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\r\n  See the Pen <a href=\"https://codepen.io/douglasdemoura/pen/RwyWzEr\">\r\n  Animated placeholder</a> by Douglas Moura (<a href=\"https://codepen.io/douglasdemoura\">@douglasdemoura</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.\r\n</iframe>\r\n\r\nAnd our code will look like this:\r\n\r\n```css\r\n:root {\r\n  /*\r\n  Set the default aspect ratio. You can change\r\n  this CSS variable per class/id or event\r\n  creating diferente classes.\r\n  */\r\n  --aspect-ratio: 16/9;\r\n}\r\n\r\nimg {\r\n/* Makes all images responsive */\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n/* Put all your images inside this container */\r\n.image-container {  \r\n  aspect-ratio: var(--aspect-ratio);\r\n  position: relative;\r\n  animation: background-loading .8s linear infinite alternate;\r\n}\r\n\r\n.image-container img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n/* The placeholder animation */\r\n@keyframes background-loading {\r\n  0% {\r\n    background-color: #f9fafb;\r\n  }\r\n  100% {\r\n    background-color: #d1d5db;\r\n  }\r\n}\r\n```\r\n\r\nAnd this is the result (check the code on [CodePen](https://codepen.io/douglasdemoura/pen/RwyWBOR)):\r\n\r\n<img src=\"https://media.giphy.com/media/9yYPBL1X9wnAKzhVfE/giphy.gif\" />\r\n\r\nYet, this can be even better by displaying a colorful background that matches the image colors.\r\n\r\n## Displaying colorful image placeholders\r\n\r\n[BlurHash](https://github.com/woltapp/blurhash) is a compact representation of a placeholder for a image. You use it to process your image before sending it to the browser and you'll get a string of 20-30 characters that the algorithm can turn into a blurred image that you can show to your user before the actual image is downloaded. Check how it looks like:\r\n\r\n<img src=\"https://media.giphy.com/media/1RSpYFokgWI2tKRKHk/giphy.gif\" />\r\n\r\nI have implemented that last effect in React for the sake of simplicity and time, but you can re-implement it in whatever framework you like. Just pay attention to the `onLoad` event that changes the opacity of the image.\r\n\r\n<iframe src=\"https://stackblitz.com/edit/vitejs-vite-enczef?embed=1&file=src/Image.module.css\" height=\"500\" style={{width: '100%'}} scrolling=\"no\" title=\"Animated placeholder\"  frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"></iframe>\n",
      "tags": [
        "javascript",
        "typescript",
        "react",
        "tutorial"
      ],
      "translates": null
    },
    {
      "id": "7p8vdcau7gg894b",
      "title": " How to extend HTML elements with React",
      "slug": "how-to-extend-html-elements-with-react",
      "locale": "en-US",
      "created": "2022-09-26T00:00:00.000Z",
      "updated": "2022-12-29T14:51:44.872Z",
      "content": "Most of the work needed to create custom HTML elements that fit the design system of your company resides styling and adding your own props. So, let's say you have to create a custom `Button`, that should receive a `children` prop and should have DOM access via [ref](https://reactjs.org/docs/refs-and-the-dom.html). That's how you can do it:\r\n\r\n```typescript\r\nimport { forwardRef } from 'react';\r\n\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n} & React.PropsWithChildren<React.ComponentPropsWithRef<'button'>>;\r\n\r\nconst Button: React.FC<ButtonProps> = forwardRef(\r\n  ({ loading, children, ...props }, ref) => {\r\n    return (\r\n      <button data-loading={loading} {...props} ref={ref}>\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Button;\r\n```\r\n\r\nWe use the [`PropsWithChildren`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L822) generic interface that gives the `children` prop and receive `React.ComponentPropsWithRef<'button'>`, that passes all props that a [`button`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button) can receive.\r\n\r\nOf course, you can change the interface [`ComponentPropsWithRef`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L834) for [`ComponentPropsWithoutRef`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L838) and drop the [`forwardRef`](https://reactjs.org/docs/forwarding-refs.html) function on the definition of your component (although, I do not recomend it - _refs_ may be useful later on your application):\r\n\r\n```typescript\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n} & React.PropsWithChildren<React.ComponentPropsWithoutRef<'button'>>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ loading, children, ...props }) => {\r\n  return (\r\n    <button data-loading={loading} {...props} ref={ref}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n```\r\n\r\nYou may, even, drop the interface `PropsWithChildren`, but on doing that, you'd have to implement the `children` prop by yourself:\r\n\r\n```typescript\r\ntype ButtonProps = {\r\n  loading?: boolean; // custom prop\r\n  children?: React.ReactNode;\r\n} & React.ComponentPropsWithoutRef<'button'>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ loading, children, ...props }) => {\r\n  return (\r\n    <button data-loading={loading} {...props} ref={ref}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n```\r\n\r\nWant more? Check the live implementation on [StackBlitz](https://stackblitz.com/edit/vitejs-vite-warc15?file=src%2Fcomponents%2Fbutton.tsx&terminal=dev)\r\n\r\n\n",
      "tags": [
        "javascript",
        "typescript",
        "react"
      ],
      "translates": null
    }
  ],
  "Fastify": [
    {
      "id": "91sox12o3ozzl5n",
      "title": "Rendering JSX on the Server with Fastify",
      "slug": "rendering-jsx-on-the-server-with-fastify",
      "locale": "en-US",
      "created": "2024-01-25T00:35:37.056Z",
      "updated": "2024-01-25T00:42:06.600Z",
      "content": "[JSX](https://facebook.github.io/jsx/) is an excellent abstraction for building web interfaces. Introduced by Facebook and popularized by React, it's an extension of JavaScript designed to abstract nested function calls. It's expected that JSX code will be pre-processed (transpiled) into valid JavaScript before being executed in browsers or environments like Node.js.\r\n\r\n##   Project Setup\r\n\r\nFirst of all, let's start our project and install the necessary dependencies:\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nNow, we set up the scripts for our project. The `package.json` should look like this:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\nAnd this is the `tsconfig.json` that we will use:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Creating our components\r\n\r\nThe React ecosystem already provides the necessary tools for rendering our components to HTML and sending them directly from the server to our client. So, first, let's create the root component:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nAnd our home page:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n##   Configuring Fastify to Render Our React Component\r\nAs we don't intend to load React to hydrate our HTML on the client side, we can use the `renderToStaticMarkup` function exported from `react-dom/server`. Our server initialization file will look like this:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nIf you start the project now (`npm run dev`), you should see the page at [http://localhost:3000](http://localhost:3000/). Of course, we can enhance our implementation by using the new streaming API, introduced in React 18 ([which is the recommended method](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). To do that, we will make the following changes to our code:\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\nAnd with that, we are able to render our React components on the server side and stream them to our client. Here is the [link](https://github.com/DouglasdeMoura/react-fastify) to the repository.\n",
      "tags": [
        "Fastify",
        "Tips",
        "javascript",
        "Node.js"
      ],
      "translates": "p7310widh7o7h9e"
    },
    {
      "id": "p7310widh7o7h9e",
      "title": "Renderizando JSX no servidor com Fastify",
      "slug": "renderizando-jsx-no-servidor-com-fastify",
      "locale": "pt-BR",
      "created": "2024-01-25T00:16:10.675Z",
      "updated": "2024-01-25T00:42:27.538Z",
      "content": "[JSX](https://facebook.github.io/jsx/) é uma excelente abstração para montar interfaces. Introduzida pelo Facebook e popularizada pelo React, trata-se de uma extensão do JavaScript para abstrair a chamada de funções aninhadas. É esperado que o código JSX seja pré-processado (transpilado) para JavaScript válido antes de ser executada nos navegadores ou em ambientes como Node.js.\r\n\r\n## Configuração do projeto\r\n\r\nAntes de tudo, vamos iniciar o nosso projeto e instalar as dependências necessárias:\r\n\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nAgora, configuramos os _scripts_ do nosso projeto. O `package.json` deverá ficará assim:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\n\r\nE esse é o `tsconfig.json` que iremos utilizar:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Criando nossos componentes\r\n\r\nO ecossistema do React já fornece as ferramentas necessárias para renderizarmos os nossos componentes para HTML e enviarmos diretamente do servidor para o nosso cliente. Então, primeiro, vamos criar o componente raiz:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nE nossa página inicial:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n## Configurando o Fastify para renderizar nosso componente React\r\n\r\nComo não pretendemos carregar o React para hidratar o nosso HTML do lado do cliente, podemos usar a função `renderToStaticMarkup` exportada de `react-dom/server`. Nosso arquivo de inicialização do servidor ficará assim:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\n// Importando com o `.js` no final, o arquivo \"buildado\"\r\n// fará as importações corretamente e você não deverá ver nenhum erro na\r\n// IDE, ainda que os arquivos tenham a extensão `.tsx`.\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  // Aqui, inserimos `<!DOCTYPE html>`\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você iniciar o projeto agora (`npm run dev`), você deverá ver a página em http://localhost:3000. Claro, podemos melhorar a nossa implementação usando a nova API de stream, introduzida no React 18 ([que é o método recomendado](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). Para isso, faremos as seguintes alterações no nosso código:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE com isso, conseguimos renderizar nossos componentes React do lado do servidor e fazer _streaming_ deles para o nosso cliente. E este é o [link](https://github.com/DouglasdeMoura/react-fastify) do repositório.\n",
      "tags": [
        "Dicas",
        "Node.js",
        "javascript",
        "Fastify"
      ],
      "translates": "91sox12o3ozzl5n"
    }
  ],
  "Tips": [
    {
      "id": "j58woxctz6b7mpo",
      "title": "Validate your environment variables with Zod",
      "slug": "validate-your-environment-variables-with-zod",
      "locale": "en-US",
      "created": "2024-08-15T14:14:26.654Z",
      "updated": "2024-08-15T14:17:19.617Z",
      "content": "[Zod](https://github.com/colinhacks/zod) is the most famous validation library in the TypeScript ecosystem. With Zod, you create a _schema_ and validate your data according to the schema. Observe the schema below:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst UserSchema = z.object({\r\n  name: z.string().min(1),\r\n  age: z.number({ coerce: true }).min(18),\r\n  email: z.string().email(),\r\n})\r\n```\r\n\r\nThis schema can be used to validate an object as follows:\r\n\r\n```ts\r\nconst data = {\r\n  name: 'John Doe',\r\n  age: 18,\r\n  email: 'john@example.com',\r\n}\r\n\r\n// If there is a validation error, it throws an error\r\nconst validatedData = UserSchema.parse(data)\r\n\r\n// If there is a validation error, it returns an error object for you to handle later\r\nconst safeValidatedData = UserSchema.safeParse(data)\r\n// => { success: false; error: ZodError }\r\n// => { success: true; data: 'billie' }\r\n```\r\n\r\nZod is capable of performing various types of validations on your data, so be sure to read the [documentation](https://github.com/colinhacks/zod) for more details.\r\n\r\n## Validating Environment Variables\r\n\r\nWe can use Zod to validate the values present in [`process.env`](https://nodejs.org/api/process.html#processenv) and even process them before using the environment variables in our application. Usually, I like to create an `environment.ts` file, as in the example below:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst environmentSchema = z.object({\r\n  // Define the possible values for NODE_ENV, always leaving a default value:\r\n  NODE_ENV: z.enum(['test', 'development', 'production']).default('production'),\r\n  // Environment variables are always defined as strings. Here, convert the string to a number and set a default value:\r\n  PORT: z.number({ coerce: true }).default(3000),\r\n})\r\n\r\nexport const env = environmentSchema.parse(process.env)\r\n```\r\n\r\nThen, just import the variable and use it throughout my application:\r\n\r\n```ts\r\nimport Fastify from 'fastify'\r\nimport { env } from './environment.js'\r\n\r\nconst app = Fastify({ logger: true })\r\napp.listen({ port: env.PORT }, (err) => {\r\n  if (err) {\r\n    app.log.error(err)\r\n    process.exit(1)\r\n  }\r\n})\r\n```\n",
      "tags": [
        "Zod",
        "TypeScript",
        "Tips"
      ],
      "translates": "uybmrtdz9y7iuzk"
    },
    {
      "id": "uybmrtdz9y7iuzk",
      "title": "Valide suas variáveis de ambiente com Zod",
      "slug": "valide-suas-variaveis-de-ambiente-com-zod",
      "locale": "pt-BR",
      "created": "2024-08-15T13:51:14.579Z",
      "updated": "2024-08-15T14:16:39.812Z",
      "content": "[Zod](https://github.com/colinhacks/zod) é a biblioteca de validação mais famosa do ecossistema TypeScript. Com Zod, você cria um _schema_ e valida seus dados de acordo com o _schema_. Observe o _schema_ abaixo:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst UserSchema = z.object({\r\n  name: z.string().min(1),\r\n  age: z.number({ coerce: true }).min(18),\r\n  email: z.string().email(),\r\n})\r\n```\r\n\r\nEste _schema_ pode ser usado para validar um objeto da seguinte maneira:\r\n\r\n```ts\r\nconst data = {\r\n  name: 'John Doe',\r\n  age: 18,\r\n  email: 'john@example.com',\r\n}\r\n\r\n// Caso haja um erro na validação, lança um erro\r\nconst validatedData = UserSchema.parse(data)\r\n\r\n// Caso haja um erro na validação, retorna um objeto com erro, para você tratar posteriormente\r\nconst safeValidatedData = UserSchema.safeParse(data)\r\n// => { success: false; error: ZodError }\r\n// => { success: true; data: 'billie' }\r\n```\r\n\r\nO Zod é capaz de fazer diversos tipos de validações nos seus dados, certifique-se de ler a [documentação](https://github.com/colinhacks/zod) para mais detalhes.\r\n\r\n## Validando as variáveis de ambiente\r\n\r\nPodemos usar o Zod para validar os valores presentes no [`process.env`](https://nodejs.org/api/process.html#processenv) e até processá-los antes de usar as variáveis de ambiente na nossa aplicação. Normalmente, eu gosto de criar um arquivo `environment.ts`, como no exemplo abaixo:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst environmentSchema = z.object({\r\n  // Define os valores possíveis para o NODE_ENV, deixando sempre um valor padrão:\r\n  NODE_ENV: z.enum(['test', 'development', 'production']).default('production'),\r\n  // Variáveis de ambiente sempre são definidas como strings. Aqui, transformo a string em número e defino um valor padrão: \r\n  PORT: z.number({ coerce: true }).default(3000),\r\n})\r\n\r\nexport const env = environmentSchema.parse(process.env)\r\n```\r\n\r\nDepois, é só importar a variável e usar ao longo da minha aplicação:\r\n\r\n```ts\r\nimport Fastify from 'fastify'\r\nimport { env } from './environment.js'\r\n\r\nconst app = Fastify({ logger: true })\r\napp.listen({ port: env.PORT }, (err) => {\r\n  if (err) {\r\n    app.log.error(err)\r\n    process.exit(1)\r\n  }\r\n})\r\n```\n",
      "tags": [
        "Tips",
        "TypeScript",
        "Zod"
      ],
      "translates": "j58woxctz6b7mpo"
    },
    {
      "id": "91sox12o3ozzl5n",
      "title": "Rendering JSX on the Server with Fastify",
      "slug": "rendering-jsx-on-the-server-with-fastify",
      "locale": "en-US",
      "created": "2024-01-25T00:35:37.056Z",
      "updated": "2024-01-25T00:42:06.600Z",
      "content": "[JSX](https://facebook.github.io/jsx/) is an excellent abstraction for building web interfaces. Introduced by Facebook and popularized by React, it's an extension of JavaScript designed to abstract nested function calls. It's expected that JSX code will be pre-processed (transpiled) into valid JavaScript before being executed in browsers or environments like Node.js.\r\n\r\n##   Project Setup\r\n\r\nFirst of all, let's start our project and install the necessary dependencies:\r\n```\r\nnpm init -y\r\nnpm i fastify react react-dom\r\nnpm i -D @types/node @types/react @types/react-dom tsx typescript\r\n```\r\n\r\nNow, we set up the scripts for our project. The `package.json` should look like this:\r\n\r\n```json\r\n{\r\n  \"type\":  \"module\",\r\n  \"name\":  \"fastify-react\",\r\n  \"version\":  \"1.0.0\",\r\n  \"author\":  \"Douglas Moura <douglas.ademoura@gmail.com>\",\r\n  \"description\":  \"POC on rendering React components from Fastify\",\r\n  \"main\":  \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\":  \"tsc && node dist/main.js\",\r\n    \"dev\":  \"tsx --watch src/main.tsx\",\r\n    \"build\":  \"tsc\"\r\n  },\r\n  \"license\":  \"ISC\",\r\n  \"dependencies\": {\r\n    \"fastify\":  \"^4.25.2\",\r\n    \"react\":  \"^18.2.0\",\r\n    \"react-dom\":  \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/node\":  \"^20.11.6\",\r\n    \"@types/react\":  \"^18.2.48\",\r\n    \"@types/react-dom\":  \"^18.2.18\",\r\n    \"tsx\":  \"^4.7.0\",\r\n    \"typescript\":  \"^5.3.3\"\r\n  }\r\n}\r\n```\r\nAnd this is the `tsconfig.json` that we will use:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\":  \"ESNext\",\r\n    \"module\":  \"ESNext\",\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es6\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ],\r\n    \"skipLibCheck\":  true,\r\n    \"sourceMap\":  false,\r\n    \"outDir\":  \"./dist\",\r\n    \"moduleResolution\":  \"node\",\r\n    \"removeComments\":  true,\r\n    \"noImplicitAny\":  true,\r\n    \"strictNullChecks\":  true,\r\n    \"strictFunctionTypes\":  true,\r\n    \"noImplicitThis\":  true,\r\n    \"noUnusedLocals\":  true,\r\n    \"noUnusedParameters\":  true,\r\n    \"noImplicitReturns\":  true,\r\n    \"noFallthroughCasesInSwitch\":  true,\r\n    \"allowSyntheticDefaultImports\":  true,\r\n    \"esModuleInterop\":  true,\r\n    \"emitDecoratorMetadata\":  true,\r\n    \"experimentalDecorators\":  true,\r\n    \"resolveJsonModule\":  true,\r\n    \"baseUrl\":  \".\",\r\n    \"jsx\":  \"react-jsx\"\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\"\r\n  ],\r\n  \"include\": [\r\n    \"./src/**/*.ts\",\r\n    \"./src/**/*.tsx\"\r\n  ]\r\n}\r\n```\r\n\r\n## Creating our components\r\n\r\nThe React ecosystem already provides the necessary tools for rendering our components to HTML and sending them directly from the server to our client. So, first, let's create the root component:\r\n\r\n```ts\r\n// src/components/root.tsx\r\n\r\ntype  RootProps  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nexport  function  Root({ children, title }:  RootProps) {\r\n  return (\r\n    <html  lang=\"en\">\r\n      <head>\r\n        <meta  charSet=\"utf-8\"  />\r\n        <meta  name=\"viewport\"  content=\"width=device-width, initial-scale=1\"  />\r\n        <title>{title}</title>\r\n      </head>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\nAnd our home page:\r\n\r\n```ts\r\n// src/components/index.tsx\r\n\r\nexport  function  App() {\r\n  return (\r\n    <h1>Hello, World!</h1>\r\n  )\r\n}\r\n```\r\n##   Configuring Fastify to Render Our React Component\r\nAs we don't intend to load React to hydrate our HTML on the client side, we can use the `renderToStaticMarkup` function exported from `react-dom/server`. Our server initialization file will look like this:\r\n\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticMarkup } from  'react-dom/server'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  return `<!DOCTYPE html>${renderToStaticMarkup(\r\n    <Root  title={title}>{children}</Root>\r\n  )}`\r\n}\r\n\r\nconst fastify =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  reply.type('text/html')\r\n  return  render({ children:  <App  />, title:  'Hello, World!' })\r\n})\r\n\r\ntry {\r\n  await fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nIf you start the project now (`npm run dev`), you should see the page at [http://localhost:3000](http://localhost:3000/). Of course, we can enhance our implementation by using the new streaming API, introduced in React 18 ([which is the recommended method](https://github.com/reactwg/react-18/discussions/106#discussion-3611411)). To do that, we will make the following changes to our code:\r\n```ts\r\nimport Fastify from  'fastify'\r\nimport { renderToStaticNodeStream } from  'react-dom/server'\r\nimport { Transform } from  'node:stream'\r\n\r\nimport { App } from  './components/index.js'\r\nimport { Root } from  './components/root.js'\r\n\r\ntype  RenderArgs  = {\r\n  children:  React.ReactNode\r\n  title:  string\r\n}\r\n\r\nconst  render  = ({ title, children }:  RenderArgs) => {\r\n  let  isFirstChunk  =  true\r\n  const  prepend  =  new  Transform({\r\n    transform(chunk, _encoding, callback) {\r\n      if (isFirstChunk) {\r\n        isFirstChunk  =  false\r\n        this.push('<!DOCTYPE html>')\r\n      }\r\n      callback(null, chunk)\r\n    },\r\n  })\r\n\r\n  return  renderToStaticNodeStream(\r\n    <Root  title={title}>{children}</Root>\r\n  ).pipe(prepend)\r\n}\r\n\r\nconst  fastify  =  Fastify({\r\n  logger:  true,\r\n})\r\n\r\nfastify.get('/', async  function  handler(_request, reply) {\r\n  const  stream  =  render({ children:  <App  />, title:  'Hello, World!' })\r\n\r\n  reply.type('text/html')\r\n  reply.send(stream)\r\n})\r\n\r\ntry {\r\n  await  fastify.listen({ port:  3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\nAnd with that, we are able to render our React components on the server side and stream them to our client. Here is the [link](https://github.com/DouglasdeMoura/react-fastify) to the repository.\n",
      "tags": [
        "Fastify",
        "Tips",
        "javascript",
        "Node.js"
      ],
      "translates": "p7310widh7o7h9e"
    }
  ],
  "rpc": [
    {
      "id": "7wlztbazb3q2ovr",
      "title": "Desenvolvendo APIs fortemente tipadas de ponta a ponta com tRPC",
      "slug": "desenvolvendo-apis-fortemente-tipadas-de-ponta-a-ponta-com-trpc",
      "locale": "pt-BR",
      "created": "2023-10-10T17:44:09.835Z",
      "updated": "2023-10-10T17:46:27.097Z",
      "content": "O desenvolvimento de <abbr title=\"Application Programming Interface\">API</abbr>s consiste em boa parte do trabalho feito por profissionais de tecnologia (pelo menos daqueles que trabalham com a web) e, ao longo do tempo, surgiram diversos padrões para ajudar a lidar com a complexidade de se desenvolver tais APIs, como <abbr title=\"Representational State Transfer Application Programming Interface\">REST</abbr>, GraphQL e o <abbr title=\"Remote Procedure Call\">RPC</abbr>. Neste artigo, irei tratar do último, usando o [tRPC](https://trpc.io/).\r\n\r\n## Mas o que é <abbr title=\"Remote Procedure Call\">RPC</abbr>?\r\n\r\nRPC (_Remote Procedure Call_ - em português: chamada de função remota) é um mecanismo de comunicação entre dois computadores, onde um pode ser identificado como _cliente_ e o outro por ser identificado como _servidor_. Do ponto de vista do cliente, chamar uma RPC é apenas uma questão de chamar uma função com seus devidos argumentos e aguardar uma resposta, a fim de continuar a execução do programa.\r\n\r\n![Diagrama de uma chamada de função remota (RPC)](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hzx0azc3l9qcathciv8o.png)\r\n\r\nE por que alguém faria isso? Ora, para distribuir seu sistema em servidores distintos, no momento que essa distribuição fizer sentido para o desenvolvimento do sistema.\r\n\r\n## Criando uma API com JavaScript e o padrão RPC\r\n\r\nAgora que já sabemos o que é RPC, vamos criar uma API simples que tira proveito deste padrão, usando o [Fastify](https://fastify.dev/)). Desse modo poderemos entender melhor o padrão RPC com um exemplo prático e, de quebra, entender como o tRPC funciona.\r\n\r\nVamos criar uma API que irá criar, ler, atualizar e excluir itens em uma lista de tarefa. Vamos começar com o código básico do nosso servidor. Atente-se aos comentários do código abaixo:\r\n\r\n```javascript\r\n// server/src/index.js\r\nimport Fastify from 'fastify'\r\n\r\n// Neste arquivo, definiremos todas as procedures disponíveis\r\n// na nossa API.\r\nimport * as procedures from './procedures.js'\r\n\r\nconst fastify = Fastify()\r\n\r\n// Nossa API terá um único endpoint: /rpc e\r\n// só aceita requisições do tipo POST.\r\nfastify.post('/rpc', async (req, res) => {\r\n  // Toda requisição para /rpc deverá informar\r\n  // qual procedure deseja chamar no corpo da requisição.\r\n  if (!req.body?.procedure) {\r\n    res.status(400).send({\r\n      title: 'Faltam parâmetros obrigatórios',\r\n      details: 'O parâmetro \"procedure\" é obrigatório.'\r\n    })\r\n  }\r\n\r\n  const procedure = procedures[req.body.procedure]\r\n  \r\n  // Se a procedure não estiver definida, retorna um erro\r\n  if (!procedure || typeof procedure !== 'function') {\r\n    return res.status(404).send({\r\n      title: 'Procedure não encontrada',\r\n      details: `A procedure ${req.body.procedure} não foi encontrada.`\r\n    })\r\n  }\r\n\r\n  try {\r\n    // Chama a procedure com os argumentos, também\r\n    // passados no corpo da requisição\r\n    const response = procedure?.(req.body.args)\r\n\r\n    // Eu espero que toda procedure retorne um objeto\r\n    // com _status_ e _data_.\r\n    return res.status(response?.status || 200).send(response?.data)\r\n  } catch (error) {\r\n    return res.status(error?.code || 500).send({\r\n      title: error?.title || 'Erro',\r\n      details: error?.message || 'Ocorreu um erro.'\r\n    })\r\n  }\r\n})\r\n\r\n// Inicia o servidor\r\ntry {\r\n  await fastify.listen({ port: 3000 })\r\n} catch (err) {\r\n  fastify.log.error(err)\r\n  process.exit(1)\r\n}\r\n\r\n```\r\n\r\nAdicionamos as nossas _procedures_:\r\n\r\n```javascript\r\n// server/src/procedures.js\r\n\r\n// Criamos um classe de erro personalizada\r\n// só para as nossas procedures.\r\nclass ProcedureError extends Error {\r\n  constructor(message, code, title) {\r\n    super(message)\r\n    this.title = title\r\n    this.code = code\r\n  }\r\n}\r\n\r\n// \"Banco de dados\"\r\nexport let tarefas = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\n// Funções de CRUD\r\n\r\nexport const getTarefas = () => {\r\n  return {\r\n    status: 200,\r\n    data: tarefas,\r\n  }\r\n}\r\n\r\nexport const getTarefa = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError('O id é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n  if (!tarefa) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  return {\r\n    status: 200,\r\n    data: tarefa,\r\n  }\r\n}\r\n\r\nexport const addTarefa = (title) => {\r\n  if (!title) {\r\n    throw new ProcedureError('O título é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const id = tarefas.length + 1\r\n  const tarefa = {\r\n    id,\r\n    title,\r\n  }\r\n\r\n  tarefas.push(tarefa)\r\n\r\n  return {\r\n    status: 201,\r\n    data: { id },\r\n  }\r\n}\r\n\r\nexport const updateTarefa = ({ id, title }) => {\r\n  if (!id || !title) {\r\n    throw new ProcedureError('O id e o título são obrigatórios', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas[index].title = title\r\n\r\n  return {\r\n    status: 200,\r\n  }\r\n}\r\n\r\nexport const deleteTarefa = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError('O id é obrigatório', 400, 'Faltam parâmetros obrigatórios')\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n  return {\r\n    status: 204,\r\n  }\r\n}\r\n```\r\n\r\nVamos iniciar a nossa API com `node src/index.js` e testar a chamada às nossas procedures. Vou usar o [`curl`](url) neste exemplo pois já que estamos usando um emulador de terminal, mas fique a vontade para usar a ferramenta que preferir. Ah, não se esqueça que todas as nossas requisições são do tipo `POST`:\r\n\r\n```bash\r\ncurl --json '{\"procedure\": \"getTarefas\"}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"getTarefa\", \"args\": 1}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"updateTarefa\", \"args\": {\"id\": 1, \"title\": \"Novo título\"}}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"addTarefa\", \"args\": \"Nova tarefa\"}' http://localhost:3000/rpc\r\n\r\ncurl --json '{\"procedure\": \"deleteTarefa\", \"args\": 4}' http://localhost:3000/rpc\r\n```\r\n\r\n## Adicionando TypeScript\r\n\r\nComo queremos uma API cujos tipos possam ser compartilhados do servidor para o cliente, vamos converter o nosso código JavaScript para TypeScript, da seguinte forma (e adicionar algumas melhorias ao mesmo tempo):\r\n\r\n```typescript\r\n// server/src/errors.ts\r\n\r\n// Vamos separar a nossa classe ProcedureError\r\n// em seu próprio arquivo:\r\n\r\nexport class ProcedureError extends Error {\r\n  code: number\r\n  title: string | undefined\r\n\r\n  constructor(message: string, code: number, title?: string) {\r\n    super(message)\r\n    this.title = title\r\n    this.code = code\r\n  }\r\n}\r\n```\r\n\r\nAgora, criamos o arquivo `app.ts` para colocar o código de configuração do servidor, excluindo a parte que inicia o servidor. Novamente, leia os comentários com atenção:\r\n\r\n```typescript\r\n// server/src/app.ts\r\n\r\nimport Fastify from 'fastify'\r\nimport * as procedures from './procedures'\r\nimport { ProcedureError } from './errors'\r\n\r\nexport const app = () => {\r\n  const fastify = Fastify()\r\n   \r\n  // Adiciona os tipos esperados no Body da requisição.\r\n  fastify.post<{\r\n    Body: {\r\n      procedure: string\r\n      args?: any\r\n    }\r\n  }>('/rpc', async (req, res) => {\r\n    if (!req.body?.procedure) {\r\n      res.status(400).send({\r\n        title: 'Faltam parâmetros obrigatórios',\r\n        details: 'O parâmetro \"procedure\" é obrigatório.'\r\n      })\r\n    }\r\n    \r\n    // Fazemos coerção do tipo das procedures.\r\n    const procedure = procedures?.[req.body?.procedure as keyof typeof procedures]\r\n\r\n    if (!procedure || typeof procedure !== 'function') {\r\n      return res.status(404).send({\r\n        title: 'Procedure não encontrada',\r\n        details: `A procedure ${req.body.procedure} não foi encontrada.`\r\n      })\r\n    }\r\n\r\n    try {\r\n      const response = procedure(req.body.args)\r\n      return res.status(response?.status || 200).send(response?.data)\r\n    } catch (error) {\r\n     // Definimos o tipo de erro esperado.\r\n      const { code, title, message } = error as ProcedureError\r\n\r\n      return res.status(code|| 500).send({\r\n        title: title || 'Erro',\r\n        details: message || 'Ocorreu um erro.'\r\n      })\r\n    }\r\n  })\r\n\r\n  return fastify\r\n}\r\n```\r\n\r\nO arquivo que inicializa o servidor:\r\n\r\n```typescript\r\n// server/src/server.ts\r\n\r\nimport { app } from './app'\r\n\r\nconst server = app()\r\n\r\ntry {\r\n  server.listen({ port: 3000 })\r\n} catch (err) {\r\n  server.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nE por fim, adicionaremos os tipos às nossas procedures:\r\n\r\n```typescript\r\n// server/src/procedures.ts\r\n\r\nimport { ProcedureError } from './errors'\r\n\r\n// O tipo de estrutura de dados do nosso CRUD.\r\ntype Tarefa = {\r\n  id: number\r\n  title: string\r\n}\r\n\r\nexport let tarefas: Tarefa[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\n// Tipo que define os argumentos e os retornos\r\n// esperados de cada procedure.\r\n// - TData é o tipo genérico que define o retorno dos dados.\r\n// - TArgs é o tipo genérico que define os argumentos que a procedure recebe.\r\ntype Procedure<TData = unknown, TArgs = undefined> = (args?: TArgs) => {\r\n  status: number\r\n  data?: TData\r\n}\r\n\r\nexport const getTarefas: Procedure<Tarefa[]> = () => {\r\n  return {\r\n    status: 200,\r\n    data: tarefas,\r\n  }\r\n}\r\n\r\nexport const getTarefa: Procedure<Tarefa, Tarefa['id']> = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError(\r\n      'O id é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n  if (!tarefa) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  return {\r\n    status: 200,\r\n    data: tarefa,\r\n  }\r\n}\r\n\r\nexport const addTarefa: Procedure<{ id: Tarefa['id'] }, Tarefa['title']> = (title) => {\r\n  if (!title) {\r\n    throw new ProcedureError(\r\n      'O título é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const id = tarefas.length + 1\r\n  const tarefa = {\r\n    id,\r\n    title,\r\n  }\r\n\r\n  tarefas.push(tarefa)\r\n\r\n  return {\r\n    status: 201,\r\n    data: { id },\r\n  }\r\n}\r\n\r\nexport const updateTarefa: Procedure<undefined, Tarefa> = (args) => {\r\n  if (!args?.id || !args?.title) {\r\n    throw new ProcedureError(\r\n      'O id e o título são obrigatórios',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === args.id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${args.id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas[index].title = args.title\r\n\r\n  return {\r\n    status: 200,\r\n  }\r\n}\r\n\r\nexport const deleteTarefa: Procedure<undefined, Tarefa['id']> = (id) => {\r\n  if (!id) {\r\n    throw new ProcedureError(\r\n      'O id é obrigatório',\r\n      400,\r\n      'Faltam parâmetros obrigatórios'\r\n    )\r\n  }\r\n\r\n  const index = tarefas.findIndex((todo) => todo.id === id)\r\n\r\n  if (index === -1) {\r\n    throw new ProcedureError(`Tarefa ${id} não encontrada`, 404)\r\n  }\r\n\r\n  tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n  return {\r\n    status: 204,\r\n  }\r\n}\r\n\r\n// Exportamos os tipos da nossa API\r\n// para serem usados do lado  do cliente.\r\nexport type API = {\r\n  getTarefas: typeof getTarefas\r\n  getTarefa: typeof getTarefa\r\n  addTarefa: typeof addTarefa\r\n  updateTarefa: typeof updateTarefa\r\n  deleteTarefa: typeof deleteTarefa\r\n}\r\n```\r\n\r\nCom tudo pronto, agora podemos criar o código do nosso cliente e a única coisa que irei usar do código do servidor é o tipo `API` (que definimos no arquivo `src/procedures.ts`). Claro, para fazer isso, o código do cliente ou do servidor devem estar no mesmo [monorepo](https://monorepo.tools/) ou serem compartilhados via [git submodules](https://git-scm.com/book/en/v2/Git-Tools-Submodules):\r\n\r\n```typescript\r\n// client/src/index.ts\r\n\r\n// Este é o caminho do código servidor, que pode estar no mesmo \r\n// monorepo ou pasta, a depender da sua preferência.\r\nimport type { API } from '../../server/src/procedures'\r\n\r\n// A função query é tudo que você precisará para\r\n// interagir com as procedures do servidor.\r\nconst query = <Procedure extends keyof API>(\r\n  procedure: Procedure,\r\n  ...args: Parameters<API[Procedure]>\r\n): Promise<ReturnType<API[Procedure]>> => {\r\n  return fetch('http://localhost:3000/rpc', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ procedure, args: args[0] }),\r\n  }).then((response) => response.json()) as any\r\n}\r\n```\r\n\r\nE agora, temos uma função que documenta todas as funções disponíveis no nosso servidor (e seus respectivos argumentos) apenas com seus tipos:\r\n\r\n![Mostrando o autocomplete das funções do servidor](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ujxxpvxxqaxxizgo6dvh.png)\r\n\r\nÉ importante notar que estamos utilizando `import type { API } from '../../server/src/procedures'` (ênfase no `type`), pois, depois de compilar o nosso código para JavaScript, não queremos nenhum código do servidor disponível no cliente.\r\n\r\nAgora que entendemos o que é RPC e construímos nossa própria API com este padrão, vamos ver como o [tRPC](https://trpc.io/) pode nos ajudar.\r\n\r\n## Introduzindo o tRPC\r\n\r\nO tRPC pega o conceito de uma API RPC que acabamos de implementar (e que foi inicialmente apresentado pelo Colin McDonell em seu [blog](https://colinhacks.com/essays/painless-typesafety)) e adiciona uma experiência de desenvolvimento ainda melhor, com validação dos dados de entrada e saída com [Zod](https://github.com/colinhacks/zod) (ou outra biblioteca de validação que você prefira) e até a geração do código do cliente com [@tanstack/query](https://tanstack.com/query/latest) e subscrições para envio de dados em tempo real via WebSockets. Dito isto, vamos refazer a API que construímos acima usando [tRPC](https://trpc.io/) e Fastify:\r\n\r\n```typescript\r\n// server/src/app.ts\r\nimport Fastify from 'fastify'\r\nimport { fastifyTRPCPlugin } from '@trpc/server/adapters/fastify'\r\nimport { appRouter } from './router'\r\n\r\nexport const app = () => {\r\n  const fastify = Fastify({ maxParamLength: 5000 })\r\n\r\n  fastify.register(fastifyTRPCPlugin, {\r\n    prefix: '/trpc',\r\n    trpcOptions: { router: appRouter},\r\n  });\r\n\r\n  return fastify\r\n}\r\n```\r\n\r\n```typescript\r\n// server/src/router.ts\r\nimport { initTRPC } from '@trpc/server'\r\nimport { z } from 'zod'\r\n\r\ntype Tarefa = {\r\n  id: number\r\n  title: string\r\n}\r\n\r\nexport let tarefas: Tarefa[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Tarefa 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Tarefa 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Tarefa 3',\r\n  },\r\n]\r\n\r\nexport const t = initTRPC.create()\r\nexport const appRouter = t.router({\r\n  // Toda operação de busca de dados é uma query\r\n  // ---------------------\\/\r\n  getTarefas: t.procedure.query(() => tarefas),\r\n  // Podemos tipar a entrada (e a saída de dados)\r\n  // usando a excelente biblioteca Zod.\r\n  getTarefa: t.procedure.input(z.number()).query(({ input: id }) => {\r\n    const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n    if (!tarefa) {\r\n      throw new Error('Tarefa não encontrada')\r\n    }\r\n\r\n    return tarefa\r\n  }),\r\n  // Toda operação de alteração de dados é uma mutation\r\n  // --------------------------------------\\/\r\n  addTarefa: t.procedure.input(z.string()).mutation(({ input: title }) => {\r\n    const id = tarefas.length + 1\r\n\r\n    tarefas.push({ id, title })\r\n\r\n    return id\r\n  }),\r\n  updateTarefa: t.procedure\r\n    .input(z.object({ id: z.number(), title: z.string() }))\r\n    .mutation(({ input: { id, title } }) => {\r\n      const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n      if (!tarefa) {\r\n        throw new Error('Tarefa não encontrada')\r\n      }\r\n\r\n      tarefa.title = title\r\n\r\n      return id\r\n    }),\r\n  deleteTarefa: t.procedure.input(z.number()).mutation(({ input: id }) => {\r\n    const tarefa = tarefas.find((todo) => todo.id === id)\r\n\r\n    if (!tarefa) {\r\n      throw new Error('Tarefa não encontrada')\r\n    }\r\n\r\n    tarefas = tarefas.filter((todo) => todo.id !== id)\r\n\r\n    return id\r\n  }),\r\n})\r\n\r\n// Exporta a definição de tipos do router\r\nexport type AppRouter = typeof appRouter\r\n```\r\n\r\n```typescript\r\nimport { app } from './app'\r\n\r\nconst server = app()\r\n\r\ntry {\r\n  server.listen({ port: 3000 })\r\n} catch (err) {\r\n  server.log.error(err)\r\n  process.exit(1)\r\n}\r\n```\r\n\r\nSe você leu os comentários do arquivo `server/src/router.ts` verá que o tRPC utiliza o mesmo modelo mental de operações do GraphQL, chamando as operações de busca de dados de _query_ e as operações de alteração de dados de _mutation_ (inclusive, pode-se dizer que o GraphQL é uma implementação de RPC que adiciona uma linguagem de busca e a documentação das entidades que são disponibilizadas pela API).\r\n\r\nNo cliente, podemos utilizar o serviço básico do tRPC (similar ao que fizemos em nossa função `query` no exemplo anterior:\r\n\r\n![Tipagem dos endpoint do cliente do tRPC](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gagmnv6duxkuzbu4lthj.png)\r\n\r\nOu, caso nosso frontend seja feito em React ou Next.js, podemos usar o cliente que se aproveita das facilidades do [@tanstack/query](https://tanstack.com/query/latest).\r\n\r\nSe você leu até e quer mexer no código utilizado neste artigo, acesse [este repositório](https://github.com/DouglasdeMoura/rpc-typesafe-api) no GitHub. Você também pode ver a [minha palestra no NodeBR #61](https://www.youtube.com/watch?v=tVMmVDELuLE) onde faço uma introdução ao tRPC.\r\n\r\n### Referências\r\n- [Desenvolvendo APIs fortemente tipadas de ponta a ponta com tRPC - NodeBR #61](https://www.youtube.com/watch?v=tVMmVDELuLE);\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "typescript",
        "API",
        "rpc"
      ],
      "translates": null
    },
    {
      "id": "2jd9yuw0klpgymp",
      "title": "What is a RPC (Remote Procedure Call)?",
      "slug": "what-is-a-rpc-remote-procedure-call",
      "locale": "en-US",
      "created": "2022-10-07T15:00:00.000Z",
      "updated": "2022-12-29T14:51:32.038Z",
      "content": "A **remote procedure call** (RPC) is a mechanism of communication between two computational environments, where one can be identified as a client, while the other can be identified as a server.\r\n\r\nFrom the client's point of view, the RPC is just a matter of calling a function with the desired arguments and await for the response, in order to continue the program's execution.\r\n\r\n![Diagram on how a RPC (remote procedure call) works](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/p3733ruz3n51tadloaaq.png)\r\n\r\nThus, using an RPC allows one programmer to distribute the system, according to their needs.\r\n\r\n**References:**\r\n\r\n- [RPC Vs Simple Procedure Call - Georgia Tech - Advanced Operating Systems](https://www.youtube.com/watch?v=gr7oaiUsxSU)\r\n- [How RPC works](https://learn.microsoft.com/en-us/windows/win32/rpc/how-rpc-works)\r\n- [Remote Procedure Calls (RPC)](https://users.cs.cf.ac.uk/Dave.Marshall/C/node33.html)\r\n- [Introduction to RPC Programming](https://web.archive.org/web/20030404113118/http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=0650&db=bks&srch=&fname=/SGI_Developer/IRIX_NetPG/sgi_html/ch04.html)\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "programming",
        "computerscience",
        "rpc",
        "beginners"
      ],
      "translates": null
    }
  ],
  "Terminal": [
    {
      "id": "ii9colsinjxkx1s",
      "title": "Aliases do Git que uso diariamente",
      "slug": "aliases-do-git-que-uso-diariamente",
      "locale": "pt-BR",
      "created": "2024-07-31T17:24:35.964Z",
      "updated": "2024-07-31T17:38:59.555Z",
      "content": "Eu gosto de sempre ter um terminal aberto enquanto estou trabalhando e, por conta disso, acabo interagindo com o Git no terminal com muito mais frequência do que através da GUI da IDE. Por conta disso, sempre configuro os seguintes aliases para facilitar o uso dos comandos que mais utilizo:\r\n\r\n```bash\r\nalias g=git\r\nalias ga='git add'\r\nalias gaa='git add --all'\r\nalias gb='git branch'\r\nalias gc='git commit'\r\nalias gac='git commit -ac'\r\nalias gca='git commit --amend'\r\nalias gca!='git commit --amend --no-verify'\r\nalias gcm='git commit -m'\r\nalias gco='git checkout'\r\nalias gcb='git checkout -b'\r\nalias gp='git pull -p'\r\nalias gpo='git push origin'\r\nalias gpo!='git push origin --force-with-lease'\r\n```\r\n\r\nSe você usa o Linux, MacOS ou WSL, basta copiar os _aliases_ acima para o arquivo de configuração do seu shell (`~/.bashrc` para [Bash](https://www.gnu.org/software/bash/), `~/.zshrc` para [ZSH](https://www.zsh.org/), `~/config/fish/config.fish` para [Fish](https://fishshell.com/)). Caso você utilize o PoweShell, adicione as seguintes funções ao seu arquivo `Microsoft.PowerShell_profile.ps1` (para editar com o VS Code, execute `code $PROFILE` no PowerShell):\r\n\r\n```pwsh\r\nfunction ga { git add $args }\r\nfunction gaa { git add --all $args }\r\nfunction gb { git branch $args }\r\nfunction gc { git commit $args }\r\nfunction gac {git commit -a -c $args }\r\nfunction gca { git commit --amend $args }\r\nfunction gca! { git commit --amend --no-verify $args }\r\nfunction gcm { git commit -m $args }\r\nfunction gco { git checkout $args }\r\nfunction gcb { git checkout -b $args }\r\nfunction gp { git pull -p $args }\r\nfunction gpo { git push origin $args }\r\nfunction gpo! { git push origin --force-with-lease $args }\r\n```\n",
      "tags": [
        "Linux",
        "Terminal"
      ],
      "translates": null
    }
  ],
  "Software Engineering": [
    {
      "id": "wxuu4bshveoe7ld",
      "title": "The Powerful Programmer",
      "slug": "the-powerful-programmer",
      "locale": "en-US",
      "created": "2024-01-23T13:26:41.726Z",
      "updated": "2024-01-25T17:03:59.369Z",
      "content": "Estimating, implementing, and deploying software rapidly is a characteristic of powerful programmers, as [Kent Beck](https://www.kentbeck.com/) mentions in his book [Extreme Programming Explained](https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/). In this article, I will explore these three points, inserting my own opinions on each one.\r\n\r\n## Estimation\r\n\r\nEstimating a software project is [difficult](https://jacobian.org/2021/may/20/estimation/), and there are various different techniques on how to estimate a software project. You can create a method, through your own experience, learn the method used by other companies but, you must pay attention that the central point is that you have a good idea of how much time the project will take. Projects have a beginning, middle, and end. Learn to estimate your work.\r\n\r\n## Implementation\r\n\r\nFor me, particularly, implementing is the most fun part of the project. And as with any job, we have to be pragmatic in the choice of language and tools. Being pragmatic in the choice does not necessarily mean using the same as everyone else, because, often, some tools continue to be strong in the market due to pure inertia. [Express](https://expressjs.com/) is a good example of this. Besides there being many better options with better support (like [Fastify](https://fastify.dev/)), many teams still start new projects with Express, even if it is not being maintained regularly, does not handle Promise rejections, etc.\r\n\r\nBesides the issue of tool choice, it is necessary that you **master** the technology stack of your project, being able to implement the best solutions in the shortest possible time. At the tip of your tongue, you have to know a good pattern to apply in the project, a good backend framework, a good frontend framework or even a good full-stack framework. And the experience of development cannot be left out. For the implementation to be fast, the understanding of the project must be easy, its documentation adequate, and its tests need to validate the **intention** flows of the user who will use the system.\r\n\r\n## Deployment\r\n\r\nToday, can you build an entire project and put it into production, by yourself? And I'm not talking about uploading your project to a completely managed platform, like Vercel, but rather, about taking a Linux machine, installing the necessary tools, and exposing your application to the web. And no, this is not any kind of purism. If you are not a startup that can burn a few million reais per year, without worrying about the cost of your infrastructure, you should, at least, know how to start your application and keep it active between server restarts (preferably using containers), put it behind a reverse proxy (like [NGINX](https://www.nginx.com/) or [Caddy](https://caddyserver.com/)), configure a firewall, and make a backup of the database in three different places. You can still bring up multiple instances of your application and use the same proxy tool as a load balancer to distribute your application's access to the different instances that are running.\n",
      "tags": [
        "Software Engineering",
        "Patterns",
        "Carreer"
      ],
      "translates": "jbn0kg24q86k7vn"
    }
  ],
  "Patterns": [
    {
      "id": "wxuu4bshveoe7ld",
      "title": "The Powerful Programmer",
      "slug": "the-powerful-programmer",
      "locale": "en-US",
      "created": "2024-01-23T13:26:41.726Z",
      "updated": "2024-01-25T17:03:59.369Z",
      "content": "Estimating, implementing, and deploying software rapidly is a characteristic of powerful programmers, as [Kent Beck](https://www.kentbeck.com/) mentions in his book [Extreme Programming Explained](https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/). In this article, I will explore these three points, inserting my own opinions on each one.\r\n\r\n## Estimation\r\n\r\nEstimating a software project is [difficult](https://jacobian.org/2021/may/20/estimation/), and there are various different techniques on how to estimate a software project. You can create a method, through your own experience, learn the method used by other companies but, you must pay attention that the central point is that you have a good idea of how much time the project will take. Projects have a beginning, middle, and end. Learn to estimate your work.\r\n\r\n## Implementation\r\n\r\nFor me, particularly, implementing is the most fun part of the project. And as with any job, we have to be pragmatic in the choice of language and tools. Being pragmatic in the choice does not necessarily mean using the same as everyone else, because, often, some tools continue to be strong in the market due to pure inertia. [Express](https://expressjs.com/) is a good example of this. Besides there being many better options with better support (like [Fastify](https://fastify.dev/)), many teams still start new projects with Express, even if it is not being maintained regularly, does not handle Promise rejections, etc.\r\n\r\nBesides the issue of tool choice, it is necessary that you **master** the technology stack of your project, being able to implement the best solutions in the shortest possible time. At the tip of your tongue, you have to know a good pattern to apply in the project, a good backend framework, a good frontend framework or even a good full-stack framework. And the experience of development cannot be left out. For the implementation to be fast, the understanding of the project must be easy, its documentation adequate, and its tests need to validate the **intention** flows of the user who will use the system.\r\n\r\n## Deployment\r\n\r\nToday, can you build an entire project and put it into production, by yourself? And I'm not talking about uploading your project to a completely managed platform, like Vercel, but rather, about taking a Linux machine, installing the necessary tools, and exposing your application to the web. And no, this is not any kind of purism. If you are not a startup that can burn a few million reais per year, without worrying about the cost of your infrastructure, you should, at least, know how to start your application and keep it active between server restarts (preferably using containers), put it behind a reverse proxy (like [NGINX](https://www.nginx.com/) or [Caddy](https://caddyserver.com/)), configure a firewall, and make a backup of the database in three different places. You can still bring up multiple instances of your application and use the same proxy tool as a load balancer to distribute your application's access to the different instances that are running.\n",
      "tags": [
        "Software Engineering",
        "Patterns",
        "Carreer"
      ],
      "translates": "jbn0kg24q86k7vn"
    }
  ],
  "Carreer": [
    {
      "id": "wxuu4bshveoe7ld",
      "title": "The Powerful Programmer",
      "slug": "the-powerful-programmer",
      "locale": "en-US",
      "created": "2024-01-23T13:26:41.726Z",
      "updated": "2024-01-25T17:03:59.369Z",
      "content": "Estimating, implementing, and deploying software rapidly is a characteristic of powerful programmers, as [Kent Beck](https://www.kentbeck.com/) mentions in his book [Extreme Programming Explained](https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/). In this article, I will explore these three points, inserting my own opinions on each one.\r\n\r\n## Estimation\r\n\r\nEstimating a software project is [difficult](https://jacobian.org/2021/may/20/estimation/), and there are various different techniques on how to estimate a software project. You can create a method, through your own experience, learn the method used by other companies but, you must pay attention that the central point is that you have a good idea of how much time the project will take. Projects have a beginning, middle, and end. Learn to estimate your work.\r\n\r\n## Implementation\r\n\r\nFor me, particularly, implementing is the most fun part of the project. And as with any job, we have to be pragmatic in the choice of language and tools. Being pragmatic in the choice does not necessarily mean using the same as everyone else, because, often, some tools continue to be strong in the market due to pure inertia. [Express](https://expressjs.com/) is a good example of this. Besides there being many better options with better support (like [Fastify](https://fastify.dev/)), many teams still start new projects with Express, even if it is not being maintained regularly, does not handle Promise rejections, etc.\r\n\r\nBesides the issue of tool choice, it is necessary that you **master** the technology stack of your project, being able to implement the best solutions in the shortest possible time. At the tip of your tongue, you have to know a good pattern to apply in the project, a good backend framework, a good frontend framework or even a good full-stack framework. And the experience of development cannot be left out. For the implementation to be fast, the understanding of the project must be easy, its documentation adequate, and its tests need to validate the **intention** flows of the user who will use the system.\r\n\r\n## Deployment\r\n\r\nToday, can you build an entire project and put it into production, by yourself? And I'm not talking about uploading your project to a completely managed platform, like Vercel, but rather, about taking a Linux machine, installing the necessary tools, and exposing your application to the web. And no, this is not any kind of purism. If you are not a startup that can burn a few million reais per year, without worrying about the cost of your infrastructure, you should, at least, know how to start your application and keep it active between server restarts (preferably using containers), put it behind a reverse proxy (like [NGINX](https://www.nginx.com/) or [Caddy](https://caddyserver.com/)), configure a firewall, and make a backup of the database in three different places. You can still bring up multiple instances of your application and use the same proxy tool as a load balancer to distribute your application's access to the different instances that are running.\n",
      "tags": [
        "Software Engineering",
        "Patterns",
        "Carreer"
      ],
      "translates": "jbn0kg24q86k7vn"
    }
  ],
  "computerscience": [
    {
      "id": "0mdfakkgsmugaex",
      "title": "Mastering Insertion Sort: A Detailed Guide",
      "slug": "mastering-insertion-sort-a-detailed-guide",
      "locale": "en-US",
      "created": "2024-01-26T23:06:53.913Z",
      "updated": "2024-01-26T23:06:53.913Z",
      "content": "Sorting is a fundamental operation in the field of computer science, and because of this, there are various algorithms available to solve this problem. Each one is chosen based on factors such as the number of items to sort, the degree of order already present, the computer architecture where the algorithm will be executed, the type of storage device, among others. In this article, we will explore the insertion sort algorithm, understanding its nuances, strengths, and limitations.\r\n\r\n## What is insertion sort?\r\nInsertion sort is a comparison-based algorithm that constructs its output one element at a time. It works similarly to the method we use to sort a deck of cards: we take one card at a time, compare it with the ones we already have in our hand, place the card in the correct position, and repeat this action until we finish our deck.\r\n\r\nIt is an adaptive algorithm, meaning it is efficient for small data sets, as well as other quadratic complexity algorithms ($O(n^2)$). It is simple to implement, requires a constant amount of memory, as changes in the list are made in the list itself (without the need to create a new list, which would double the use of memory), and is capable of sorting the list as it receives it.\r\n\r\n## How does insertion sort work?\r\n**Initialization:** We assume that the first element of our list is already sorted. We proceed to the next element, consider it as our key, and insert it in the correct position in the sorted part of the list;\r\n\r\n**Iteration:** For each item in the list (starting from the second element), we store the current item (key) and its position. Then we compare the key with the elements in the sorted part of the list (elements before the key);\r\n\r\n**Insertion:** If the current element in the sorted part is greater than the key, we move that element one position up. This creates space for the new key to be inserted;\r\n\r\n**Repositioning the Key:** We continue moving elements one position up until we find the correct position for the key. This position is found when we encounter an element that is less than or equal to the key or when we reach the beginning of the list;\r\n\r\n**Repeat:** The process is repeated for all the elements in the list.\r\n\r\n## Implementation in JavaScript\r\nTo better understand the algorithm, let's implement it in JavaScript:\r\n```js\r\n/**\r\n* Sorts an array of numbers using the insertion sort algorithm.\r\n* \r\n* @param  {number[]}  numbers - The list of numbers to be sorted.\r\n* @returns  {number[]} - The sorted list of numbers.\r\n*/\r\nfunction insertionSort(numbers) {\r\n  for (let i = 1; i < numbers.length; i++) {\r\n    const key = numbers[i]\r\n    let j = i - 1\r\n    \r\n    while (j >= 0 && numbers[j] > key) {\r\n      numbers[j  +  1] =  numbers[j]\r\n      j--\r\n    }\r\n\r\n    numbers[j  +  1] = key\r\n  }\r\n}\r\n``` \r\n## Complexity Analysis\r\n### Time Complexity\r\n**Best Case (Array is already sorted):** $O(n)$. This is because the inner loop (while) is not executed at all;\r\n**Average Case and Worst Case (Array is sorted in reverse order):** $O(n^2)$. In the worst case, each iteration will cause an element to be moved. This makes the algorithm inefficient for large data sets.\r\n## Space Complexity\r\n**Space Complexity:**  $O(1)$. Insertion sort is an in-place algorithm; it requires a constant amount of memory space.\n",
      "tags": [
        "algorithms",
        "computerscience",
        "tutorial"
      ],
      "translates": "y9hhvn3ra53p0qj"
    },
    {
      "id": "wcz61fkqkj5y6se",
      "title": "What is a first-class citizen in computer science?",
      "slug": "what-is-a-first-class-citizen-in-computer-science",
      "locale": "en-US",
      "created": "2022-10-08T15:00:00.000Z",
      "updated": "2022-12-29T14:51:27.174Z",
      "content": "In computer science, a **first-class citizen** is an entity that supports all operations available to other entities. Some of the available operations are:\r\n\r\n- They may be named by variables;\r\n- They may be passed as arguments to procedures;\r\n- They may be returned as the results of procedures;\r\n- They may be included in data structures.\r\n\r\nIt was the British computer scientist Christopher Strachey (1916-1975) [who first](https://link.springer.com/article/10.1023/A:1010052305354) coined this notion of first-class citizen status of elements in a programming language in the 1960s.\r\n\r\nIn JavaScript, for example, functions are first-class citizens, as all of the operations cited above can be applied to them. Let's see some examples:\r\n\r\n**A simple function definition in JavaScript**\r\n\r\n```javascript\r\nfunction sum(a, b) {\r\n  return a + b\r\n}\r\n```\r\n\r\n**Assigning a constant to a function**\r\n\r\n```javascript\r\nconst sum = (a, b) => a + b\r\n\r\n// or\r\n// \r\n// const sum = function (a, b) {\r\n//   a + b\r\n// }\r\n```\r\n\r\n**Passing a function as an argument**\r\n\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (typeof callback === 'function') {\r\n    callback(result) // pass the result as an argument of `callback`\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//        Pass `console.log` as the callback function\r\n// -------\\/\r\nsum(2, 2, console.log) // => 4\r\n```\r\n\r\n**Return a function**\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (callback) {\r\n    return () => callback(result)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//            The callback is the sum of the result with 2.\r\n// ------------------\\/\r\nconst fn = sum(2, 2, (result) => sum(2, result))\r\n//    ^---- Store the returned function in a variable\r\n\r\n//          Execute the function\r\n// ---------\\/\r\nconsole.log(fn()) // => 6\r\n```\r\n\r\n**Including a function in a data structure**\r\n\r\n```javascript\r\n// Store the basic operations in an object\r\nconst operations = {\r\n  sum: (a, b) => a + b,\r\n  sub: (a, b) => a - b,\r\n  mul: (a, b) => a * b,\r\n  div: (a, b) => a / b,\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "computerscience",
        "programming",
        "beginners"
      ],
      "translates": null
    },
    {
      "id": "2jd9yuw0klpgymp",
      "title": "What is a RPC (Remote Procedure Call)?",
      "slug": "what-is-a-rpc-remote-procedure-call",
      "locale": "en-US",
      "created": "2022-10-07T15:00:00.000Z",
      "updated": "2022-12-29T14:51:32.038Z",
      "content": "A **remote procedure call** (RPC) is a mechanism of communication between two computational environments, where one can be identified as a client, while the other can be identified as a server.\r\n\r\nFrom the client's point of view, the RPC is just a matter of calling a function with the desired arguments and await for the response, in order to continue the program's execution.\r\n\r\n![Diagram on how a RPC (remote procedure call) works](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/p3733ruz3n51tadloaaq.png)\r\n\r\nThus, using an RPC allows one programmer to distribute the system, according to their needs.\r\n\r\n**References:**\r\n\r\n- [RPC Vs Simple Procedure Call - Georgia Tech - Advanced Operating Systems](https://www.youtube.com/watch?v=gr7oaiUsxSU)\r\n- [How RPC works](https://learn.microsoft.com/en-us/windows/win32/rpc/how-rpc-works)\r\n- [Remote Procedure Calls (RPC)](https://users.cs.cf.ac.uk/Dave.Marshall/C/node33.html)\r\n- [Introduction to RPC Programming](https://web.archive.org/web/20030404113118/http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=0650&db=bks&srch=&fname=/SGI_Developer/IRIX_NetPG/sgi_html/ch04.html)\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "programming",
        "computerscience",
        "rpc",
        "beginners"
      ],
      "translates": null
    }
  ],
  "Banco de dados": [
    {
      "id": "58wjrq3hiqgs1kq",
      "title": "Aprenda sobre bancos de dados (e como escolher o melhor para sua aplicação) com este guia",
      "slug": "aprenda-sobre-bancos-de-dados-e-como-escolher-o-melhor-para-sua-aplicacao-com-este-guia",
      "locale": "pt-BR",
      "created": "2023-08-27T19:47:23.536Z",
      "updated": "2023-08-27T19:47:23.536Z",
      "content": "Se você trabalha com Node.js, já deve conhever o [Prisma](https://www.prisma.io/), um <abbr title=\"Object Relational Mapping, ou Mapeamento Objeto Relacional em português\">ORM</abbr> para TypeScript muito popular. Pois, esta mesma empresa mantém o [Prisma's Data Guide](https://www.prisma.io/dataguide), um guia que introduz o leitor a:\r\n\r\n- Bancos de dados;\r\n- Como escolher o melhor banco de dados para o seu caso de uso;\r\n- Instalação e uso de diferente tipos de bancos de dados:\r\n- Como modelar a estrutura dos dados da sua aplicação;\r\n- Quando (e porquê) utilizar soluções <em>serverless</em>.\r\n\r\nEu mesmo, acabei de ler este guia e acho que ele é muito útil, principalmente para quem está começando a se aventurar nesta área.\r\n\r\nAcesse:\r\n\r\n- [Prisma's Data Guide](https://www.prisma.io/dataguide)\n",
      "tags": [
        "Banco de dados",
        "Serverless",
        "ORM",
        "Prisma"
      ],
      "translates": null
    }
  ],
  "Serverless": [
    {
      "id": "58wjrq3hiqgs1kq",
      "title": "Aprenda sobre bancos de dados (e como escolher o melhor para sua aplicação) com este guia",
      "slug": "aprenda-sobre-bancos-de-dados-e-como-escolher-o-melhor-para-sua-aplicacao-com-este-guia",
      "locale": "pt-BR",
      "created": "2023-08-27T19:47:23.536Z",
      "updated": "2023-08-27T19:47:23.536Z",
      "content": "Se você trabalha com Node.js, já deve conhever o [Prisma](https://www.prisma.io/), um <abbr title=\"Object Relational Mapping, ou Mapeamento Objeto Relacional em português\">ORM</abbr> para TypeScript muito popular. Pois, esta mesma empresa mantém o [Prisma's Data Guide](https://www.prisma.io/dataguide), um guia que introduz o leitor a:\r\n\r\n- Bancos de dados;\r\n- Como escolher o melhor banco de dados para o seu caso de uso;\r\n- Instalação e uso de diferente tipos de bancos de dados:\r\n- Como modelar a estrutura dos dados da sua aplicação;\r\n- Quando (e porquê) utilizar soluções <em>serverless</em>.\r\n\r\nEu mesmo, acabei de ler este guia e acho que ele é muito útil, principalmente para quem está começando a se aventurar nesta área.\r\n\r\nAcesse:\r\n\r\n- [Prisma's Data Guide](https://www.prisma.io/dataguide)\n",
      "tags": [
        "Banco de dados",
        "Serverless",
        "ORM",
        "Prisma"
      ],
      "translates": null
    }
  ],
  "ORM": [
    {
      "id": "58wjrq3hiqgs1kq",
      "title": "Aprenda sobre bancos de dados (e como escolher o melhor para sua aplicação) com este guia",
      "slug": "aprenda-sobre-bancos-de-dados-e-como-escolher-o-melhor-para-sua-aplicacao-com-este-guia",
      "locale": "pt-BR",
      "created": "2023-08-27T19:47:23.536Z",
      "updated": "2023-08-27T19:47:23.536Z",
      "content": "Se você trabalha com Node.js, já deve conhever o [Prisma](https://www.prisma.io/), um <abbr title=\"Object Relational Mapping, ou Mapeamento Objeto Relacional em português\">ORM</abbr> para TypeScript muito popular. Pois, esta mesma empresa mantém o [Prisma's Data Guide](https://www.prisma.io/dataguide), um guia que introduz o leitor a:\r\n\r\n- Bancos de dados;\r\n- Como escolher o melhor banco de dados para o seu caso de uso;\r\n- Instalação e uso de diferente tipos de bancos de dados:\r\n- Como modelar a estrutura dos dados da sua aplicação;\r\n- Quando (e porquê) utilizar soluções <em>serverless</em>.\r\n\r\nEu mesmo, acabei de ler este guia e acho que ele é muito útil, principalmente para quem está começando a se aventurar nesta área.\r\n\r\nAcesse:\r\n\r\n- [Prisma's Data Guide](https://www.prisma.io/dataguide)\n",
      "tags": [
        "Banco de dados",
        "Serverless",
        "ORM",
        "Prisma"
      ],
      "translates": null
    }
  ],
  "Prisma": [
    {
      "id": "58wjrq3hiqgs1kq",
      "title": "Aprenda sobre bancos de dados (e como escolher o melhor para sua aplicação) com este guia",
      "slug": "aprenda-sobre-bancos-de-dados-e-como-escolher-o-melhor-para-sua-aplicacao-com-este-guia",
      "locale": "pt-BR",
      "created": "2023-08-27T19:47:23.536Z",
      "updated": "2023-08-27T19:47:23.536Z",
      "content": "Se você trabalha com Node.js, já deve conhever o [Prisma](https://www.prisma.io/), um <abbr title=\"Object Relational Mapping, ou Mapeamento Objeto Relacional em português\">ORM</abbr> para TypeScript muito popular. Pois, esta mesma empresa mantém o [Prisma's Data Guide](https://www.prisma.io/dataguide), um guia que introduz o leitor a:\r\n\r\n- Bancos de dados;\r\n- Como escolher o melhor banco de dados para o seu caso de uso;\r\n- Instalação e uso de diferente tipos de bancos de dados:\r\n- Como modelar a estrutura dos dados da sua aplicação;\r\n- Quando (e porquê) utilizar soluções <em>serverless</em>.\r\n\r\nEu mesmo, acabei de ler este guia e acho que ele é muito útil, principalmente para quem está começando a se aventurar nesta área.\r\n\r\nAcesse:\r\n\r\n- [Prisma's Data Guide](https://www.prisma.io/dataguide)\n",
      "tags": [
        "Banco de dados",
        "Serverless",
        "ORM",
        "Prisma"
      ],
      "translates": null
    }
  ],
  "Algoritmos": [
    {
      "id": "y9hhvn3ra53p0qj",
      "title": "Dominando o algoritmo de ordenação por inserção: um guia detalhado",
      "slug": "dominando-o-algoritmo-de-ordenacao-por-insercao-um-guia-detalhado",
      "locale": "pt-BR",
      "created": "2024-01-26T23:00:25.261Z",
      "updated": "2024-01-26T23:07:02.602Z",
      "content": "Ordenação é uma operação fundamental no campo da ciência da computação e, por conta disso, existem vários algoritmos disponíveis para resolver este problema, cada um com sua aplicação determinada pela quantidade de itens a ordenar, o grau de ordenação já presente, a arquitetura do computador onde o algoritmo será executado, tipo de dispositivo de armazenamento, entre outros fatores. Neste artigo, exploraremos o algoritmo de ordenação por inserção, entendendo suas nuances, forças e limitações.\r\n\r\n## O que é ordenação por inserção?\r\n\r\nOrdenação por inserção é um algoritmo baseado em comparação que constrói a sua saída um elemento por vez. Ele funciona de maneira análoga ao método que utilizamos para ordenar as cartas de um baralho: pegamos uma carta de cada vez, comparamos com os anteriores que já estão na nossa mão, colocamos a carta na posição correta e, repetimos esta ação até o fim do nosso baralho.\r\n\r\nÉ um algoritmo adaptativo, o que significa que é eficiente para pequenos conjuntos de dados, assim como outros algoritmos de complexidade quadrática ($O(n^2)$). É simples de implementar, requer um valor constante de memória, pois as alterações na lista são feitas na própria lista (sem a necessidade de criar uma nova lista, o que dobraria o uso da memória) e é capaz de ordenar a lista enquanto a recebe.\r\n\r\n## Como a ordenação por inserção funciona?\r\n\r\n1.  **Inicialização**: Assumimos que o primeiro elemento da nossa lista já está ordenado. Prosseguimos para o próximo elemento, consideramos ele como nossa chave e o inserimos na posição correta na parte ordenada da lista;\r\n    \r\n2.  **Iteração**: Para cada item da lista (começando do segundo elemento), armazenamos o item atual (chave) e sua posição. Comparamos então a chave com os elementos na parte ordenada da lista (elementos antes da chave);\r\n    \r\n3.  **Inserção**: Se o elemento atual na parte ordenada for maior que a chave, movemos esse elemento uma posição acima. Isso cria espaço para a nova chave ser inserida;\r\n    \r\n4.  **Reposicionamento da Chave**: Continuamos movendo elementos uma posição acima até encontrarmos a posição correta para a chave. Esta posição é encontrada quando batemos em um elemento menor ou igual à chave ou alcançamos o início da lista.\r\n    \r\n5.  **Repetir**: O processo é repetido para todos os elementos da lista.\r\n    \r\n\r\n## Implementação em JavaScript\r\n\r\nPara melhor entendermos o algoritmo, vamos implementá-lo em JavaScript:\r\n\r\n```js\r\n/**\r\n* Ordena um array de números usando o algoritmo de ordenação por inserção.\r\n* \r\n* @param  {number[]}  numbers - A lista de números que deve ser ordenada.\r\n* @returns  {number[]} - A lista de números ordenada.\r\n*/\r\nfunction insertionSort(numbers) {\r\n  for (let i = 1; i < numbers.length; i++) {\r\n    const key = numbers[i]\r\n    let j = i - 1\r\n    \r\n    while (j >= 0 && numbers[j] > key) {\r\n      numbers[j  +  1] =  numbers[j]\r\n      j--\r\n    }\r\n\r\n    numbers[j  +  1] = key\r\n  }\r\n}\r\n``` \r\n\r\n## Análise da complexidade\r\n\r\n### Complexidade de tempo\r\n\r\n-   **Melhor caso (Array já está ordenado)**:  $O(n)$. Isso porque o laço interno (`while`) não é executado nenhuma vez;\r\n-   **Caso médio e pior caso (Array está ordenado de maneira reversa)**: $O(n^2)$. No pior caso, cada iteração fará com que um elemento seja movido. Isso faz este algoritmo ser ineficiente para conjuntos grandes de dados.\r\n\r\n### Complexidade de espaço\r\n\r\n-   **Complexidade de espaço**: $O(1)$. ordenação por inserção é um algoritmo _in-place_; requer um valor constante de espaço na memória.\n",
      "tags": [
        "Algoritmos",
        "Ciência da Computação",
        "tutorial"
      ],
      "translates": "0mdfakkgsmugaex"
    },
    {
      "id": "q56goy3mqfdb3hu",
      "title": "Introdução à algoritmos",
      "slug": "introducao-a-algoritmos",
      "locale": "pt-BR",
      "created": "2024-01-25T16:53:40.103Z",
      "updated": "2024-01-25T17:00:20.007Z",
      "content": "## O que é um algoritmo?\r\n\r\nUm _algoritmo_ é uma especificação precisa e sem ambiguidades de uma sequência de passos computacionais que podem ser realizados mecanicamente[^1]. A partir disso, podemos pensar em uma função que recebe um valor ou um conjunto de valores de **entrada** e retorna um valor ou conjunto de valores em sua **saída**.\r\n\r\nUm algoritmo pode ser **correto** e **incorreto**. Ele é correto quando, dados seus parâmetros de entrada, sua saída for correta e, portanto, **resolve** o problema computacional para qual foi desenvolvido. Um algoritmo incorreto, por sua vez, pode parar com uma saída incorreta ou mesmo não parar para algumas instâncias de entrada. Ainda assim, alguns algoritmos incorretos ainda podem ter aplicações úteis.\r\n\r\nPodem haver diferentes algoritmos que resolvem um mesmo problema, alguns mais eficientes, isto é, mais velozes do que outros. Mas, nem todo problema possui uma solução eficiente. Tais problemas são conhecidos como <abbr title=\"Tempo polinomial não-determinístico\">NP</abbr>-completos.\r\n\r\nProblemas <abbr title=\"Tempo polinomial não-determinístico\">NP</abbr>-completos são muito interessantes:  mesmo que nenhum algoritmo eficiente tenha sido encontrado para esta classe de problemas, não se provou que que não é possível encontrar um algoritmo eficiente (da classe P, que pode ser resolvido em tempo polinomial) para tal problema. Além disso, se houver um algoritmo eficiente para resolver um problema NP-completo, significa que existe um algoritmo eficiente para todos os problemas <abbr title=\"tempo polinomial não-determinístico\">NP</abbr>-completos.\r\n\r\n<Alert title=\"P vs. NP\">\r\nP vs. NP é uma questão fundamental em ciência da computação, especificamente no campo da teoria da complexidade computacional. Ela diz respeito à relação entre duas classes de problemas. A classe P consiste em problemas de decisão (problemas com resposta sim ou não) que podem ser resolvidos rapidamente (em tempo polinomial) por um computador determinístico, o que significa que o tempo necessário para resolver o problema cresce a uma taxa gerenciável à medida que o tamanho da entrada aumenta. Por outro lado, a classe NP consiste em problemas de decisão para os quais, se uma solução for fornecida, ela pode ser verificada rapidamente (também em tempo polinomial) por um computador determinístico.\r\n\r\nA questão crucial, \"P é igual a NP?\", pergunta se todo problema cuja solução pode ser verificada rapidamente (NP) também pode ser resolvido rapidamente (P). Isso é profundo porque, se P fosse igual a NP, significaria que todos os problemas que podemos verificar rapidamente também podem ser resolvidos rapidamente. Isso tem implicações vastas para vários campos, incluindo criptografia, otimização e design de algoritmos.\r\n</Alert>\r\n\r\n## Complexidade de algoritmos\r\n\r\nQuando falamos de algoritmos, na maior parte do tempo estamos interessados na taxa de crescimento de tempo e espaço requeridos para resolver instâncias cada vez maiores de determinados problemas. Se estamos interessados no tempo que determinado algoritmo leva para executar sua função, estamos interessados um sua _complexidade temporal_. E o comportamento do limite da complexidade temporal do nosso algoritmo em relação ao aumento das instâncias do problema é chamado de _complexidade assintótica temporal_. E é esse complexidade assintótica que que determina o tamanho do problema que pode ser resolvido por algoritmos[^2].\r\n\r\nSe um algoritmo leva um tempo $cn^2$ para uma constante $c$ para processar um entrada de tamanho $n$, dizemos que a complexidade do algoritmo é da _ordem de $n^2$_, ou, em notação Bachmann–Landau (também chamada de notação assintótica e notação **Big O**), o algoritmo tem a complexidade $O(n^2)$.\r\n\r\nPara termos uma melhor ideia do que isso significa em relação ao tempo de execução do nosso algoritmo, considere que uma unidade de tempo no computador em que executamos o nosso algoritmo é de 1 milissegundo. Agora, queremos saber qual o tamanho máximo da entrada que o nosso algoritmo pode processar dentro de um determinado limite de tempo (um segundo, um hora e um dia). Observe, na tabela abaixo, o quanto a complexidade do algoritmo interfere no tamanho máximo da entrada que ele pode tratar, dado o limite de tempo:\r\n\r\n| Complexidade de tempo | 1 segundo | 1 minuto | 1 hora |\r\n|--|--|--|--|\r\n| $n$ | 1000 | 60000 | 360000 |\r\n| $n \\log_2 n$ | 140 | 4895 | 204095 |\r\n| $n^2$ | 31 | 244 | 1897 |\r\n| $n^3$ | 10 | 39 | 153 |\r\n| $2^n$ | 9 | 15 | 21 |\r\n\r\nAinda que possamos construir computadores mais rápidos, o aumento na velocidade de execução dos algoritmos menos eficientes não seria tão significativo, de modo que que devemos buscar sempre o algoritmo de melhor eficiência para tratar determinado problema.\r\n\r\n[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. _Foundations of Computer Science_. Stanford, 1994.\r\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. _The Design and Analysis of Computer Algorithms_. Addison-Wesley, 1974.\n",
      "tags": [
        "Iniciantes",
        "Algoritmos",
        "Ciência da Computação"
      ],
      "translates": "fk4euqpea154kb9"
    }
  ],
  "Ciência da Computação": [
    {
      "id": "y9hhvn3ra53p0qj",
      "title": "Dominando o algoritmo de ordenação por inserção: um guia detalhado",
      "slug": "dominando-o-algoritmo-de-ordenacao-por-insercao-um-guia-detalhado",
      "locale": "pt-BR",
      "created": "2024-01-26T23:00:25.261Z",
      "updated": "2024-01-26T23:07:02.602Z",
      "content": "Ordenação é uma operação fundamental no campo da ciência da computação e, por conta disso, existem vários algoritmos disponíveis para resolver este problema, cada um com sua aplicação determinada pela quantidade de itens a ordenar, o grau de ordenação já presente, a arquitetura do computador onde o algoritmo será executado, tipo de dispositivo de armazenamento, entre outros fatores. Neste artigo, exploraremos o algoritmo de ordenação por inserção, entendendo suas nuances, forças e limitações.\r\n\r\n## O que é ordenação por inserção?\r\n\r\nOrdenação por inserção é um algoritmo baseado em comparação que constrói a sua saída um elemento por vez. Ele funciona de maneira análoga ao método que utilizamos para ordenar as cartas de um baralho: pegamos uma carta de cada vez, comparamos com os anteriores que já estão na nossa mão, colocamos a carta na posição correta e, repetimos esta ação até o fim do nosso baralho.\r\n\r\nÉ um algoritmo adaptativo, o que significa que é eficiente para pequenos conjuntos de dados, assim como outros algoritmos de complexidade quadrática ($O(n^2)$). É simples de implementar, requer um valor constante de memória, pois as alterações na lista são feitas na própria lista (sem a necessidade de criar uma nova lista, o que dobraria o uso da memória) e é capaz de ordenar a lista enquanto a recebe.\r\n\r\n## Como a ordenação por inserção funciona?\r\n\r\n1.  **Inicialização**: Assumimos que o primeiro elemento da nossa lista já está ordenado. Prosseguimos para o próximo elemento, consideramos ele como nossa chave e o inserimos na posição correta na parte ordenada da lista;\r\n    \r\n2.  **Iteração**: Para cada item da lista (começando do segundo elemento), armazenamos o item atual (chave) e sua posição. Comparamos então a chave com os elementos na parte ordenada da lista (elementos antes da chave);\r\n    \r\n3.  **Inserção**: Se o elemento atual na parte ordenada for maior que a chave, movemos esse elemento uma posição acima. Isso cria espaço para a nova chave ser inserida;\r\n    \r\n4.  **Reposicionamento da Chave**: Continuamos movendo elementos uma posição acima até encontrarmos a posição correta para a chave. Esta posição é encontrada quando batemos em um elemento menor ou igual à chave ou alcançamos o início da lista.\r\n    \r\n5.  **Repetir**: O processo é repetido para todos os elementos da lista.\r\n    \r\n\r\n## Implementação em JavaScript\r\n\r\nPara melhor entendermos o algoritmo, vamos implementá-lo em JavaScript:\r\n\r\n```js\r\n/**\r\n* Ordena um array de números usando o algoritmo de ordenação por inserção.\r\n* \r\n* @param  {number[]}  numbers - A lista de números que deve ser ordenada.\r\n* @returns  {number[]} - A lista de números ordenada.\r\n*/\r\nfunction insertionSort(numbers) {\r\n  for (let i = 1; i < numbers.length; i++) {\r\n    const key = numbers[i]\r\n    let j = i - 1\r\n    \r\n    while (j >= 0 && numbers[j] > key) {\r\n      numbers[j  +  1] =  numbers[j]\r\n      j--\r\n    }\r\n\r\n    numbers[j  +  1] = key\r\n  }\r\n}\r\n``` \r\n\r\n## Análise da complexidade\r\n\r\n### Complexidade de tempo\r\n\r\n-   **Melhor caso (Array já está ordenado)**:  $O(n)$. Isso porque o laço interno (`while`) não é executado nenhuma vez;\r\n-   **Caso médio e pior caso (Array está ordenado de maneira reversa)**: $O(n^2)$. No pior caso, cada iteração fará com que um elemento seja movido. Isso faz este algoritmo ser ineficiente para conjuntos grandes de dados.\r\n\r\n### Complexidade de espaço\r\n\r\n-   **Complexidade de espaço**: $O(1)$. ordenação por inserção é um algoritmo _in-place_; requer um valor constante de espaço na memória.\n",
      "tags": [
        "Algoritmos",
        "Ciência da Computação",
        "tutorial"
      ],
      "translates": "0mdfakkgsmugaex"
    },
    {
      "id": "q56goy3mqfdb3hu",
      "title": "Introdução à algoritmos",
      "slug": "introducao-a-algoritmos",
      "locale": "pt-BR",
      "created": "2024-01-25T16:53:40.103Z",
      "updated": "2024-01-25T17:00:20.007Z",
      "content": "## O que é um algoritmo?\r\n\r\nUm _algoritmo_ é uma especificação precisa e sem ambiguidades de uma sequência de passos computacionais que podem ser realizados mecanicamente[^1]. A partir disso, podemos pensar em uma função que recebe um valor ou um conjunto de valores de **entrada** e retorna um valor ou conjunto de valores em sua **saída**.\r\n\r\nUm algoritmo pode ser **correto** e **incorreto**. Ele é correto quando, dados seus parâmetros de entrada, sua saída for correta e, portanto, **resolve** o problema computacional para qual foi desenvolvido. Um algoritmo incorreto, por sua vez, pode parar com uma saída incorreta ou mesmo não parar para algumas instâncias de entrada. Ainda assim, alguns algoritmos incorretos ainda podem ter aplicações úteis.\r\n\r\nPodem haver diferentes algoritmos que resolvem um mesmo problema, alguns mais eficientes, isto é, mais velozes do que outros. Mas, nem todo problema possui uma solução eficiente. Tais problemas são conhecidos como <abbr title=\"Tempo polinomial não-determinístico\">NP</abbr>-completos.\r\n\r\nProblemas <abbr title=\"Tempo polinomial não-determinístico\">NP</abbr>-completos são muito interessantes:  mesmo que nenhum algoritmo eficiente tenha sido encontrado para esta classe de problemas, não se provou que que não é possível encontrar um algoritmo eficiente (da classe P, que pode ser resolvido em tempo polinomial) para tal problema. Além disso, se houver um algoritmo eficiente para resolver um problema NP-completo, significa que existe um algoritmo eficiente para todos os problemas <abbr title=\"tempo polinomial não-determinístico\">NP</abbr>-completos.\r\n\r\n<Alert title=\"P vs. NP\">\r\nP vs. NP é uma questão fundamental em ciência da computação, especificamente no campo da teoria da complexidade computacional. Ela diz respeito à relação entre duas classes de problemas. A classe P consiste em problemas de decisão (problemas com resposta sim ou não) que podem ser resolvidos rapidamente (em tempo polinomial) por um computador determinístico, o que significa que o tempo necessário para resolver o problema cresce a uma taxa gerenciável à medida que o tamanho da entrada aumenta. Por outro lado, a classe NP consiste em problemas de decisão para os quais, se uma solução for fornecida, ela pode ser verificada rapidamente (também em tempo polinomial) por um computador determinístico.\r\n\r\nA questão crucial, \"P é igual a NP?\", pergunta se todo problema cuja solução pode ser verificada rapidamente (NP) também pode ser resolvido rapidamente (P). Isso é profundo porque, se P fosse igual a NP, significaria que todos os problemas que podemos verificar rapidamente também podem ser resolvidos rapidamente. Isso tem implicações vastas para vários campos, incluindo criptografia, otimização e design de algoritmos.\r\n</Alert>\r\n\r\n## Complexidade de algoritmos\r\n\r\nQuando falamos de algoritmos, na maior parte do tempo estamos interessados na taxa de crescimento de tempo e espaço requeridos para resolver instâncias cada vez maiores de determinados problemas. Se estamos interessados no tempo que determinado algoritmo leva para executar sua função, estamos interessados um sua _complexidade temporal_. E o comportamento do limite da complexidade temporal do nosso algoritmo em relação ao aumento das instâncias do problema é chamado de _complexidade assintótica temporal_. E é esse complexidade assintótica que que determina o tamanho do problema que pode ser resolvido por algoritmos[^2].\r\n\r\nSe um algoritmo leva um tempo $cn^2$ para uma constante $c$ para processar um entrada de tamanho $n$, dizemos que a complexidade do algoritmo é da _ordem de $n^2$_, ou, em notação Bachmann–Landau (também chamada de notação assintótica e notação **Big O**), o algoritmo tem a complexidade $O(n^2)$.\r\n\r\nPara termos uma melhor ideia do que isso significa em relação ao tempo de execução do nosso algoritmo, considere que uma unidade de tempo no computador em que executamos o nosso algoritmo é de 1 milissegundo. Agora, queremos saber qual o tamanho máximo da entrada que o nosso algoritmo pode processar dentro de um determinado limite de tempo (um segundo, um hora e um dia). Observe, na tabela abaixo, o quanto a complexidade do algoritmo interfere no tamanho máximo da entrada que ele pode tratar, dado o limite de tempo:\r\n\r\n| Complexidade de tempo | 1 segundo | 1 minuto | 1 hora |\r\n|--|--|--|--|\r\n| $n$ | 1000 | 60000 | 360000 |\r\n| $n \\log_2 n$ | 140 | 4895 | 204095 |\r\n| $n^2$ | 31 | 244 | 1897 |\r\n| $n^3$ | 10 | 39 | 153 |\r\n| $2^n$ | 9 | 15 | 21 |\r\n\r\nAinda que possamos construir computadores mais rápidos, o aumento na velocidade de execução dos algoritmos menos eficientes não seria tão significativo, de modo que que devemos buscar sempre o algoritmo de melhor eficiência para tratar determinado problema.\r\n\r\n[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. _Foundations of Computer Science_. Stanford, 1994.\r\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. _The Design and Analysis of Computer Algorithms_. Addison-Wesley, 1974.\n",
      "tags": [
        "Iniciantes",
        "Algoritmos",
        "Ciência da Computação"
      ],
      "translates": "fk4euqpea154kb9"
    }
  ],
  "Zod": [
    {
      "id": "j58woxctz6b7mpo",
      "title": "Validate your environment variables with Zod",
      "slug": "validate-your-environment-variables-with-zod",
      "locale": "en-US",
      "created": "2024-08-15T14:14:26.654Z",
      "updated": "2024-08-15T14:17:19.617Z",
      "content": "[Zod](https://github.com/colinhacks/zod) is the most famous validation library in the TypeScript ecosystem. With Zod, you create a _schema_ and validate your data according to the schema. Observe the schema below:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst UserSchema = z.object({\r\n  name: z.string().min(1),\r\n  age: z.number({ coerce: true }).min(18),\r\n  email: z.string().email(),\r\n})\r\n```\r\n\r\nThis schema can be used to validate an object as follows:\r\n\r\n```ts\r\nconst data = {\r\n  name: 'John Doe',\r\n  age: 18,\r\n  email: 'john@example.com',\r\n}\r\n\r\n// If there is a validation error, it throws an error\r\nconst validatedData = UserSchema.parse(data)\r\n\r\n// If there is a validation error, it returns an error object for you to handle later\r\nconst safeValidatedData = UserSchema.safeParse(data)\r\n// => { success: false; error: ZodError }\r\n// => { success: true; data: 'billie' }\r\n```\r\n\r\nZod is capable of performing various types of validations on your data, so be sure to read the [documentation](https://github.com/colinhacks/zod) for more details.\r\n\r\n## Validating Environment Variables\r\n\r\nWe can use Zod to validate the values present in [`process.env`](https://nodejs.org/api/process.html#processenv) and even process them before using the environment variables in our application. Usually, I like to create an `environment.ts` file, as in the example below:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst environmentSchema = z.object({\r\n  // Define the possible values for NODE_ENV, always leaving a default value:\r\n  NODE_ENV: z.enum(['test', 'development', 'production']).default('production'),\r\n  // Environment variables are always defined as strings. Here, convert the string to a number and set a default value:\r\n  PORT: z.number({ coerce: true }).default(3000),\r\n})\r\n\r\nexport const env = environmentSchema.parse(process.env)\r\n```\r\n\r\nThen, just import the variable and use it throughout my application:\r\n\r\n```ts\r\nimport Fastify from 'fastify'\r\nimport { env } from './environment.js'\r\n\r\nconst app = Fastify({ logger: true })\r\napp.listen({ port: env.PORT }, (err) => {\r\n  if (err) {\r\n    app.log.error(err)\r\n    process.exit(1)\r\n  }\r\n})\r\n```\n",
      "tags": [
        "Zod",
        "TypeScript",
        "Tips"
      ],
      "translates": "uybmrtdz9y7iuzk"
    },
    {
      "id": "uybmrtdz9y7iuzk",
      "title": "Valide suas variáveis de ambiente com Zod",
      "slug": "valide-suas-variaveis-de-ambiente-com-zod",
      "locale": "pt-BR",
      "created": "2024-08-15T13:51:14.579Z",
      "updated": "2024-08-15T14:16:39.812Z",
      "content": "[Zod](https://github.com/colinhacks/zod) é a biblioteca de validação mais famosa do ecossistema TypeScript. Com Zod, você cria um _schema_ e valida seus dados de acordo com o _schema_. Observe o _schema_ abaixo:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst UserSchema = z.object({\r\n  name: z.string().min(1),\r\n  age: z.number({ coerce: true }).min(18),\r\n  email: z.string().email(),\r\n})\r\n```\r\n\r\nEste _schema_ pode ser usado para validar um objeto da seguinte maneira:\r\n\r\n```ts\r\nconst data = {\r\n  name: 'John Doe',\r\n  age: 18,\r\n  email: 'john@example.com',\r\n}\r\n\r\n// Caso haja um erro na validação, lança um erro\r\nconst validatedData = UserSchema.parse(data)\r\n\r\n// Caso haja um erro na validação, retorna um objeto com erro, para você tratar posteriormente\r\nconst safeValidatedData = UserSchema.safeParse(data)\r\n// => { success: false; error: ZodError }\r\n// => { success: true; data: 'billie' }\r\n```\r\n\r\nO Zod é capaz de fazer diversos tipos de validações nos seus dados, certifique-se de ler a [documentação](https://github.com/colinhacks/zod) para mais detalhes.\r\n\r\n## Validando as variáveis de ambiente\r\n\r\nPodemos usar o Zod para validar os valores presentes no [`process.env`](https://nodejs.org/api/process.html#processenv) e até processá-los antes de usar as variáveis de ambiente na nossa aplicação. Normalmente, eu gosto de criar um arquivo `environment.ts`, como no exemplo abaixo:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst environmentSchema = z.object({\r\n  // Define os valores possíveis para o NODE_ENV, deixando sempre um valor padrão:\r\n  NODE_ENV: z.enum(['test', 'development', 'production']).default('production'),\r\n  // Variáveis de ambiente sempre são definidas como strings. Aqui, transformo a string em número e defino um valor padrão: \r\n  PORT: z.number({ coerce: true }).default(3000),\r\n})\r\n\r\nexport const env = environmentSchema.parse(process.env)\r\n```\r\n\r\nDepois, é só importar a variável e usar ao longo da minha aplicação:\r\n\r\n```ts\r\nimport Fastify from 'fastify'\r\nimport { env } from './environment.js'\r\n\r\nconst app = Fastify({ logger: true })\r\napp.listen({ port: env.PORT }, (err) => {\r\n  if (err) {\r\n    app.log.error(err)\r\n    process.exit(1)\r\n  }\r\n})\r\n```\n",
      "tags": [
        "Tips",
        "TypeScript",
        "Zod"
      ],
      "translates": "j58woxctz6b7mpo"
    }
  ],
  "TypeScript": [
    {
      "id": "j58woxctz6b7mpo",
      "title": "Validate your environment variables with Zod",
      "slug": "validate-your-environment-variables-with-zod",
      "locale": "en-US",
      "created": "2024-08-15T14:14:26.654Z",
      "updated": "2024-08-15T14:17:19.617Z",
      "content": "[Zod](https://github.com/colinhacks/zod) is the most famous validation library in the TypeScript ecosystem. With Zod, you create a _schema_ and validate your data according to the schema. Observe the schema below:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst UserSchema = z.object({\r\n  name: z.string().min(1),\r\n  age: z.number({ coerce: true }).min(18),\r\n  email: z.string().email(),\r\n})\r\n```\r\n\r\nThis schema can be used to validate an object as follows:\r\n\r\n```ts\r\nconst data = {\r\n  name: 'John Doe',\r\n  age: 18,\r\n  email: 'john@example.com',\r\n}\r\n\r\n// If there is a validation error, it throws an error\r\nconst validatedData = UserSchema.parse(data)\r\n\r\n// If there is a validation error, it returns an error object for you to handle later\r\nconst safeValidatedData = UserSchema.safeParse(data)\r\n// => { success: false; error: ZodError }\r\n// => { success: true; data: 'billie' }\r\n```\r\n\r\nZod is capable of performing various types of validations on your data, so be sure to read the [documentation](https://github.com/colinhacks/zod) for more details.\r\n\r\n## Validating Environment Variables\r\n\r\nWe can use Zod to validate the values present in [`process.env`](https://nodejs.org/api/process.html#processenv) and even process them before using the environment variables in our application. Usually, I like to create an `environment.ts` file, as in the example below:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst environmentSchema = z.object({\r\n  // Define the possible values for NODE_ENV, always leaving a default value:\r\n  NODE_ENV: z.enum(['test', 'development', 'production']).default('production'),\r\n  // Environment variables are always defined as strings. Here, convert the string to a number and set a default value:\r\n  PORT: z.number({ coerce: true }).default(3000),\r\n})\r\n\r\nexport const env = environmentSchema.parse(process.env)\r\n```\r\n\r\nThen, just import the variable and use it throughout my application:\r\n\r\n```ts\r\nimport Fastify from 'fastify'\r\nimport { env } from './environment.js'\r\n\r\nconst app = Fastify({ logger: true })\r\napp.listen({ port: env.PORT }, (err) => {\r\n  if (err) {\r\n    app.log.error(err)\r\n    process.exit(1)\r\n  }\r\n})\r\n```\n",
      "tags": [
        "Zod",
        "TypeScript",
        "Tips"
      ],
      "translates": "uybmrtdz9y7iuzk"
    },
    {
      "id": "uybmrtdz9y7iuzk",
      "title": "Valide suas variáveis de ambiente com Zod",
      "slug": "valide-suas-variaveis-de-ambiente-com-zod",
      "locale": "pt-BR",
      "created": "2024-08-15T13:51:14.579Z",
      "updated": "2024-08-15T14:16:39.812Z",
      "content": "[Zod](https://github.com/colinhacks/zod) é a biblioteca de validação mais famosa do ecossistema TypeScript. Com Zod, você cria um _schema_ e valida seus dados de acordo com o _schema_. Observe o _schema_ abaixo:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst UserSchema = z.object({\r\n  name: z.string().min(1),\r\n  age: z.number({ coerce: true }).min(18),\r\n  email: z.string().email(),\r\n})\r\n```\r\n\r\nEste _schema_ pode ser usado para validar um objeto da seguinte maneira:\r\n\r\n```ts\r\nconst data = {\r\n  name: 'John Doe',\r\n  age: 18,\r\n  email: 'john@example.com',\r\n}\r\n\r\n// Caso haja um erro na validação, lança um erro\r\nconst validatedData = UserSchema.parse(data)\r\n\r\n// Caso haja um erro na validação, retorna um objeto com erro, para você tratar posteriormente\r\nconst safeValidatedData = UserSchema.safeParse(data)\r\n// => { success: false; error: ZodError }\r\n// => { success: true; data: 'billie' }\r\n```\r\n\r\nO Zod é capaz de fazer diversos tipos de validações nos seus dados, certifique-se de ler a [documentação](https://github.com/colinhacks/zod) para mais detalhes.\r\n\r\n## Validando as variáveis de ambiente\r\n\r\nPodemos usar o Zod para validar os valores presentes no [`process.env`](https://nodejs.org/api/process.html#processenv) e até processá-los antes de usar as variáveis de ambiente na nossa aplicação. Normalmente, eu gosto de criar um arquivo `environment.ts`, como no exemplo abaixo:\r\n\r\n```ts\r\nimport { z } from 'zod'\r\n\r\nconst environmentSchema = z.object({\r\n  // Define os valores possíveis para o NODE_ENV, deixando sempre um valor padrão:\r\n  NODE_ENV: z.enum(['test', 'development', 'production']).default('production'),\r\n  // Variáveis de ambiente sempre são definidas como strings. Aqui, transformo a string em número e defino um valor padrão: \r\n  PORT: z.number({ coerce: true }).default(3000),\r\n})\r\n\r\nexport const env = environmentSchema.parse(process.env)\r\n```\r\n\r\nDepois, é só importar a variável e usar ao longo da minha aplicação:\r\n\r\n```ts\r\nimport Fastify from 'fastify'\r\nimport { env } from './environment.js'\r\n\r\nconst app = Fastify({ logger: true })\r\napp.listen({ port: env.PORT }, (err) => {\r\n  if (err) {\r\n    app.log.error(err)\r\n    process.exit(1)\r\n  }\r\n})\r\n```\n",
      "tags": [
        "Tips",
        "TypeScript",
        "Zod"
      ],
      "translates": "j58woxctz6b7mpo"
    }
  ],
  "graphql": [
    {
      "id": "i9fkingsi8pcbqk",
      "title": " Introduction to GraphQL",
      "slug": "introduction-to-graphql",
      "locale": "en-US",
      "created": "2022-11-17T15:00:00.000Z",
      "updated": "2022-12-29T14:51:23.352Z",
      "content": "[GraphQL](https://graphql.org/) is a query language for APIs and a runtime for fulfilling those queries with your existing data, developed by Facebook in 2012 and open sourced in 2015. The goal was to create a query language that allowed fine-grained control over the needed data a client can request to an API server.\r\n\r\nA GraphQL service is created by defining **types** and **fields** to those types in a **schema**. A commom way to defining the schema of your GraphQL service is through the GraphQL Schema Definition Language (SDL).\r\n\r\nIn this article, I'll show how to create a GraphQL schema compliant with the [Relay GraphQL Server](https://relay.dev/docs/guides/graphql-server-specification/) specification.\r\n\r\n## Defining your schema in GraphQL\r\n\r\nA GraphQL schema should informe the users about all the types and objects that can be queried and mutated on the graph. GraphQL even provides a feature to query metadata about those types and objects, which can be used to document the GraphQL.\r\n\r\nLet's define a simple schema using GraphQL SDL (Schema Definition Language):\r\n\r\n```graphql\r\n\"\"\"\r\nSerialize and validate JavaScript dates.\r\n\"\"\"\r\nscalar Date\r\n\r\n\"\"\"\r\nNode interface\r\n\"\"\"\r\ninterface Node {\r\n  id: ID!\r\n}\r\n\r\n\"\"\"\r\nPriority level\r\n\"\"\"\r\nenum Priority {\r\n  LOW\r\n  MEDIUM\r\n  HIGH\r\n}\r\n\r\n\"\"\"\r\nA task that the user should complete\r\n\"\"\"\r\ntype Task implements Node {\r\n  \"Task ID\"\r\n  id ID! # ID is a GraphQL special type for IDs.\r\n  \"Task title\"\r\n  title String!\r\n  \"Task creation date\"\r\n  created: Date!\r\n  \"Task modification date\"\r\n  modified: Date\r\n  priority: Priority!\r\n}\r\n\r\n\"\"\"\r\nNeeded input data to add a new task.\r\n\"\"\"\r\ninput AddTaskInput {\r\n  title: String!\r\n  priority: Priority\r\n}\r\n\r\ntype Query {\r\n  \"Get a task by ID\"\r\n  task(id: ID!): Task\r\n}\r\n\r\ntype Mutation {\r\n  addTask(input: AddTaskInput): Task\r\n}\r\n```\r\n\r\n1. First we define a [custom Date scalar](https://graphql.org/learn/schema/#scalar-types) that should validate and serialize Date objects;\r\n2. We define a `Node` interface. I'll explain more on why I'm defining this interface the next topic;\r\n2. We define an [enumeration type](https://graphql.org/learn/schema/#enumeration-types) to define the valid priority status of a task;\r\n3. We create our `Task` type with all the field it should contain. Notice that all field with the exclamation mark at the end are obligatory;\r\n4. We add an input called `AddTaskInput` that defines the obligatory data to add a new `Task`;\r\n5. In the Query type (which is a GraphQL reserved type), we define what queries are available from our root object;\r\n6. In the Mutation type (which is a GraphQL reserved type), we define which operations to alter our data are available. Such operations are called [mutations](https://graphql.org/learn/queries/#mutations).\r\n\r\nNotice that, in GraphQL, comments between quotes serve as documentation (it'll be parsed and displayed in your GraphiQL web documentation interface), while the comments that start with `#` are ignored.\r\n\r\n## Querying your data in GraphQL\r\n\r\nTipically, you'd query a GraphQL server like this:\r\n\r\n```graphql\r\n{\r\n  task(id: \"2\") {\r\n    title\r\n  }\r\n}\r\n```\r\n\r\nWhich would return the following, in JSON format:\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"task\": {\r\n      \"title\": \"Write GraphQL tutorial\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn the query above, we started with a special \"root\" object, from where we select the `task` field with the id equals to `2` Then, we select the `title` field from the `task` object. But, if no task has an id equals to 2? In this case, our response would be:\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"task\": null\r\n  }\r\n}\r\n```\r\n\r\nOr, in case of a error, we would receive this response:\r\n\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"task\": null\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"message\": \"Internal server error.\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nYou may want rename a field before using your data. Well, you can create your [aliases](https://graphql.org/learn/queries/#aliases) just like this:\r\n\r\n```graphql\r\n{\r\n  todo: task(id: \"2\") {\r\n    name: title\r\n  }\r\n}\r\n```\r\n\r\nAnd that would be the return:\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"todo\": {\r\n      \"name\": \"Write GraphQL tutorial\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nGraphQL also provides the feature of create [query fragments](https://graphql.org/learn/queries/#fragments) and setting up  [directives](https://graphql.org/learn/queries/#directives) to query your data. I'll need to add more complexity to our current schema in order to explain that, so, for while, let's move to the next topic.\r\n\r\n## The Relay GraphQL Server specification\r\n\r\nDespite you may not want to use [Relay](https://relay.dev/) (or even React) to consume your GraphQL data, their specification is very useful and provides a common ground of what developers should expect from a GraphQL server.\r\n\r\nRemember that `Node` interface we defined above? Its purpose is to provide a [global object identification](https://graphql.org/learn/global-object-identification/) for all the GraphQL nodes in our server. Therefore, a GraphQL client can handle re-fetching and caching in a more standardized way. Notice that each ID must be globally unique on your application.\r\n\r\nAs the `Node` interface will be used for all objects in our server, GraphQL provides a reusable unit called [fragment](https://graphql.org/learn/queries/#fragments). Now, let's add a new way the query nodes on our schema:\r\n\r\n```graphql\r\n# ...\r\n\r\ntype Query {\r\n  \"Get a node by ID\"\r\n  node(id: ID!): Node\r\n}\r\n\r\n# ...\r\n```\r\n\r\nNotice that the `task` query was removed, as it is no more needed. And now, we will re-do our query using a fragment:\r\n\r\n```graphql\r\n# We name the query and pass a variable\r\n# to improve the development experience.\r\nquery getTask(id: ID!) {\r\n  node(id: $id) {\r\n    ...taskFields\r\n  }\r\n}\r\n\r\nfragment taskFields on Task {\r\n  title\r\n}\r\n```\r\n\r\nAnd now, we will change our schema to comply with the Relay GraphQL Server specification. Take some time to read the comments in order to understand what is being done here.\r\n\r\n```graphql\r\n\"\"\"\r\nSerialize and validate JavaScript dates.\r\n\"\"\"\r\nscalar Date\r\n\r\n\"\"\"\r\nNode interface\r\n\"\"\"\r\ninterface Node {\r\n  id: ID!\r\n}\r\n\r\n\"\"\"\r\nPriority level\r\n\"\"\"\r\nenum Priority {\r\n  LOW\r\n  MEDIUM\r\n  HIGH\r\n}\r\n\r\n\"\"\"\r\nA task that the user should complete\r\n\"\"\"\r\ntype Task implements Node {\r\n  \"Task ID\"\r\n  id ID! # ID is a GraphQL special type for IDs.\r\n  \"Task title\"\r\n  title String!\r\n  \"Task creation date\"\r\n  created: Date!\r\n  \"Task modification date\"\r\n  modified: Date\r\n  priority: Priority!\r\n}\r\n\r\n\"\"\"\r\nDefine an edge of the task,\r\ncontaining a node and a pagination cursor.\r\n\"\"\"\r\ntype TaskEdge {\r\n  cursor: String!\r\n  node: Task\r\n}\r\n\r\n\"\"\"\r\nDefine a connection between the\r\ntask edges, including the PageInfo\r\nobject for pagination info.\r\n\"\"\"\r\ntype TaskConnection {\r\n  edges: [TaskEdge] # Yes, we use brackets to define arrays in GraphQL\r\n  pageInfo: PageInfo!\r\n}\r\n\r\n\"\"\"\r\nProvides pagination info\r\nfor a cursor-based pagination\r\n\"\"\"\r\ntype PageInfo {\r\n  hasNextPage: Boolean!\r\n  hasPreviousPage: Boolean!\r\n  startCursor: String\r\n  endCursor: String\r\n}\r\n\r\n\"\"\"\r\nNeeded input data to add a new task.\r\n\"\"\"\r\ninput AddTaskInput {\r\n  title: String!\r\n  priority: Priority\r\n}\r\n\r\ntype Query {\r\n  node(id: ID!): Node\r\n  tasks(\r\n    first: Int, # The amount of tasks requested\r\n    after: String # Cursor to mark the point\r\n  ): TaskConnection\r\n}\r\n\r\ntype Mutation {\r\n  addTask(input: AddTaskInput): Task\r\n}\r\n```\r\n\r\nAt this point, the metaphor of [graphs](https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)) used here should be very clear. Each **edge** of your graph has a node and a **connection** of edges has a collection of nodes that can be paginated. Note that, in this specification, is expected that you implement a [cursor based pagination](https://www.prisma.io/docs/concepts/components/prisma-client/pagination#cursor-based-pagination), rather than a [offset pagination](https://www.prisma.io/docs/concepts/components/prisma-client/pagination#offset-pagination) (follow the previous link to have more information about their differences.\r\n\r\nAnd that's all we need to comply with the [Relay GraphQL Server Specification](https://relay.dev/docs/guides/graphql-server-specification/).\r\n\r\nIn the next article, I'll implement a GraphQL server using all the concepts that we learned here.\r\n\r\nSource:\r\n\r\n[GraphQL](https://graphql.org/)\r\n\n",
      "tags": [
        "graphql",
        "webdev"
      ],
      "translates": null
    }
  ],
  "webdev": [
    {
      "id": "l1ko9m5j8svvm88",
      "title": "New year, new blog (or how I created this blog for 2023)",
      "slug": "new-year-new-blog-or-how-i-created-this-blog-for-2023",
      "locale": "en-US",
      "created": "2023-01-01T18:29:53.355Z",
      "updated": "2023-08-12T13:31:07.448Z",
      "content": "New year, new blog! After delaying the publication of my blog for a long time, I finally finished developing it using [Next.js](https://nextjs.org/), [PocketBase](https://pocketbase.io/), and [Mantine](https://mantine.dev/). Want to know why I chose these tools? Then, keep reading here with me.\r\n\r\nI've been creating blogs for a long time (since 2007). I started with Blogger, but then I migrated to WordPress. And that's when I started to be interested in Linux and programming. I spent a lot of time creating themes, customizing plugins, reading documentation, and translating themes and plugins for WordPress. And, although WordPress is an excellent CMS for those who just want to publish a website as quickly as possible, this time I wanted something more personalized, containing all the features I would like to have and nothing more. From there, I started researching.\r\n\r\nI tried several CMSs ([Directus](https://directus.io/), [KeystoneJS](https://keystonejs.com/),\r\n[Strapi](https://strapi.io/) and [Cockpit](https://getcockpit.com/)), but what I found most simple to meet my need was [PocketBase](https://pocketbase.io/), mainly because I intended to self-host my solution. The other CMSs are great, but when you're a team of one, you have to choose the right tools. And what's easier for one person to manage than an SQLite database? PocketBase already exposes database updates in real time with SSE, provides authentication and file management (with integration with S3), SDK for JavaScript and Flutter, and can even be used as a framework. All this within a small binary written in Go (if you want to know more about PocketBase, [read the documentation](https://pocketbase.io/docs/) and watch this video from [FireShip](https://www.youtube.com/watch?v=Wqy3PBEglXQ), where he shows how to create a real-time chat system with PocketBase). And finally, in order to have real-time backups of my SQLite database and send them to S3, I use [Litestream](https://litestream.io/). Well, having made the choice for the backend, let's move on to the frontend.\r\n\r\nI tried [Astro](https://astro.build/) (which is excellent!) and [Remix](https://remix.run/), but I ended up choosing Next.js, mainly because of the Vercel image generation library, which I use to generate images of the post, like this one:\r\n\r\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"The job that's never started as takes longest to finish\" />\r\n\r\nAnd here we come to the choice of what I would use to create the styles of the blog. In recent years, I styled React applications with [CSS Modules](https://github.com/css-modules/css-modules), [Styled Components](https://styled-components.com/), [Stitches](https://stitches.dev/), [Tailwind](https://tailwindcss.com/) and [Chakra UI](https://chakra-ui.com/). I even stated to create a Design System with Stitches and Tailwind, but create an entire Design System all by myself would take a long time, so, I decided to take the shorter route.\r\n\r\nI have tried a few libraries until I found [Mantine](https://mantine.dev/), which is an excellent library packaged with everything I wanted to use.\r\nFrom there, the work consisted of implementing the blog with the basic initial features:\r\n\r\n- [Incremental Static Regeneration](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) of posts;\r\n - Form validation with [Zod](https://github.com/colinhacks/zod);\r\n - Nested comment system with anti-spam verification provided by [Akismet](https://akismet.com/);\r\n - Display of commentator avatars with [Gravatar](http://pt.gravatar.com/);\r\n - SVG Favicon with light/dark mode;\r\n - I18n (Portuguese and English).\r\n\r\nWith all that ready, I changed the canonical URLs of my articles on [Dev.to](https://dev.to/douglasdemoura) to point to the new URLs and finally published my blog.\r\n\r\nOf course, if you're reading this on my blog now, you'll see that an important feature is still missing: search. I'll be studying possible solutions for this in the coming days, but I'll already let you know that you can preview the functionality by pressing the <kbd>/</kbd> key on any page.\r\n\r\nHappy 2023, everyone 🎉.\n",
      "tags": [
        "designsystem",
        "webdev",
        "programming"
      ],
      "translates": "6cotdaubg05n32i"
    },
    {
      "id": "6cotdaubg05n32i",
      "title": "Ano novo, blog novo (ou como eu criei este blog para 2023)",
      "slug": "ano-novo-blog-novo-ou-como-eu-criei-este-blog-para-2023",
      "locale": "pt-BR",
      "created": "2023-01-01T16:34:44.490Z",
      "updated": "2023-08-12T13:34:51.667Z",
      "content": "Ano novo, blog novo! Depois de adiar por um tempão a publicação do meu blog,\r\nfinalmente terminei de desenvolvê-lo, usando [Next.js](https://nextjs.org/),\r\n[PocketBase](https://pocketbase.io/) e [Mantine](https://mantine.dev/).\r\nQuer saber o porquê eu escolhi estas ferramentas? Então, continue a leitura aqui comigo.\r\n\r\nEu crio blogs há muito tempo (desde 2007). Comecei com o [Blogger](https://www.blogger.com),\r\nmas depois migrei para o [WordPress](https://wordpress.org/). E foi aí que\r\ncomecei a me interessar por Linux e programação. Eu passava um bocado de tempo\r\ncriando temas, customizando plugins, lendo a documentação e traduzindo temas e\r\nplugins do WordPress. E, apesar do WordPress ser um CMS excelente para quem quer\r\napenas publicar um site da maneira mais rápida possível, dessa vez eu queria algo\r\nmais personalizado, contendo todos os recursos que eu gostaria de ter e nada mais.\r\nA partir daí, comecei a pesquisar.\r\n\r\nExperimentei vários CMSs ([Directus](https://directus.io/), [KeystoneJS](https://keystonejs.com/),\r\n[Strapi](https://strapi.io/) e [Cockpit](https://getcockpit.com/)), mas o que eu achei mais simples para atender a minha necessidade foi o [PocketBase](https://pocketbase.io/), principalmente porquê eu tinha \r\nintenção de auto-hospedar a minha solução. Os outros CMSs são ótimos, mas quando\r\nvocê é uma equipe de um homem só, deve escolher as ferramentas adequadas.\r\nE o que é mais fácil de uma pessoa só gerenciar do que um banco de dados SQLite?\r\nO Pocketbase já expõe as atualizações do banco de dados em tempo real com SSE,\r\nprovê autenticação e gerenciamento de arquivos (com integração ao S3), SDK para\r\nJavaScript e Flutter e ainda pode ser usado como um framework. Tudo isso dentro\r\nde um pequeno binário escrito em [Go](https://go.dev/) (se você quer saber mais sobre o PocketBase,\r\nleia a [documentação](https://pocketbase.io/docs/) e veja este [vídeo do FireShip](https://www.youtube.com/watch?v=Wqy3PBEglXQ), onde\r\nele mostra como criar um sistema de chat em tempo real com o PocketBase). E por fim,\r\na fim de ter backups em tempo real do meu banco de dados SQLite e mandá-los para o S3, utilizo o\r\n[Litestream](https://litestream.io/). Bom, feita a escolha no backend, vamos ao frontend.\r\n\r\nExperimentei o [Astro](https://astro.build/) (que é excelente!) e o [Remix](https://remix.run/),\r\nmas acabei optando pelo [Next.js](https://nextjs.org/), pricipalmente por conta\r\nda biblioteca de geração de imagens da [Vercel](https://vercel.com/), que eu uso para gerar as imagens do post,\r\ncomo essa aqui:\r\n\r\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"O trabalho que nunca começou é o que leva mais tempo para terminar\" />\r\n\r\nE aqui chegamos à escolha do que eu utilizaria para criar os estilos do blog.\r\nNos últimos anos, estilizei aplicações em React com [CSS Modules](https://github.com/css-modules/css-modules),\r\n[Styled Components](https://styled-components.com/), [Stitches](https://stitches.dev/),\r\n[Tailwind](https://tailwindcss.com/) e [Chakra UI](https://chakra-ui.com/).\r\nEu até comecei a criar um design system com Stitches e Tailwind, mas\r\ncriar um design system sozinho levaria muito tempo, decidi optar por uma caminho mais fácil.\r\nExperimentei vários DS até encontrar o [Mantine](https://mantine.dev/), que é uma\r\nbiblioteca excelente que tem tudo o que eu já tinha em mente e gostaria de usar.\r\nA partir daí, o trabalho consistiu em implementar o blog com as features iniciais básicas:\r\n\r\n- [ISR](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) dos posts;\r\n- Validação de formulários com [Zod](https://github.com/colinhacks/zod);\r\n- Sistema de comentários aninhados com verificação anti-spam provida pelo [Akismet](https://akismet.com/);\r\n- Exibição de avatares dos comentaristas com o [Gravatar](http://pt.gravatar.com/);\r\n- Favicon em SVG com modo claro/escuro;\r\n- Multilinguagem (português e inglês).\r\n\r\nCom tudo isso pronto, alterei as URLs canônicas dos meus artigos no [Dev.to](https://dev.to/douglasdemoura)\r\npara apontarem para as novas URLs e finalmente, publiquei meu blog.\r\n\r\nClaro, se você está lendo isso no meu blog agora, vai ver que ainda falta uma feature importante:\r\na pesquisa. Vou estudar possíveis soluções para isso nos próximos dias, mas já\r\nadianto que você pode ter uma prévia da funcionalidade apertando a tecla <kbd>/</kbd> em\r\nqualquer página.\r\n\r\nE, para finalizar, no dia 21 de janeiro eu vou mostrar como criar um design system\r\ncom React e Tailwind na [Conferência CSS Brasil](https://conferenciacssbrasil.com.br/).\r\nEntão, se você estiver por lá, te convido a tomar uma cerveja comigo depois do evento :)\r\n\r\nFeliz 2023 a todos 🎉.\n",
      "tags": [
        "webdev",
        "programming",
        "designsystem"
      ],
      "translates": null
    },
    {
      "id": "i9fkingsi8pcbqk",
      "title": " Introduction to GraphQL",
      "slug": "introduction-to-graphql",
      "locale": "en-US",
      "created": "2022-11-17T15:00:00.000Z",
      "updated": "2022-12-29T14:51:23.352Z",
      "content": "[GraphQL](https://graphql.org/) is a query language for APIs and a runtime for fulfilling those queries with your existing data, developed by Facebook in 2012 and open sourced in 2015. The goal was to create a query language that allowed fine-grained control over the needed data a client can request to an API server.\r\n\r\nA GraphQL service is created by defining **types** and **fields** to those types in a **schema**. A commom way to defining the schema of your GraphQL service is through the GraphQL Schema Definition Language (SDL).\r\n\r\nIn this article, I'll show how to create a GraphQL schema compliant with the [Relay GraphQL Server](https://relay.dev/docs/guides/graphql-server-specification/) specification.\r\n\r\n## Defining your schema in GraphQL\r\n\r\nA GraphQL schema should informe the users about all the types and objects that can be queried and mutated on the graph. GraphQL even provides a feature to query metadata about those types and objects, which can be used to document the GraphQL.\r\n\r\nLet's define a simple schema using GraphQL SDL (Schema Definition Language):\r\n\r\n```graphql\r\n\"\"\"\r\nSerialize and validate JavaScript dates.\r\n\"\"\"\r\nscalar Date\r\n\r\n\"\"\"\r\nNode interface\r\n\"\"\"\r\ninterface Node {\r\n  id: ID!\r\n}\r\n\r\n\"\"\"\r\nPriority level\r\n\"\"\"\r\nenum Priority {\r\n  LOW\r\n  MEDIUM\r\n  HIGH\r\n}\r\n\r\n\"\"\"\r\nA task that the user should complete\r\n\"\"\"\r\ntype Task implements Node {\r\n  \"Task ID\"\r\n  id ID! # ID is a GraphQL special type for IDs.\r\n  \"Task title\"\r\n  title String!\r\n  \"Task creation date\"\r\n  created: Date!\r\n  \"Task modification date\"\r\n  modified: Date\r\n  priority: Priority!\r\n}\r\n\r\n\"\"\"\r\nNeeded input data to add a new task.\r\n\"\"\"\r\ninput AddTaskInput {\r\n  title: String!\r\n  priority: Priority\r\n}\r\n\r\ntype Query {\r\n  \"Get a task by ID\"\r\n  task(id: ID!): Task\r\n}\r\n\r\ntype Mutation {\r\n  addTask(input: AddTaskInput): Task\r\n}\r\n```\r\n\r\n1. First we define a [custom Date scalar](https://graphql.org/learn/schema/#scalar-types) that should validate and serialize Date objects;\r\n2. We define a `Node` interface. I'll explain more on why I'm defining this interface the next topic;\r\n2. We define an [enumeration type](https://graphql.org/learn/schema/#enumeration-types) to define the valid priority status of a task;\r\n3. We create our `Task` type with all the field it should contain. Notice that all field with the exclamation mark at the end are obligatory;\r\n4. We add an input called `AddTaskInput` that defines the obligatory data to add a new `Task`;\r\n5. In the Query type (which is a GraphQL reserved type), we define what queries are available from our root object;\r\n6. In the Mutation type (which is a GraphQL reserved type), we define which operations to alter our data are available. Such operations are called [mutations](https://graphql.org/learn/queries/#mutations).\r\n\r\nNotice that, in GraphQL, comments between quotes serve as documentation (it'll be parsed and displayed in your GraphiQL web documentation interface), while the comments that start with `#` are ignored.\r\n\r\n## Querying your data in GraphQL\r\n\r\nTipically, you'd query a GraphQL server like this:\r\n\r\n```graphql\r\n{\r\n  task(id: \"2\") {\r\n    title\r\n  }\r\n}\r\n```\r\n\r\nWhich would return the following, in JSON format:\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"task\": {\r\n      \"title\": \"Write GraphQL tutorial\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn the query above, we started with a special \"root\" object, from where we select the `task` field with the id equals to `2` Then, we select the `title` field from the `task` object. But, if no task has an id equals to 2? In this case, our response would be:\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"task\": null\r\n  }\r\n}\r\n```\r\n\r\nOr, in case of a error, we would receive this response:\r\n\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"task\": null\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"message\": \"Internal server error.\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nYou may want rename a field before using your data. Well, you can create your [aliases](https://graphql.org/learn/queries/#aliases) just like this:\r\n\r\n```graphql\r\n{\r\n  todo: task(id: \"2\") {\r\n    name: title\r\n  }\r\n}\r\n```\r\n\r\nAnd that would be the return:\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"todo\": {\r\n      \"name\": \"Write GraphQL tutorial\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nGraphQL also provides the feature of create [query fragments](https://graphql.org/learn/queries/#fragments) and setting up  [directives](https://graphql.org/learn/queries/#directives) to query your data. I'll need to add more complexity to our current schema in order to explain that, so, for while, let's move to the next topic.\r\n\r\n## The Relay GraphQL Server specification\r\n\r\nDespite you may not want to use [Relay](https://relay.dev/) (or even React) to consume your GraphQL data, their specification is very useful and provides a common ground of what developers should expect from a GraphQL server.\r\n\r\nRemember that `Node` interface we defined above? Its purpose is to provide a [global object identification](https://graphql.org/learn/global-object-identification/) for all the GraphQL nodes in our server. Therefore, a GraphQL client can handle re-fetching and caching in a more standardized way. Notice that each ID must be globally unique on your application.\r\n\r\nAs the `Node` interface will be used for all objects in our server, GraphQL provides a reusable unit called [fragment](https://graphql.org/learn/queries/#fragments). Now, let's add a new way the query nodes on our schema:\r\n\r\n```graphql\r\n# ...\r\n\r\ntype Query {\r\n  \"Get a node by ID\"\r\n  node(id: ID!): Node\r\n}\r\n\r\n# ...\r\n```\r\n\r\nNotice that the `task` query was removed, as it is no more needed. And now, we will re-do our query using a fragment:\r\n\r\n```graphql\r\n# We name the query and pass a variable\r\n# to improve the development experience.\r\nquery getTask(id: ID!) {\r\n  node(id: $id) {\r\n    ...taskFields\r\n  }\r\n}\r\n\r\nfragment taskFields on Task {\r\n  title\r\n}\r\n```\r\n\r\nAnd now, we will change our schema to comply with the Relay GraphQL Server specification. Take some time to read the comments in order to understand what is being done here.\r\n\r\n```graphql\r\n\"\"\"\r\nSerialize and validate JavaScript dates.\r\n\"\"\"\r\nscalar Date\r\n\r\n\"\"\"\r\nNode interface\r\n\"\"\"\r\ninterface Node {\r\n  id: ID!\r\n}\r\n\r\n\"\"\"\r\nPriority level\r\n\"\"\"\r\nenum Priority {\r\n  LOW\r\n  MEDIUM\r\n  HIGH\r\n}\r\n\r\n\"\"\"\r\nA task that the user should complete\r\n\"\"\"\r\ntype Task implements Node {\r\n  \"Task ID\"\r\n  id ID! # ID is a GraphQL special type for IDs.\r\n  \"Task title\"\r\n  title String!\r\n  \"Task creation date\"\r\n  created: Date!\r\n  \"Task modification date\"\r\n  modified: Date\r\n  priority: Priority!\r\n}\r\n\r\n\"\"\"\r\nDefine an edge of the task,\r\ncontaining a node and a pagination cursor.\r\n\"\"\"\r\ntype TaskEdge {\r\n  cursor: String!\r\n  node: Task\r\n}\r\n\r\n\"\"\"\r\nDefine a connection between the\r\ntask edges, including the PageInfo\r\nobject for pagination info.\r\n\"\"\"\r\ntype TaskConnection {\r\n  edges: [TaskEdge] # Yes, we use brackets to define arrays in GraphQL\r\n  pageInfo: PageInfo!\r\n}\r\n\r\n\"\"\"\r\nProvides pagination info\r\nfor a cursor-based pagination\r\n\"\"\"\r\ntype PageInfo {\r\n  hasNextPage: Boolean!\r\n  hasPreviousPage: Boolean!\r\n  startCursor: String\r\n  endCursor: String\r\n}\r\n\r\n\"\"\"\r\nNeeded input data to add a new task.\r\n\"\"\"\r\ninput AddTaskInput {\r\n  title: String!\r\n  priority: Priority\r\n}\r\n\r\ntype Query {\r\n  node(id: ID!): Node\r\n  tasks(\r\n    first: Int, # The amount of tasks requested\r\n    after: String # Cursor to mark the point\r\n  ): TaskConnection\r\n}\r\n\r\ntype Mutation {\r\n  addTask(input: AddTaskInput): Task\r\n}\r\n```\r\n\r\nAt this point, the metaphor of [graphs](https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)) used here should be very clear. Each **edge** of your graph has a node and a **connection** of edges has a collection of nodes that can be paginated. Note that, in this specification, is expected that you implement a [cursor based pagination](https://www.prisma.io/docs/concepts/components/prisma-client/pagination#cursor-based-pagination), rather than a [offset pagination](https://www.prisma.io/docs/concepts/components/prisma-client/pagination#offset-pagination) (follow the previous link to have more information about their differences.\r\n\r\nAnd that's all we need to comply with the [Relay GraphQL Server Specification](https://relay.dev/docs/guides/graphql-server-specification/).\r\n\r\nIn the next article, I'll implement a GraphQL server using all the concepts that we learned here.\r\n\r\nSource:\r\n\r\n[GraphQL](https://graphql.org/)\r\n\n",
      "tags": [
        "graphql",
        "webdev"
      ],
      "translates": null
    }
  ],
  "programming": [
    {
      "id": "l1ko9m5j8svvm88",
      "title": "New year, new blog (or how I created this blog for 2023)",
      "slug": "new-year-new-blog-or-how-i-created-this-blog-for-2023",
      "locale": "en-US",
      "created": "2023-01-01T18:29:53.355Z",
      "updated": "2023-08-12T13:31:07.448Z",
      "content": "New year, new blog! After delaying the publication of my blog for a long time, I finally finished developing it using [Next.js](https://nextjs.org/), [PocketBase](https://pocketbase.io/), and [Mantine](https://mantine.dev/). Want to know why I chose these tools? Then, keep reading here with me.\r\n\r\nI've been creating blogs for a long time (since 2007). I started with Blogger, but then I migrated to WordPress. And that's when I started to be interested in Linux and programming. I spent a lot of time creating themes, customizing plugins, reading documentation, and translating themes and plugins for WordPress. And, although WordPress is an excellent CMS for those who just want to publish a website as quickly as possible, this time I wanted something more personalized, containing all the features I would like to have and nothing more. From there, I started researching.\r\n\r\nI tried several CMSs ([Directus](https://directus.io/), [KeystoneJS](https://keystonejs.com/),\r\n[Strapi](https://strapi.io/) and [Cockpit](https://getcockpit.com/)), but what I found most simple to meet my need was [PocketBase](https://pocketbase.io/), mainly because I intended to self-host my solution. The other CMSs are great, but when you're a team of one, you have to choose the right tools. And what's easier for one person to manage than an SQLite database? PocketBase already exposes database updates in real time with SSE, provides authentication and file management (with integration with S3), SDK for JavaScript and Flutter, and can even be used as a framework. All this within a small binary written in Go (if you want to know more about PocketBase, [read the documentation](https://pocketbase.io/docs/) and watch this video from [FireShip](https://www.youtube.com/watch?v=Wqy3PBEglXQ), where he shows how to create a real-time chat system with PocketBase). And finally, in order to have real-time backups of my SQLite database and send them to S3, I use [Litestream](https://litestream.io/). Well, having made the choice for the backend, let's move on to the frontend.\r\n\r\nI tried [Astro](https://astro.build/) (which is excellent!) and [Remix](https://remix.run/), but I ended up choosing Next.js, mainly because of the Vercel image generation library, which I use to generate images of the post, like this one:\r\n\r\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"The job that's never started as takes longest to finish\" />\r\n\r\nAnd here we come to the choice of what I would use to create the styles of the blog. In recent years, I styled React applications with [CSS Modules](https://github.com/css-modules/css-modules), [Styled Components](https://styled-components.com/), [Stitches](https://stitches.dev/), [Tailwind](https://tailwindcss.com/) and [Chakra UI](https://chakra-ui.com/). I even stated to create a Design System with Stitches and Tailwind, but create an entire Design System all by myself would take a long time, so, I decided to take the shorter route.\r\n\r\nI have tried a few libraries until I found [Mantine](https://mantine.dev/), which is an excellent library packaged with everything I wanted to use.\r\nFrom there, the work consisted of implementing the blog with the basic initial features:\r\n\r\n- [Incremental Static Regeneration](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) of posts;\r\n - Form validation with [Zod](https://github.com/colinhacks/zod);\r\n - Nested comment system with anti-spam verification provided by [Akismet](https://akismet.com/);\r\n - Display of commentator avatars with [Gravatar](http://pt.gravatar.com/);\r\n - SVG Favicon with light/dark mode;\r\n - I18n (Portuguese and English).\r\n\r\nWith all that ready, I changed the canonical URLs of my articles on [Dev.to](https://dev.to/douglasdemoura) to point to the new URLs and finally published my blog.\r\n\r\nOf course, if you're reading this on my blog now, you'll see that an important feature is still missing: search. I'll be studying possible solutions for this in the coming days, but I'll already let you know that you can preview the functionality by pressing the <kbd>/</kbd> key on any page.\r\n\r\nHappy 2023, everyone 🎉.\n",
      "tags": [
        "designsystem",
        "webdev",
        "programming"
      ],
      "translates": "6cotdaubg05n32i"
    },
    {
      "id": "6cotdaubg05n32i",
      "title": "Ano novo, blog novo (ou como eu criei este blog para 2023)",
      "slug": "ano-novo-blog-novo-ou-como-eu-criei-este-blog-para-2023",
      "locale": "pt-BR",
      "created": "2023-01-01T16:34:44.490Z",
      "updated": "2023-08-12T13:34:51.667Z",
      "content": "Ano novo, blog novo! Depois de adiar por um tempão a publicação do meu blog,\r\nfinalmente terminei de desenvolvê-lo, usando [Next.js](https://nextjs.org/),\r\n[PocketBase](https://pocketbase.io/) e [Mantine](https://mantine.dev/).\r\nQuer saber o porquê eu escolhi estas ferramentas? Então, continue a leitura aqui comigo.\r\n\r\nEu crio blogs há muito tempo (desde 2007). Comecei com o [Blogger](https://www.blogger.com),\r\nmas depois migrei para o [WordPress](https://wordpress.org/). E foi aí que\r\ncomecei a me interessar por Linux e programação. Eu passava um bocado de tempo\r\ncriando temas, customizando plugins, lendo a documentação e traduzindo temas e\r\nplugins do WordPress. E, apesar do WordPress ser um CMS excelente para quem quer\r\napenas publicar um site da maneira mais rápida possível, dessa vez eu queria algo\r\nmais personalizado, contendo todos os recursos que eu gostaria de ter e nada mais.\r\nA partir daí, comecei a pesquisar.\r\n\r\nExperimentei vários CMSs ([Directus](https://directus.io/), [KeystoneJS](https://keystonejs.com/),\r\n[Strapi](https://strapi.io/) e [Cockpit](https://getcockpit.com/)), mas o que eu achei mais simples para atender a minha necessidade foi o [PocketBase](https://pocketbase.io/), principalmente porquê eu tinha \r\nintenção de auto-hospedar a minha solução. Os outros CMSs são ótimos, mas quando\r\nvocê é uma equipe de um homem só, deve escolher as ferramentas adequadas.\r\nE o que é mais fácil de uma pessoa só gerenciar do que um banco de dados SQLite?\r\nO Pocketbase já expõe as atualizações do banco de dados em tempo real com SSE,\r\nprovê autenticação e gerenciamento de arquivos (com integração ao S3), SDK para\r\nJavaScript e Flutter e ainda pode ser usado como um framework. Tudo isso dentro\r\nde um pequeno binário escrito em [Go](https://go.dev/) (se você quer saber mais sobre o PocketBase,\r\nleia a [documentação](https://pocketbase.io/docs/) e veja este [vídeo do FireShip](https://www.youtube.com/watch?v=Wqy3PBEglXQ), onde\r\nele mostra como criar um sistema de chat em tempo real com o PocketBase). E por fim,\r\na fim de ter backups em tempo real do meu banco de dados SQLite e mandá-los para o S3, utilizo o\r\n[Litestream](https://litestream.io/). Bom, feita a escolha no backend, vamos ao frontend.\r\n\r\nExperimentei o [Astro](https://astro.build/) (que é excelente!) e o [Remix](https://remix.run/),\r\nmas acabei optando pelo [Next.js](https://nextjs.org/), pricipalmente por conta\r\nda biblioteca de geração de imagens da [Vercel](https://vercel.com/), que eu uso para gerar as imagens do post,\r\ncomo essa aqui:\r\n\r\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"O trabalho que nunca começou é o que leva mais tempo para terminar\" />\r\n\r\nE aqui chegamos à escolha do que eu utilizaria para criar os estilos do blog.\r\nNos últimos anos, estilizei aplicações em React com [CSS Modules](https://github.com/css-modules/css-modules),\r\n[Styled Components](https://styled-components.com/), [Stitches](https://stitches.dev/),\r\n[Tailwind](https://tailwindcss.com/) e [Chakra UI](https://chakra-ui.com/).\r\nEu até comecei a criar um design system com Stitches e Tailwind, mas\r\ncriar um design system sozinho levaria muito tempo, decidi optar por uma caminho mais fácil.\r\nExperimentei vários DS até encontrar o [Mantine](https://mantine.dev/), que é uma\r\nbiblioteca excelente que tem tudo o que eu já tinha em mente e gostaria de usar.\r\nA partir daí, o trabalho consistiu em implementar o blog com as features iniciais básicas:\r\n\r\n- [ISR](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) dos posts;\r\n- Validação de formulários com [Zod](https://github.com/colinhacks/zod);\r\n- Sistema de comentários aninhados com verificação anti-spam provida pelo [Akismet](https://akismet.com/);\r\n- Exibição de avatares dos comentaristas com o [Gravatar](http://pt.gravatar.com/);\r\n- Favicon em SVG com modo claro/escuro;\r\n- Multilinguagem (português e inglês).\r\n\r\nCom tudo isso pronto, alterei as URLs canônicas dos meus artigos no [Dev.to](https://dev.to/douglasdemoura)\r\npara apontarem para as novas URLs e finalmente, publiquei meu blog.\r\n\r\nClaro, se você está lendo isso no meu blog agora, vai ver que ainda falta uma feature importante:\r\na pesquisa. Vou estudar possíveis soluções para isso nos próximos dias, mas já\r\nadianto que você pode ter uma prévia da funcionalidade apertando a tecla <kbd>/</kbd> em\r\nqualquer página.\r\n\r\nE, para finalizar, no dia 21 de janeiro eu vou mostrar como criar um design system\r\ncom React e Tailwind na [Conferência CSS Brasil](https://conferenciacssbrasil.com.br/).\r\nEntão, se você estiver por lá, te convido a tomar uma cerveja comigo depois do evento :)\r\n\r\nFeliz 2023 a todos 🎉.\n",
      "tags": [
        "webdev",
        "programming",
        "designsystem"
      ],
      "translates": null
    },
    {
      "id": "wcz61fkqkj5y6se",
      "title": "What is a first-class citizen in computer science?",
      "slug": "what-is-a-first-class-citizen-in-computer-science",
      "locale": "en-US",
      "created": "2022-10-08T15:00:00.000Z",
      "updated": "2022-12-29T14:51:27.174Z",
      "content": "In computer science, a **first-class citizen** is an entity that supports all operations available to other entities. Some of the available operations are:\r\n\r\n- They may be named by variables;\r\n- They may be passed as arguments to procedures;\r\n- They may be returned as the results of procedures;\r\n- They may be included in data structures.\r\n\r\nIt was the British computer scientist Christopher Strachey (1916-1975) [who first](https://link.springer.com/article/10.1023/A:1010052305354) coined this notion of first-class citizen status of elements in a programming language in the 1960s.\r\n\r\nIn JavaScript, for example, functions are first-class citizens, as all of the operations cited above can be applied to them. Let's see some examples:\r\n\r\n**A simple function definition in JavaScript**\r\n\r\n```javascript\r\nfunction sum(a, b) {\r\n  return a + b\r\n}\r\n```\r\n\r\n**Assigning a constant to a function**\r\n\r\n```javascript\r\nconst sum = (a, b) => a + b\r\n\r\n// or\r\n// \r\n// const sum = function (a, b) {\r\n//   a + b\r\n// }\r\n```\r\n\r\n**Passing a function as an argument**\r\n\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (typeof callback === 'function') {\r\n    callback(result) // pass the result as an argument of `callback`\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//        Pass `console.log` as the callback function\r\n// -------\\/\r\nsum(2, 2, console.log) // => 4\r\n```\r\n\r\n**Return a function**\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (callback) {\r\n    return () => callback(result)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//            The callback is the sum of the result with 2.\r\n// ------------------\\/\r\nconst fn = sum(2, 2, (result) => sum(2, result))\r\n//    ^---- Store the returned function in a variable\r\n\r\n//          Execute the function\r\n// ---------\\/\r\nconsole.log(fn()) // => 6\r\n```\r\n\r\n**Including a function in a data structure**\r\n\r\n```javascript\r\n// Store the basic operations in an object\r\nconst operations = {\r\n  sum: (a, b) => a + b,\r\n  sub: (a, b) => a - b,\r\n  mul: (a, b) => a * b,\r\n  div: (a, b) => a / b,\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "computerscience",
        "programming",
        "beginners"
      ],
      "translates": null
    },
    {
      "id": "2jd9yuw0klpgymp",
      "title": "What is a RPC (Remote Procedure Call)?",
      "slug": "what-is-a-rpc-remote-procedure-call",
      "locale": "en-US",
      "created": "2022-10-07T15:00:00.000Z",
      "updated": "2022-12-29T14:51:32.038Z",
      "content": "A **remote procedure call** (RPC) is a mechanism of communication between two computational environments, where one can be identified as a client, while the other can be identified as a server.\r\n\r\nFrom the client's point of view, the RPC is just a matter of calling a function with the desired arguments and await for the response, in order to continue the program's execution.\r\n\r\n![Diagram on how a RPC (remote procedure call) works](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/p3733ruz3n51tadloaaq.png)\r\n\r\nThus, using an RPC allows one programmer to distribute the system, according to their needs.\r\n\r\n**References:**\r\n\r\n- [RPC Vs Simple Procedure Call - Georgia Tech - Advanced Operating Systems](https://www.youtube.com/watch?v=gr7oaiUsxSU)\r\n- [How RPC works](https://learn.microsoft.com/en-us/windows/win32/rpc/how-rpc-works)\r\n- [Remote Procedure Calls (RPC)](https://users.cs.cf.ac.uk/Dave.Marshall/C/node33.html)\r\n- [Introduction to RPC Programming](https://web.archive.org/web/20030404113118/http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=0650&db=bks&srch=&fname=/SGI_Developer/IRIX_NetPG/sgi_html/ch04.html)\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "programming",
        "computerscience",
        "rpc",
        "beginners"
      ],
      "translates": null
    }
  ],
  "designsystem": [
    {
      "id": "l1ko9m5j8svvm88",
      "title": "New year, new blog (or how I created this blog for 2023)",
      "slug": "new-year-new-blog-or-how-i-created-this-blog-for-2023",
      "locale": "en-US",
      "created": "2023-01-01T18:29:53.355Z",
      "updated": "2023-08-12T13:31:07.448Z",
      "content": "New year, new blog! After delaying the publication of my blog for a long time, I finally finished developing it using [Next.js](https://nextjs.org/), [PocketBase](https://pocketbase.io/), and [Mantine](https://mantine.dev/). Want to know why I chose these tools? Then, keep reading here with me.\r\n\r\nI've been creating blogs for a long time (since 2007). I started with Blogger, but then I migrated to WordPress. And that's when I started to be interested in Linux and programming. I spent a lot of time creating themes, customizing plugins, reading documentation, and translating themes and plugins for WordPress. And, although WordPress is an excellent CMS for those who just want to publish a website as quickly as possible, this time I wanted something more personalized, containing all the features I would like to have and nothing more. From there, I started researching.\r\n\r\nI tried several CMSs ([Directus](https://directus.io/), [KeystoneJS](https://keystonejs.com/),\r\n[Strapi](https://strapi.io/) and [Cockpit](https://getcockpit.com/)), but what I found most simple to meet my need was [PocketBase](https://pocketbase.io/), mainly because I intended to self-host my solution. The other CMSs are great, but when you're a team of one, you have to choose the right tools. And what's easier for one person to manage than an SQLite database? PocketBase already exposes database updates in real time with SSE, provides authentication and file management (with integration with S3), SDK for JavaScript and Flutter, and can even be used as a framework. All this within a small binary written in Go (if you want to know more about PocketBase, [read the documentation](https://pocketbase.io/docs/) and watch this video from [FireShip](https://www.youtube.com/watch?v=Wqy3PBEglXQ), where he shows how to create a real-time chat system with PocketBase). And finally, in order to have real-time backups of my SQLite database and send them to S3, I use [Litestream](https://litestream.io/). Well, having made the choice for the backend, let's move on to the frontend.\r\n\r\nI tried [Astro](https://astro.build/) (which is excellent!) and [Remix](https://remix.run/), but I ended up choosing Next.js, mainly because of the Vercel image generation library, which I use to generate images of the post, like this one:\r\n\r\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"The job that's never started as takes longest to finish\" />\r\n\r\nAnd here we come to the choice of what I would use to create the styles of the blog. In recent years, I styled React applications with [CSS Modules](https://github.com/css-modules/css-modules), [Styled Components](https://styled-components.com/), [Stitches](https://stitches.dev/), [Tailwind](https://tailwindcss.com/) and [Chakra UI](https://chakra-ui.com/). I even stated to create a Design System with Stitches and Tailwind, but create an entire Design System all by myself would take a long time, so, I decided to take the shorter route.\r\n\r\nI have tried a few libraries until I found [Mantine](https://mantine.dev/), which is an excellent library packaged with everything I wanted to use.\r\nFrom there, the work consisted of implementing the blog with the basic initial features:\r\n\r\n- [Incremental Static Regeneration](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) of posts;\r\n - Form validation with [Zod](https://github.com/colinhacks/zod);\r\n - Nested comment system with anti-spam verification provided by [Akismet](https://akismet.com/);\r\n - Display of commentator avatars with [Gravatar](http://pt.gravatar.com/);\r\n - SVG Favicon with light/dark mode;\r\n - I18n (Portuguese and English).\r\n\r\nWith all that ready, I changed the canonical URLs of my articles on [Dev.to](https://dev.to/douglasdemoura) to point to the new URLs and finally published my blog.\r\n\r\nOf course, if you're reading this on my blog now, you'll see that an important feature is still missing: search. I'll be studying possible solutions for this in the coming days, but I'll already let you know that you can preview the functionality by pressing the <kbd>/</kbd> key on any page.\r\n\r\nHappy 2023, everyone 🎉.\n",
      "tags": [
        "designsystem",
        "webdev",
        "programming"
      ],
      "translates": "6cotdaubg05n32i"
    },
    {
      "id": "6cotdaubg05n32i",
      "title": "Ano novo, blog novo (ou como eu criei este blog para 2023)",
      "slug": "ano-novo-blog-novo-ou-como-eu-criei-este-blog-para-2023",
      "locale": "pt-BR",
      "created": "2023-01-01T16:34:44.490Z",
      "updated": "2023-08-12T13:34:51.667Z",
      "content": "Ano novo, blog novo! Depois de adiar por um tempão a publicação do meu blog,\r\nfinalmente terminei de desenvolvê-lo, usando [Next.js](https://nextjs.org/),\r\n[PocketBase](https://pocketbase.io/) e [Mantine](https://mantine.dev/).\r\nQuer saber o porquê eu escolhi estas ferramentas? Então, continue a leitura aqui comigo.\r\n\r\nEu crio blogs há muito tempo (desde 2007). Comecei com o [Blogger](https://www.blogger.com),\r\nmas depois migrei para o [WordPress](https://wordpress.org/). E foi aí que\r\ncomecei a me interessar por Linux e programação. Eu passava um bocado de tempo\r\ncriando temas, customizando plugins, lendo a documentação e traduzindo temas e\r\nplugins do WordPress. E, apesar do WordPress ser um CMS excelente para quem quer\r\napenas publicar um site da maneira mais rápida possível, dessa vez eu queria algo\r\nmais personalizado, contendo todos os recursos que eu gostaria de ter e nada mais.\r\nA partir daí, comecei a pesquisar.\r\n\r\nExperimentei vários CMSs ([Directus](https://directus.io/), [KeystoneJS](https://keystonejs.com/),\r\n[Strapi](https://strapi.io/) e [Cockpit](https://getcockpit.com/)), mas o que eu achei mais simples para atender a minha necessidade foi o [PocketBase](https://pocketbase.io/), principalmente porquê eu tinha \r\nintenção de auto-hospedar a minha solução. Os outros CMSs são ótimos, mas quando\r\nvocê é uma equipe de um homem só, deve escolher as ferramentas adequadas.\r\nE o que é mais fácil de uma pessoa só gerenciar do que um banco de dados SQLite?\r\nO Pocketbase já expõe as atualizações do banco de dados em tempo real com SSE,\r\nprovê autenticação e gerenciamento de arquivos (com integração ao S3), SDK para\r\nJavaScript e Flutter e ainda pode ser usado como um framework. Tudo isso dentro\r\nde um pequeno binário escrito em [Go](https://go.dev/) (se você quer saber mais sobre o PocketBase,\r\nleia a [documentação](https://pocketbase.io/docs/) e veja este [vídeo do FireShip](https://www.youtube.com/watch?v=Wqy3PBEglXQ), onde\r\nele mostra como criar um sistema de chat em tempo real com o PocketBase). E por fim,\r\na fim de ter backups em tempo real do meu banco de dados SQLite e mandá-los para o S3, utilizo o\r\n[Litestream](https://litestream.io/). Bom, feita a escolha no backend, vamos ao frontend.\r\n\r\nExperimentei o [Astro](https://astro.build/) (que é excelente!) e o [Remix](https://remix.run/),\r\nmas acabei optando pelo [Next.js](https://nextjs.org/), pricipalmente por conta\r\nda biblioteca de geração de imagens da [Vercel](https://vercel.com/), que eu uso para gerar as imagens do post,\r\ncomo essa aqui:\r\n\r\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"O trabalho que nunca começou é o que leva mais tempo para terminar\" />\r\n\r\nE aqui chegamos à escolha do que eu utilizaria para criar os estilos do blog.\r\nNos últimos anos, estilizei aplicações em React com [CSS Modules](https://github.com/css-modules/css-modules),\r\n[Styled Components](https://styled-components.com/), [Stitches](https://stitches.dev/),\r\n[Tailwind](https://tailwindcss.com/) e [Chakra UI](https://chakra-ui.com/).\r\nEu até comecei a criar um design system com Stitches e Tailwind, mas\r\ncriar um design system sozinho levaria muito tempo, decidi optar por uma caminho mais fácil.\r\nExperimentei vários DS até encontrar o [Mantine](https://mantine.dev/), que é uma\r\nbiblioteca excelente que tem tudo o que eu já tinha em mente e gostaria de usar.\r\nA partir daí, o trabalho consistiu em implementar o blog com as features iniciais básicas:\r\n\r\n- [ISR](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration) dos posts;\r\n- Validação de formulários com [Zod](https://github.com/colinhacks/zod);\r\n- Sistema de comentários aninhados com verificação anti-spam provida pelo [Akismet](https://akismet.com/);\r\n- Exibição de avatares dos comentaristas com o [Gravatar](http://pt.gravatar.com/);\r\n- Favicon em SVG com modo claro/escuro;\r\n- Multilinguagem (português e inglês).\r\n\r\nCom tudo isso pronto, alterei as URLs canônicas dos meus artigos no [Dev.to](https://dev.to/douglasdemoura)\r\npara apontarem para as novas URLs e finalmente, publiquei meu blog.\r\n\r\nClaro, se você está lendo isso no meu blog agora, vai ver que ainda falta uma feature importante:\r\na pesquisa. Vou estudar possíveis soluções para isso nos próximos dias, mas já\r\nadianto que você pode ter uma prévia da funcionalidade apertando a tecla <kbd>/</kbd> em\r\nqualquer página.\r\n\r\nE, para finalizar, no dia 21 de janeiro eu vou mostrar como criar um design system\r\ncom React e Tailwind na [Conferência CSS Brasil](https://conferenciacssbrasil.com.br/).\r\nEntão, se você estiver por lá, te convido a tomar uma cerveja comigo depois do evento :)\r\n\r\nFeliz 2023 a todos 🎉.\n",
      "tags": [
        "webdev",
        "programming",
        "designsystem"
      ],
      "translates": null
    }
  ],
  "Elixir": [
    {
      "id": "iwov85iu4liz8at",
      "title": "Como foi a minha experiência no Elixir Days 2024",
      "slug": "como-foi-a-minha-experiencia-no-elixir-days-2024",
      "locale": "pt-BR",
      "created": "2024-05-31T19:58:47.206Z",
      "updated": "2024-05-31T19:58:47.206Z",
      "content": "No último final de semana (25 e 26 de maio), aconteceu o [Elixir Days](https://www.elixirdays.com/) no auditório da [Link Business School](https://lsb.edu.br/). Apesar do evento ter sido organizado muito em cima da hora (e, por conta disso, não ter tido tempo de abrir o _call for papers_), contou com uma excelente seleção de palestrantes e até mesmo a presença do Bruce Tate, o instrutor do [grox.io](https://grox.io/), que apresentou um workshop sobre alguns conceitos básicos do Elixir e do OTP.\r\n\r\nNão consegui participar do segundo dia do evento, mas tudo foi gravado e os organizadores disseram que, em breve, as gravações estarão disponíveis no YouTube.\r\n\r\nEu, sem nenhum conhecimento de Elixir, saí motivado a estudar a linguagem e suas capacidades. Fiquei impressionado com a facilidade de uso do [Livebook](https://livebook.dev/) e a quantidade de coisas que ele pode ser usado (o Bruce fez o seu workshop inteiramente no Livebook, que consistia em explicar alguns conceitos do Elixir durante a implementação do [jogo da vida do Conway](https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life)). Imagino que o Livebook seja parecido com [Jupyter nooteboks](https://jupyter.org/), mas também nunca parei para brincar um pouco com este (acredito que deva dedicar um tempo para descobrir do que são capazes).\r\n\r\nBom, enquanto aguardo a disponibilização das gravações do domingo, já estou garantindo o meu ingresso para o Elixir Days 2025 (que já estão à venda no [site oficial](https://www.elixirdays.com/)).\n",
      "tags": [
        "Elixir",
        "Palestras"
      ],
      "translates": null
    }
  ],
  "Palestras": [
    {
      "id": "iwov85iu4liz8at",
      "title": "Como foi a minha experiência no Elixir Days 2024",
      "slug": "como-foi-a-minha-experiencia-no-elixir-days-2024",
      "locale": "pt-BR",
      "created": "2024-05-31T19:58:47.206Z",
      "updated": "2024-05-31T19:58:47.206Z",
      "content": "No último final de semana (25 e 26 de maio), aconteceu o [Elixir Days](https://www.elixirdays.com/) no auditório da [Link Business School](https://lsb.edu.br/). Apesar do evento ter sido organizado muito em cima da hora (e, por conta disso, não ter tido tempo de abrir o _call for papers_), contou com uma excelente seleção de palestrantes e até mesmo a presença do Bruce Tate, o instrutor do [grox.io](https://grox.io/), que apresentou um workshop sobre alguns conceitos básicos do Elixir e do OTP.\r\n\r\nNão consegui participar do segundo dia do evento, mas tudo foi gravado e os organizadores disseram que, em breve, as gravações estarão disponíveis no YouTube.\r\n\r\nEu, sem nenhum conhecimento de Elixir, saí motivado a estudar a linguagem e suas capacidades. Fiquei impressionado com a facilidade de uso do [Livebook](https://livebook.dev/) e a quantidade de coisas que ele pode ser usado (o Bruce fez o seu workshop inteiramente no Livebook, que consistia em explicar alguns conceitos do Elixir durante a implementação do [jogo da vida do Conway](https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life)). Imagino que o Livebook seja parecido com [Jupyter nooteboks](https://jupyter.org/), mas também nunca parei para brincar um pouco com este (acredito que deva dedicar um tempo para descobrir do que são capazes).\r\n\r\nBom, enquanto aguardo a disponibilização das gravações do domingo, já estou garantindo o meu ingresso para o Elixir Days 2025 (que já estão à venda no [site oficial](https://www.elixirdays.com/)).\n",
      "tags": [
        "Elixir",
        "Palestras"
      ],
      "translates": null
    }
  ],
  "offtopic": [
    {
      "id": "7ba8zyw9of4afcw",
      "title": "Olá, mundo",
      "slug": "ola-mundo",
      "locale": "pt-BR",
      "created": "2021-01-01T15:00:00.000Z",
      "updated": "2022-12-29T14:52:10.686Z",
      "content": "Um blog sobre computação e engenharia de software não poderia começar de outra\r\nforma. Desde que o [primeiro livro sobre a linguagem de programação C](https://en.wikipedia.org/wiki/The_C_Programming_Language) foi publicado por Brian Kernighan e Dennis Ritchie em 1978, milhares de programadores deram\r\nseus primeiros passos nessa disciplina escrevendo um programa que imprime \"Hello, world\"\r\n(apesar disso, a primeira versão conhecida desse programa a ser usado como exemplo foi escrita pelo mesmo\r\nKernighan no seu _A Tutorial Introduction to the Language B_, de 1972).\r\n\r\nComecei a programar em 2009, quando entrei em uma empresa para prestar suporte\r\ntelefônico para serviços de hospedagem de sites de um grande provedor. Comecei\r\nfuçando o código dos sites, corrigindo alguns problemas, fazendo blogs para amigos...\r\nComo muitos de vocês, minha primeira linguagem de programação foi o PHP. Na época,\r\neu estudava saxofone na [Escola Municipal de Música de São Paulo](https://theatromunicipal.org.br/pt-br/escola-municipal-de-musica/)\r\ne eu tinha aspirações de me profissionalizar na música, então, nunca levei a sério\r\no estudo da programação. Apesar disso, fiz vários projetos como freelancer, como\r\ne-commerces, sites institucionais e blogs.\r\n\r\nEm 2012, através do ProUni, consegui uma bolsa de estudos integral para estudar\r\nEngenharia Civil na Universidade Anhembi Morumbi. Gostava muito do curso, consegui\r\nestágio numa ótima empresa durante a faculdade, fiz grandes amigos durante o curso\r\n(com os quais tenho contato até hoje) e comecei a publicar textos sobre engenharia\r\ne tecnologia na internet: primeiro no [Blog da Engenharia](https://blogdaengenharia.com)\r\ne depois no meu próprio blog, o [Engenharia Livre](https://engenharialivre.com).\r\n\r\nApós finalizar o curso e entregar o meu [TCC (no qual fiz um programa para calcular pontes)](https://github.com/douglasdemoura/tcc),\r\njuntamente com um amigo da faculdade, iniciamos uma empresa de projetos e construção,\r\na [Constrinew Engenharia](http://constrinew.com.br/) (a qual está funcionando até hoje).\r\nMas, mesmo já empreendendo na área de construção civil, eu estava recebendo muitas\r\nboas oportunidades para trabalhar com programação, devido aos contatos e aos projetos\r\nque haviam sido entregues no passado. E em 2019, eu recebi uma proposta irrecusável\r\ne fui trabalhar como engenheiro de software na [Avanade](https://www.avanade.com/pt-br).\r\n\r\nDesde então, me dedico ao estudo da engenharia de software e faço cursos para me\r\ntornar um programador melhor. Espero que o material que vou produzir e publicar aqui\r\nseja útil para as pessoas que tiverem uma jornada parecida com a minha :)\n",
      "tags": [
        "offtopic"
      ],
      "translates": null
    }
  ],
  "beginners": [
    {
      "id": "wcz61fkqkj5y6se",
      "title": "What is a first-class citizen in computer science?",
      "slug": "what-is-a-first-class-citizen-in-computer-science",
      "locale": "en-US",
      "created": "2022-10-08T15:00:00.000Z",
      "updated": "2022-12-29T14:51:27.174Z",
      "content": "In computer science, a **first-class citizen** is an entity that supports all operations available to other entities. Some of the available operations are:\r\n\r\n- They may be named by variables;\r\n- They may be passed as arguments to procedures;\r\n- They may be returned as the results of procedures;\r\n- They may be included in data structures.\r\n\r\nIt was the British computer scientist Christopher Strachey (1916-1975) [who first](https://link.springer.com/article/10.1023/A:1010052305354) coined this notion of first-class citizen status of elements in a programming language in the 1960s.\r\n\r\nIn JavaScript, for example, functions are first-class citizens, as all of the operations cited above can be applied to them. Let's see some examples:\r\n\r\n**A simple function definition in JavaScript**\r\n\r\n```javascript\r\nfunction sum(a, b) {\r\n  return a + b\r\n}\r\n```\r\n\r\n**Assigning a constant to a function**\r\n\r\n```javascript\r\nconst sum = (a, b) => a + b\r\n\r\n// or\r\n// \r\n// const sum = function (a, b) {\r\n//   a + b\r\n// }\r\n```\r\n\r\n**Passing a function as an argument**\r\n\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (typeof callback === 'function') {\r\n    callback(result) // pass the result as an argument of `callback`\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//        Pass `console.log` as the callback function\r\n// -------\\/\r\nsum(2, 2, console.log) // => 4\r\n```\r\n\r\n**Return a function**\r\n```javascript\r\nfunction sum(a, b, callback) {\r\n  const result = a + b\r\n\r\n  if (callback) {\r\n    return () => callback(result)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n//            The callback is the sum of the result with 2.\r\n// ------------------\\/\r\nconst fn = sum(2, 2, (result) => sum(2, result))\r\n//    ^---- Store the returned function in a variable\r\n\r\n//          Execute the function\r\n// ---------\\/\r\nconsole.log(fn()) // => 6\r\n```\r\n\r\n**Including a function in a data structure**\r\n\r\n```javascript\r\n// Store the basic operations in an object\r\nconst operations = {\r\n  sum: (a, b) => a + b,\r\n  sub: (a, b) => a - b,\r\n  mul: (a, b) => a * b,\r\n  div: (a, b) => a / b,\r\n}\r\n```\n",
      "tags": [
        "javascript",
        "computerscience",
        "programming",
        "beginners"
      ],
      "translates": null
    },
    {
      "id": "2jd9yuw0klpgymp",
      "title": "What is a RPC (Remote Procedure Call)?",
      "slug": "what-is-a-rpc-remote-procedure-call",
      "locale": "en-US",
      "created": "2022-10-07T15:00:00.000Z",
      "updated": "2022-12-29T14:51:32.038Z",
      "content": "A **remote procedure call** (RPC) is a mechanism of communication between two computational environments, where one can be identified as a client, while the other can be identified as a server.\r\n\r\nFrom the client's point of view, the RPC is just a matter of calling a function with the desired arguments and await for the response, in order to continue the program's execution.\r\n\r\n![Diagram on how a RPC (remote procedure call) works](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/p3733ruz3n51tadloaaq.png)\r\n\r\nThus, using an RPC allows one programmer to distribute the system, according to their needs.\r\n\r\n**References:**\r\n\r\n- [RPC Vs Simple Procedure Call - Georgia Tech - Advanced Operating Systems](https://www.youtube.com/watch?v=gr7oaiUsxSU)\r\n- [How RPC works](https://learn.microsoft.com/en-us/windows/win32/rpc/how-rpc-works)\r\n- [Remote Procedure Calls (RPC)](https://users.cs.cf.ac.uk/Dave.Marshall/C/node33.html)\r\n- [Introduction to RPC Programming](https://web.archive.org/web/20030404113118/http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=0650&db=bks&srch=&fname=/SGI_Developer/IRIX_NetPG/sgi_html/ch04.html)\r\n- [Building an end-to-end typesafe API — without GraphQL](https://colinhacks.com/essays/painless-typesafety)\n",
      "tags": [
        "programming",
        "computerscience",
        "rpc",
        "beginners"
      ],
      "translates": null
    }
  ],
  "WhatsApp": [
    {
      "id": "d3govdnqx3prpgq",
      "title": "Instalando o WhatsApp no Linux",
      "slug": "instalando-o-whatsapp-no-linux",
      "locale": "pt-BR",
      "created": "2024-07-29T17:18:23.361Z",
      "updated": "2024-07-29T17:34:53.815Z",
      "content": "Infelizmente, o WhatsApp não fornece um aplicativo oficial para o Linux. Felizmente, se você tem o [Google Chrome](https://www.google.com/intl/pt-BR/chrome/) ou o Chromium instalado no seu computador, você pode instalar a página como uma aplicação. Siga os passos abaixo:\r\n\r\n### 1. Baixe um ícone para a sua aplicação\r\n\r\nEu, por exemplo, escolhi [este](https://github.com/mimbrero/whatsapp-desktop-linux/blob/main/data/icons/hicolor/512x512/apps/io.github.mimbrero.WhatsAppDesktop.png) ícone para o WhatsApp no meu computador. Se quiser utilizar o mesmo, execute o seguinte comando no terminal:\r\n\r\n```bash\r\nICON_INSTALLATION_DIR=~/.local/share/web-apps/icons && mkdir -p $ICON_INSTALLATION_DIR && wget https://raw.githubusercontent.com/mimbrero/whatsapp-desktop-linux/main/data/icons/hicolor/512x512/apps/io.github.mimbrero.WhatsAppDesktop.png -P $ICON_INSTALLATION_DIR/WhatsApp.png \r\n```\r\n\r\nO comando acima irá criar o diretório `~/.local/share/web-apps` e baixará o ícone do WhatsApp.\r\n\r\n### 2. Crie o [_desktop entry_](https://wiki.archlinux.org/title/Desktop_entries) da aplicação\r\n\r\nPara criar o arquivo [_desktop entry_](https://wiki.archlinux.org/title/Desktop_entries) da aplicação, execute o seguinte comando:\r\n\r\n```bash\r\ncat <<EOF >~/.local/share/applications/WhatsApp.desktop\r\n[Desktop Entry]\r\nVersion=1.0\r\nName=WhatsApp\r\nComment=WhatsApp Messenger\r\nExec=google-chrome --app=\"https://web.whatsapp.com\" --name=WhatsApp --class=Whatsapp\r\nTerminal=false\r\nType=Application\r\nIcon=/home/$USER/.local/share/web-apps/icons/WhatsApp.png\r\nCategories=GTK;\r\nMimeType=text/html;text/xml;application/xhtml_xml;\r\nStartupNotify=true\r\nStartupWMClass=Whatsapp\r\nEOF\r\n```\r\n\r\nAgora, o WhatsApp estará disponível no menu do seu sistema. No meu Ubuntu 24.04 ficou assim:\r\n\r\n![Meu dash do Gnome](https://pocketbase.douglasmoura.dev/api/files/quq9xznky3sx782/8ka7cdr3iet8iqf/screenshot_from_2024_07_29_14_25_00_3M0OyL4OCK.png)\n",
      "tags": [
        "WhatsApp",
        "Linux",
        "Ubuntu"
      ],
      "translates": null
    }
  ]
}