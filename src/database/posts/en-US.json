[
  {
    "id": "j58woxctz6b7mpo",
    "title": "Validate your environment variables with Zod",
    "slug": "validate-your-environment-variables-with-zod",
    "locale": "en-US",
    "created": "2024-08-15T14:14:26.654Z",
    "updated": "2024-08-15T14:17:19.617Z",
    "content": "<p><a href=\"https://github.com/colinhacks/zod\">Zod</a> is the most famous validation library in the TypeScript ecosystem. With Zod, you create a <em>schema</em> and validate your data according to the schema. Observe the schema below:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { z } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">zod</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> UserSchema </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">object</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  name</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">().</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">min</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  age</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ coerce</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">min</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">18</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  email</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">().</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">email</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span></code></pre>\n<p>This schema can be used to validate an object as follows:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> data </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  name</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">John Doe</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  age</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 18</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  email</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">john@example.com</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// If there is a validation error, it throws an error</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> validatedData </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> UserSchema.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">parse</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(data)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// If there is a validation error, it returns an error object for you to handle later</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> safeValidatedData </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> UserSchema.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">safeParse</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(data)</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// => { success: false; error: ZodError }</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// => { success: true; data: 'billie' }</span></span></code></pre>\n<p>Zod is capable of performing various types of validations on your data, so be sure to read the <a href=\"https://github.com/colinhacks/zod\">documentation</a> for more details.</p>\n<h2>Validating Environment Variables</h2>\n<p>We can use Zod to validate the values present in <a href=\"https://nodejs.org/api/process.html#processenv\"><code>process.env</code></a> and even process them before using the environment variables in our application. Usually, I like to create an <code>environment.ts</code> file, as in the example below:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { z } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">zod</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> environmentSchema </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">object</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Define the possible values for NODE_ENV, always leaving a default value:</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  NODE_ENV</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">enum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">([</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">test</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">development</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">production</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">default</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">production</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Environment variables are always defined as strings. Here, convert the string to a number and set a default value:</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  PORT</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> z.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ coerce</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">default</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">3000</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> env </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> environmentSchema.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">parse</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(process.env)</span></span></code></pre>\n<p>Then, just import the variable and use it throughout my application:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Fastify </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">fastify</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { env } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./environment.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> app </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> Fastify</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ logger</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> })</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">app.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">listen</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ port</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> env.</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">PORT</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }, (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">err</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (err) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    app.log.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(err)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    process.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">exit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span></code></pre>\n",
    "tags": [
      "Zod",
      "TypeScript",
      "Tips"
    ],
    "translates": "uybmrtdz9y7iuzk"
  },
  {
    "id": "8cxztl6gvjs26in",
    "title": "Using TypeScript in Node.js projects",
    "slug": "using-typescript-in-node-js-projects",
    "locale": "en-US",
    "created": "2024-07-01T12:24:04.381Z",
    "updated": "2024-07-08T09:51:36.801Z",
    "content": "<p><a href=\"https://www.typescriptlang.org/\">TypeScript</a> is tremendously helpful while developing Node.js applications. Let’s see how to configure it for a seamless development experience.</p>\n<h2>Setting up TypeScript</h2>\n<p>First, we need to install TypeScript. We can do this by running the following command:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">npm</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> i</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> -D</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> typescript</span></span></code></pre>\n<p>Next, we need to create a <code>tsconfig.json</code> file in the root of our project. This file will contain the TypeScript configuration for our project. Here is an example of a <code>tsconfig.json</code> file that I picked from <a href=\"https://www.totaltypescript.com/tsconfig-cheat-sheet\">Total TypeScript</a> and added a few more things (read the code and pay attention to the comments):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">compilerOptions</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* Base Options: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">esModuleInterop</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">skipLibCheck</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">target</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">es2022</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">allowJs</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">resolveJsonModule</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">moduleDetection</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">force</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">isolatedModules</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">verbatimModuleSyntax</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* Setting ~ as the alias for the src/ directory */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">baseUrl</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">.</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">paths</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">      \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">~/*</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">src/*</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    },</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* Strictness */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">strict</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noUncheckedIndexedAccess</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noImplicitOverride</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* If transpiling with TypeScript: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">module</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">NodeNext</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">outDir</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">dist</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">sourceMap</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* AND if you're building for a library: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">declaration</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* AND if you're building for a library in a monorepo: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">composite</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">declarationMap</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* If NOT transpiling with TypeScript: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">module</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">preserve</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noEmit</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* If your code runs in the DOM: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">lib</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">es2022</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">dom</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">dom.iterable</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">],</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    /* If your code doesn't run in the DOM: */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">lib</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">es2022</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">],</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  },</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  /* I'm considering all your code is in src/ */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">include</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">src/**/*.ts</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Setting up the build script</h2>\n<p>Next, we need to set up a build script that will compile our TypeScript code to JavaScript. First, install <a href=\"https://www.npmjs.com/package/tsc-alias\"><code>tsc-alias</code></a> to handle the aliases we defined in the <code>tsconfig.json</code> file:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">npm</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> i</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> -D</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> tsc-alias</span></span></code></pre>\n<p>Then, you can add the <code>build</code> script by adding the following script to our <code>package.json</code> file:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">scripts</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">build</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsc &#x26;&#x26; tsc-alias</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Setting up the development script</h2>\n<p>Next, we need to set up a development script that will watch for changes in our TypeScript files and recompile them. Personally, I like to use <a href=\"https://tsx.is/\"><code>tsx</code></a>, as it provides a much faster development experience compared to the built-in <a href=\"https://www.typescriptlang.org/docs/handbook/configuring-watch.html\">TypeScript watcher</a> or <a href=\"https://typestrong.org/ts-node/\">ts-node</a>. First, install <code>tsx</code>:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">npm</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> i</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> -D</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> tsx</span></span></code></pre>\n<p>Then, you can add the <code>dev</code> script (in order to start the project in development mode) by adding the following script to your <code>package.json</code> file:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">scripts</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">build</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsc &#x26;&#x26; tsc-alias</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">dev</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">node --import=tsx --watch ./src/index.ts</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>Yes, you won’t get typechecks while developing using <code>tsx</code>, but you can run <code>npm run build</code> for that or add a new <code>typecheck</code> scripts to your <code>package.json</code>, and run it whenever you want to check for type errors:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">scripts</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">build</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsc &#x26;&#x26; tsc-alias</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">dev</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">node --import=tsx --watch ./src/index.ts</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">typecheck</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsc --noEmit</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n",
    "tags": [
      "typescript",
      "Node.js",
      "javascript"
    ],
    "translates": "5xfzc0v2gy17ywy"
  },
  {
    "id": "46trc5wkbpbc97s",
    "title": "Should I commit node_modules directory to git?",
    "slug": "should-i-commit-node-modules-directory-to-git",
    "locale": "en-US",
    "created": "2024-06-04T17:45:35.356Z",
    "updated": "2024-06-04T17:49:44.038Z",
    "content": "<p>TL; DR: No. Please add <code>node_modules</code> to your <code>.gitignore</code> file:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-text\"><span class=\"line\"><span>node_modules</span></span></code></pre>\n<h2>But, why?</h2>\n<p>The <code>node_modules</code> directory is where your package manager (that can be <a href=\"https://www.npmjs.com/\">npm</a>, <a href=\"https://classic.yarnpkg.com/\">yarn</a> or <a href=\"https://pnpm.io/\">pnpm</a>) will install all the project dependencies listed on your <code>package.json</code>. Regardless of the package manager you choose, a lockfile (<code>package-lock.json</code>,  <code>yarn.lock</code> or <code>pnpm-lock.yaml</code>, respectelly) will be generated in the first time you install your project dependencies, describing the entire dependency tree. This way, every time you need to reinstall your project dependencies, you shall get the exact same files.</p>\n<p>The lockfile should be commited to <code>git</code>, enabling the re-installation of the tree of dependencies in any other ambient, what makes unecessary to commit the <code>node_modules</code> directory to <code>git</code> (also, it cuts the size of your repository by a lot, as <code>node_modules</code> can consumes gigabytes of space).</p>\n",
    "tags": [
      "Node.js",
      "javascript",
      "npm"
    ],
    "translates": "bjdnvqai9ykbt6v"
  },
  {
    "id": "0mdfakkgsmugaex",
    "title": "Mastering Insertion Sort: A Detailed Guide",
    "slug": "mastering-insertion-sort-a-detailed-guide",
    "locale": "en-US",
    "created": "2024-01-26T23:06:53.913Z",
    "updated": "2024-01-26T23:06:53.913Z",
    "content": "<p>Sorting is a fundamental operation in the field of computer science, and because of this, there are various algorithms available to solve this problem. Each one is chosen based on factors such as the number of items to sort, the degree of order already present, the computer architecture where the algorithm will be executed, the type of storage device, among others. In this article, we will explore the insertion sort algorithm, understanding its nuances, strengths, and limitations.</p>\n<h2>What is insertion sort?</h2>\n<p>Insertion sort is a comparison-based algorithm that constructs its output one element at a time. It works similarly to the method we use to sort a deck of cards: we take one card at a time, compare it with the ones we already have in our hand, place the card in the correct position, and repeat this action until we finish our deck.</p>\n<p>It is an adaptive algorithm, meaning it is efficient for small data sets, as well as other quadratic complexity algorithms ($O(n^2)$). It is simple to implement, requires a constant amount of memory, as changes in the list are made in the list itself (without the need to create a new list, which would double the use of memory), and is capable of sorting the list as it receives it.</p>\n<h2>How does insertion sort work?</h2>\n<p><strong>Initialization:</strong> We assume that the first element of our list is already sorted. We proceed to the next element, consider it as our key, and insert it in the correct position in the sorted part of the list;</p>\n<p><strong>Iteration:</strong> For each item in the list (starting from the second element), we store the current item (key) and its position. Then we compare the key with the elements in the sorted part of the list (elements before the key);</p>\n<p><strong>Insertion:</strong> If the current element in the sorted part is greater than the key, we move that element one position up. This creates space for the new key to be inserted;</p>\n<p><strong>Repositioning the Key:</strong> We continue moving elements one position up until we find the correct position for the key. This position is found when we encounter an element that is less than or equal to the key or when we reach the beginning of the list;</p>\n<p><strong>Repeat:</strong> The process is repeated for all the elements in the list.</p>\n<h2>Implementation in JavaScript</h2>\n<p>To better understand the algorithm, let’s implement it in JavaScript:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-js\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/**</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">* Sorts an array of numbers using the insertion sort algorithm.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">* </span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">* </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">@param</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  {number[]}</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">  numbers</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> - The list of numbers to be sorted.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">* </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">@returns</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  {number[]}</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> - The sorted list of numbers.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">*/</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> insertionSort</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">numbers</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  for</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">let</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> i </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">; i </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> numbers.length; i</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">++</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> key </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> numbers[i]</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    let</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> j </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> i </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    </span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (j </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">>=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> &#x26;&#x26;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> numbers[j] </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> key) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      numbers[j  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">] </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  numbers[j]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      j</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">--</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    numbers[j  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">] </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> key</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Complexity Analysis</h2>\n<h3>Time Complexity</h3>\n<p><strong>Best Case (Array is already sorted):</strong> $O(n)$. This is because the inner loop (while) is not executed at all;\n<strong>Average Case and Worst Case (Array is sorted in reverse order):</strong> $O(n^2)$. In the worst case, each iteration will cause an element to be moved. This makes the algorithm inefficient for large data sets.</p>\n<h2>Space Complexity</h2>\n<p><strong>Space Complexity:</strong>  $O(1)$. Insertion sort is an in-place algorithm; it requires a constant amount of memory space.</p>\n",
    "tags": [
      "algorithms",
      "computerscience",
      "tutorial"
    ],
    "translates": "y9hhvn3ra53p0qj"
  },
  {
    "id": "fk4euqpea154kb9",
    "title": "Introduction to algorithms",
    "slug": "introduction-to-algorithms",
    "locale": "en-US",
    "created": "2024-01-25T17:00:12.952Z",
    "updated": "2024-01-25T17:01:52.985Z",
    "content": "<h2>What is an Algorithm?</h2>\n<p>An algorithm is a precise and unambiguous specification of a sequence of computational steps that can be mechanically performed[^1]. From this, we can think of a function that receives a value or a set of values as input and returns a value or a set of values as its output.</p>\n<p>An algorithm can be correct or incorrect. It is correct when, given its input parameters, its output is correct and, therefore, solves the computational problem for which it was developed. An incorrect algorithm, on the other hand, may stop with an incorrect output or may not stop at all for some input instances. Still, some incorrect algorithms can still have useful applications.</p>\n<p>There can be different algorithms that solve the same problem, some more efficient, that is, faster than others. But, not every problem has an efficient solution. Such problems are known as <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete.</p>\n<p><abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems are very interesting: even though no efficient algorithm has been found for this class of problems, it has not been proven that it is not possible to find an efficient algorithm (from class P, which can be solved in polynomial time) for such a problem. Moreover, if there were an efficient algorithm to solve an NP-complete problem, it would mean that there is an efficient algorithm for all <abbr title=\"Non-deterministic Polynomial time\">NP</abbr>-complete problems.</p>\n<Alert title=\"P vs. NP\">\nP vs. NP is a fundamental question in computer science, specifically in the field of computational complexity theory. It concerns the relationship between two classes of problems. The P class consists of decision problems (problems with a yes or no answer) that can be quickly solved (in polynomial time) by a deterministic computer, meaning that the time needed to solve the problem grows at a manageable rate as the size of the input increases. On the other hand, the NP class consists of decision problems for which, if a solution is provided, it can be quickly verified (also in polynomial time) by a deterministic computer.\n<p>The crucial question, “Is P equal to NP?”, asks whether every problem whose solution can be quickly verified (NP) can also be solved quickly (P). This is profound because, if P were equal to NP, it would mean that all the problems that we can verify quickly can also be solved quickly. This has vast implications for various fields, including cryptography, optimization, and algorithm design.\n</Alert></p>\n<h2>Algorithmic Complexity</h2>\n<p>When we talk about algorithms, most of the time we are interested in the growth rate of time and space required to solve increasingly larger instances of certain problems. If we are interested in the time a particular algorithm takes to perform its function, we are interested in its time complexity. And the behavior of the time complexity limit of our algorithm in relation to the increase of the problem instances is called asymptotic time complexity. And it is this asymptotic complexity that determines the size of the problem that can be solved by algorithms[^2].</p>\n<p>If an algorithm takes a time $cn^2$ for a constant $c$ to process an input of size $n$, we say that the complexity of the algorithm is of the order of $n^2$, or, in Bachmann–Landau notation (also called asymptotic notation and Big O notation), the algorithm has complexity $O(n^2)$.</p>\n<p>To get a better idea of what this means in relation to the runtime of our algorithm, consider that one unit of time on the computer on which we run our algorithm is 1 millisecond. Now, we want to know what the maximum size of input that our algorithm can process within a certain time limit (one second, one hour, and one day). Note, in the table below, how much the complexity of the algorithm interferes with the maximum size of the input it can handle, given the time limit:</p>\n<table>\n<thead>\n<tr>\n<th>Time Complexity</th>\n<th>1 second</th>\n<th>1 minute</th>\n<th>1 hour</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$n$</td>\n<td>1000</td>\n<td>60000</td>\n<td>360000</td>\n</tr>\n<tr>\n<td>$n \\log_2 n$</td>\n<td>140</td>\n<td>4895</td>\n<td>204095</td>\n</tr>\n<tr>\n<td>$n^2$</td>\n<td>31</td>\n<td>244</td>\n<td>1897</td>\n</tr>\n<tr>\n<td>$n^3$</td>\n<td>10</td>\n<td>39</td>\n<td>153</td>\n</tr>\n<tr>\n<td>$2^n$</td>\n<td>9</td>\n<td>15</td>\n<td>21</td>\n</tr>\n</tbody>\n</table>\n<p>Even though we can build faster computers, the increase in the execution speed of less efficient algorithms would not be so significant, so we should always seek the most efficient algorithm to address a given problem.</p>\n<p>[^1]: AHO, Alfred V.; ULLMAN, Jeffrey D. <em>Foundations of Computer Science</em>. Stanford, 1994.\n[^2]: AHO, Alfred V.; HOPCROFT, John E.; ULLMAN, Jeffrey D. <em>The Design and Analysis of Computer Algorithms</em>. Addison-Wesley, 1974.</p>\n",
    "tags": [
      "Beginners",
      "Computer Science",
      "algorithms"
    ],
    "translates": "q56goy3mqfdb3hu"
  },
  {
    "id": "91sox12o3ozzl5n",
    "title": "Rendering JSX on the Server with Fastify",
    "slug": "rendering-jsx-on-the-server-with-fastify",
    "locale": "en-US",
    "created": "2024-01-25T00:35:37.056Z",
    "updated": "2024-01-25T00:42:06.600Z",
    "content": "<p><a href=\"https://facebook.github.io/jsx/\">JSX</a> is an excellent abstraction for building web interfaces. Introduced by Facebook and popularized by React, it’s an extension of JavaScript designed to abstract nested function calls. It’s expected that JSX code will be pre-processed (transpiled) into valid JavaScript before being executed in browsers or environments like Node.js.</p>\n<h2>Project Setup</h2>\n<p>First of all, let’s start our project and install the necessary dependencies:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-text\"><span class=\"line\"><span>npm init -y</span></span>\n<span class=\"line\"><span>npm i fastify react react-dom</span></span>\n<span class=\"line\"><span>npm i -D @types/node @types/react @types/react-dom tsx typescript</span></span></code></pre>\n<p>Now, we set up the scripts for our project. The <code>package.json</code> should look like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">type</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">module</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">name</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">fastify-react</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">version</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">1.0.0</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">author</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Douglas Moura &#x3C;douglas.ademoura@gmail.com></span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">description</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">POC on rendering React components from Fastify</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">main</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">dist/main.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">scripts</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">start</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsc &#x26;&#x26; node dist/main.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">dev</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsx --watch src/main.tsx</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">build</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">tsc</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  },</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">license</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">ISC</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">dependencies</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">fastify</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^4.25.2</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">react</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^18.2.0</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">react-dom</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^18.2.0</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  },</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">devDependencies</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">@types/node</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^20.11.6</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">@types/react</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^18.2.48</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">@types/react-dom</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^18.2.18</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">tsx</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^4.7.0</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">typescript</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">^5.3.3</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And this is the <code>tsconfig.json</code> that we will use:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">compilerOptions</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">target</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">ESNext</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">module</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">ESNext</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">lib</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">dom</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">es6</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">es2017</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">esnext.asynciterable</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    ],</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">skipLibCheck</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">sourceMap</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  false</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">outDir</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./dist</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">moduleResolution</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">node</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">removeComments</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noImplicitAny</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">strictNullChecks</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">strictFunctionTypes</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noImplicitThis</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noUnusedLocals</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noUnusedParameters</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noImplicitReturns</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">noFallthroughCasesInSwitch</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">allowSyntheticDefaultImports</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">esModuleInterop</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">emitDecoratorMetadata</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">experimentalDecorators</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">resolveJsonModule</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">baseUrl</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">.</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">jsx</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">react-jsx</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  },</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">exclude</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">    \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">node_modules</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  ],</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">include</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">    \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./src/**/*.ts</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">    \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./src/**/*.tsx</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  ]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Creating our components</h2>\n<p>The React ecosystem already provides the necessary tools for rendering our components to HTML and sending them directly from the server to our client. So, first, let’s create the root component:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// src/components/root.tsx</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  RootProps</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  children</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">ReactNode</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  Root</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">title</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  RootProps</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">html  lang</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">en</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      &#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">head</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">        &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">meta  charSet</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">utf-8</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  /></span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">        &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">meta  name</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">viewport</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  content</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">width=device-width, initial-scale=1</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  /></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">        &#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">title</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>{title}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      &#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">head</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      &#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">body</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>{children}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">html</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  )</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And our home page:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// src/components/index.tsx</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  App</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">() {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    &#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">h1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">Hello</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, World</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!&#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">h1</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  )</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Configuring Fastify to Render Our React Component</h2>\n<p>As we don’t intend to load React to hydrate our HTML on the client side, we can use the <code>renderToStaticMarkup</code> function exported from <code>react-dom/server</code>. Our server initialization file will look like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Fastify </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">fastify</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { renderToStaticMarkup } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">react-dom/server</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { App } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./components/index.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { Root } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./components/root.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  RenderArgs</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  children</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">ReactNode</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  render</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> ({ </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">title</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  RenderArgs</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> `&#x3C;!DOCTYPE html></span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">${</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">renderToStaticMarkup</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">Root</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">{</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">title</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">{</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">children</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">Root</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  )</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fastify </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  Fastify</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  logger</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">fastify.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">get</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">/</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">async</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  handler</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">_request</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">reply</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  reply.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">type</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">text/html</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  render</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ children</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">App</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  />, title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Hello, World!</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> })</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">try</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  await</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fastify.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">listen</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ port</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  3000</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> })</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">catch</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (err) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  fastify.log.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(err)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  process.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">exit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>If you start the project now (<code>npm run dev</code>), you should see the page at <a href=\"http://localhost:3000/\">http://localhost:3000</a>. Of course, we can enhance our implementation by using the new streaming API, introduced in React 18 (<a href=\"https://github.com/reactwg/react-18/discussions/106#discussion-3611411\">which is the recommended method</a>). To do that, we will make the following changes to our code:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-ts\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Fastify </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">fastify</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { renderToStaticNodeStream } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">react-dom/server</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { Transform } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">node:stream</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { App } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./components/index.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { Root } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">./components/root.js</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  RenderArgs</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  children</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">ReactNode</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  render</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> ({ </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">title</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">  RenderArgs</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  let</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  isFirstChunk  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  prepend  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-weight:bold;--shiki-dark-font-weight:bold\">  new</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  Transform</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">    transform</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">chunk</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">_encoding</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">callback</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (isFirstChunk) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">        isFirstChunk  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  false</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9;font-style:italic;--shiki-dark-font-style:italic\">        this</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">push</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">&#x3C;!DOCTYPE html></span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      }</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">      callback</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">null</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, chunk)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    },</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  renderToStaticNodeStream</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">Root  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{title}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{children}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">Root</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  ).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">pipe</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(prepend)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  fastify  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  Fastify</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  logger</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  true</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">fastify.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">get</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">/</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">async</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  handler</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">_request</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">reply</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  stream  </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  render</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ children</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">App</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  />, title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Hello, World!</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  reply.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">type</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">text/html</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  reply.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">send</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(stream)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">try</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  await</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  fastify.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">listen</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">({ port</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  3000</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> })</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">catch</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (err) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  fastify.log.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(err)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  process.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">exit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And with that, we are able to render our React components on the server side and stream them to our client. Here is the <a href=\"https://github.com/DouglasdeMoura/react-fastify\">link</a> to the repository.</p>\n",
    "tags": [
      "Fastify",
      "Tips",
      "javascript",
      "Node.js"
    ],
    "translates": "p7310widh7o7h9e"
  },
  {
    "id": "wxuu4bshveoe7ld",
    "title": "The Powerful Programmer",
    "slug": "the-powerful-programmer",
    "locale": "en-US",
    "created": "2024-01-23T13:26:41.726Z",
    "updated": "2024-01-25T17:03:59.369Z",
    "content": "<p>Estimating, implementing, and deploying software rapidly is a characteristic of powerful programmers, as <a href=\"https://www.kentbeck.com/\">Kent Beck</a> mentions in his book <a href=\"https://www.oreilly.com/library/view/extreme-programming-explained/0201616416/\">Extreme Programming Explained</a>. In this article, I will explore these three points, inserting my own opinions on each one.</p>\n<h2>Estimation</h2>\n<p>Estimating a software project is <a href=\"https://jacobian.org/2021/may/20/estimation/\">difficult</a>, and there are various different techniques on how to estimate a software project. You can create a method, through your own experience, learn the method used by other companies but, you must pay attention that the central point is that you have a good idea of how much time the project will take. Projects have a beginning, middle, and end. Learn to estimate your work.</p>\n<h2>Implementation</h2>\n<p>For me, particularly, implementing is the most fun part of the project. And as with any job, we have to be pragmatic in the choice of language and tools. Being pragmatic in the choice does not necessarily mean using the same as everyone else, because, often, some tools continue to be strong in the market due to pure inertia. <a href=\"https://expressjs.com/\">Express</a> is a good example of this. Besides there being many better options with better support (like <a href=\"https://fastify.dev/\">Fastify</a>), many teams still start new projects with Express, even if it is not being maintained regularly, does not handle Promise rejections, etc.</p>\n<p>Besides the issue of tool choice, it is necessary that you <strong>master</strong> the technology stack of your project, being able to implement the best solutions in the shortest possible time. At the tip of your tongue, you have to know a good pattern to apply in the project, a good backend framework, a good frontend framework or even a good full-stack framework. And the experience of development cannot be left out. For the implementation to be fast, the understanding of the project must be easy, its documentation adequate, and its tests need to validate the <strong>intention</strong> flows of the user who will use the system.</p>\n<h2>Deployment</h2>\n<p>Today, can you build an entire project and put it into production, by yourself? And I’m not talking about uploading your project to a completely managed platform, like Vercel, but rather, about taking a Linux machine, installing the necessary tools, and exposing your application to the web. And no, this is not any kind of purism. If you are not a startup that can burn a few million reais per year, without worrying about the cost of your infrastructure, you should, at least, know how to start your application and keep it active between server restarts (preferably using containers), put it behind a reverse proxy (like <a href=\"https://www.nginx.com/\">NGINX</a> or <a href=\"https://caddyserver.com/\">Caddy</a>), configure a firewall, and make a backup of the database in three different places. You can still bring up multiple instances of your application and use the same proxy tool as a load balancer to distribute your application’s access to the different instances that are running.</p>\n",
    "tags": [
      "Software Engineering",
      "Patterns",
      "Carreer"
    ],
    "translates": "jbn0kg24q86k7vn"
  },
  {
    "id": "bdwhaei947bfrx4",
    "title": "Generating MD5 hashes on Node.js",
    "slug": "generating-md5-hashes-on-node-js",
    "locale": "en-US",
    "created": "2024-01-23T13:20:06.581Z",
    "updated": "2024-01-23T13:29:10.648Z",
    "content": "<p>You can create hashes in Node.js without the need to install any external library. Usually, I create the following utility function in the projects I work on:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/**</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> * Hashes a string using md5</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> *</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> * </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">@param</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> {string}</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> str</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> * </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">@returns</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> {string}</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> */</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> md5</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">str</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> createHash</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">md5</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">update</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(str).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">digest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">hex</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span></code></pre>\n<p>And I use it to replace the <a href=\"https://www.npmjs.com/package/md5\">md5</a> library whenever I come across it.</p>\n<p>Note that you can create hashes for any algorithm supported by the OpenSSL version on your platform. On Linux and Mac, you can see which algorithms are available with the command <code>openssl list -digest-algorithms</code>.</p>\n",
    "tags": [
      "Node.js",
      "javascript"
    ],
    "translates": "zj7xcfn2r753ld7"
  },
  {
    "id": "5d4agn9wp8tkd45",
    "title": "Finding the greatest common divisor in TypeScript",
    "slug": "finding-the-greatest-common-divisor-in-typescript",
    "locale": "en-US",
    "created": "2024-01-12T16:31:36.266Z",
    "updated": "2024-01-25T13:55:08.252Z",
    "content": "<p>First described in the classic geometry book <em>Elements</em>, by the ancient Greek mathematician Euclid (ca. 300 BC, at the book VII, proposition 2), the method of finding de greatest common divisor between the positive numbers $a$ and $b$, being $a &gt; b$ consists on the knowledge that the common divisors of $a$ and $b$ are the same of $a - b$ and $b$. Therefore, we can find this greatest common divisor by replacing the largest number ($a$) by the different between the two numbers ($a - b$), repeatedly, until the two numbers are equal. In TypeScript, we can do that like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // When `a` is equal to `b`, return the result</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // When `a` is bigger than b, calculate the the GCD again</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // with the new `a` being `a - b`.</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b, b)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // If the new `b` is bigger than `a`,</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // subtract a from it.</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(a, b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>This method can be very slow if the difference between $a$ and $b$ is too large. Thankfully, there’s another method to find the greatest common divisor between two numbers, that can be described as follows:</p>\n<ol>\n<li>In order to find the greatest common divisor between $a$ and $b$, being $a &gt; b$, perform the division between the two numbers. This operation will give a quotient and a remainder (that we will call $q$ and $r$, respectively). Thus, $a$ can be described as $a = q \\times b + r$;</li>\n<li>If $r$ is equal to 0, we stop, because we found that the greatest common divisor of $a$ and $b$ is $b$. Otherwise, we go back to step 1, making $b$ the new $a$ and $r$ will be the new $b$.</li>\n</ol>\n<p>Now, we can start with the implementation of the algorithm above:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // First, we take the remainder between the division of a and b:</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> r </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  </span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // If the remainder is equal to zero, it means that we already found the</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // greatest common divisor, therefore, we return b:</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (r </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  </span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // If the remainder is not equal to 0, we call the function again</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // with the new values for a and b:</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(b, a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>The implementation is very straightforward and can be read exactly as is described in steps 1 and 2. We can make the function simpler, by checking, directly, if $b$ is equal to zero and only doing the remainder operation afterwards. Therefore, if the function receive a $b$ that is equal to zero, we will know that $a$ is the greatest common divisor:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  </span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(b, a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>This variant is called <em>Euclidean algorithm</em> (in contrast of the first one, which is the <em>Euclid’s algorithm</em>) and it significantly faster than the first implementation.</p>\n<h2>Alternative implementations</h2>\n<p>We can also take a different approach. Instead of calling our <code>gcd</code> function recursively, we can implement our function using a <code>while</code> loop (analogous to our first implementation above):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Run this loop while a is different of b</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!==</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b) {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Subtracts b from a while a is bigger than b</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Go to the next loop</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      continue</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    // Subtracts a from b when a &#x3C;= b</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Returns the greatest common divisor between a and b</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And this is another way (analogous to our second implementation above):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Run this loop while `b` is different from 0</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!==</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    // Save the new value for a in a temporary variable</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> newA </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    // Set b to the modulo of a and b (the remainder of the division between a and b)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    // Set a to its new value before the next loop</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> newA</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  </span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Now that b is equal to 0, we know that a is the greatest common divisor</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Finding the greatest common between three or more numbers</h2>\n<p>The greatest  of three or more numbers is equal the product of the prime factors common to all the numbers (we will explore more of that in a future article), but, you can also calculate the greatest common divisor between pairs of this list of numbers with the same functions we have showed already. So, let’s refactor our <code>gcd</code> function to receive multiple parameters:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">numbers</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[])</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> calculateGcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> calculateGcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(b, a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">    numbers</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Just to be sure, sort numbers in descendant order:</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      .</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">sort</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a)</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Call `calculateGcd` for each pair in the numbers array:</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      .</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">reduce</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> calculateGcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(a, b))</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  )</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Validating our input</h2>\n<p>Let’s guarantee that our functions should always receive, at least, two numbers and that all numbers must not be negative:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> gcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">numbers</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[])</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (numbers.length </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 2</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    throw</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-weight:bold;--shiki-dark-font-weight:bold\"> new</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> Error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">You must pass, at least, 2 numbers</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (numbers.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">some</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> number </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    throw</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-weight:bold;--shiki-dark-font-weight:bold\"> new</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> Error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">The numbers must be >= 0</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> calculateGcd</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> calculateGcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(b, a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b);</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">    numbers</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Just to be sure, sort numbers in descendant order:</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      .</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">sort</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a)</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Call `calculateGcd` for each pair in the numbers array:</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      .</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">reduce</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> calculateGcd</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(a, b))</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  )</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n",
    "tags": [
      "typescript",
      "mathematic",
      "javascript"
    ],
    "translates": "vfb16zvqx9d6eq8"
  },
  {
    "id": "8mgwfzzig2t1wd9",
    "title": "Understanding Tail Call Optimization With JavaScript",
    "slug": "understanding-tail-call-optimization-with-javascript",
    "locale": "en-US",
    "created": "2023-10-24T15:13:38.216Z",
    "updated": "2023-10-24T15:27:40.960Z",
    "content": "<p>Consider the following function that calculates the factorial of a number:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  let</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (n </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    result </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> n</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    n</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">--</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<Alert title=\"Factorial\" mb=\"md\" color=\"blue\">\nIn Mathematics, the factorial of a non-negative integer (n!) is the product of all positive integers less than or equal to n.\n</Alert>\n<p>The function above was implemented iteratively, that is, it uses a loop to calculate the factorial of a number. However, it is possible to implement the same function recursively (that is, a function that references itself):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (n </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">return</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> n </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(n </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>The result of both functions is the same, however, the iterative function is <a href=\"https://jsben.ch/1qyl8\">much more efficient</a> (in JavaScript) than the recursive function. In addition, if we try to calculate the factorial of a very large number, we encounter the error RangeError: Maximum call stack size exceeded. Let’s understand why this happens and how we can improve the recursive function.</p>\n<h2>Call Stack</h2>\n<p>A <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Call_stack\">call stack</a> is a data structure that stores information about a program’s functions. When a function is called, it is added to the execution stack, as well as all the functions it calls. When a function returns, it is removed from the execution stack. Each function added to the stack is called a <em>stack frame</em>.</p>\n<p>In order to understand what is happening, let’s try to represent, graphically, how the calculation of the factorial of 6 is done with the iterative function:</p>\n<div class=\"flex align-center justify-center\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 265.90625 838.4765625\" style=\"max-width: 250px;\">\n  <rect x=\"0\" y=\"0\" width=\"265.90625\" height=\"838.4765625\" fill=\"#ffffff\"></rect><g transform=\"translate(23.453125 21.1630859375) rotate(0 82.03125 396)\"><text x=\"0\" y=\"0\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorial(6)</text><text x=\"0\" y=\"24\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\"></text><text x=\"0\" y=\"48\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">result = 1</text><text x=\"0\" y=\"72\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">while(6 &gt; 1) {</text><text x=\"0\" y=\"96\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  result *= 6</text><text x=\"0\" y=\"120\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  6--</text><text x=\"0\" y=\"144\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">}</text><text x=\"0\" y=\"168\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\"></text><text x=\"0\" y=\"192\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">result = 6</text><text x=\"0\" y=\"216\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">while(5 &gt; 1) {</text><text x=\"0\" y=\"240\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  result *= 5</text><text x=\"0\" y=\"264\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  5--</text><text x=\"0\" y=\"288\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">}</text><text x=\"0\" y=\"312\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\"></text><text x=\"0\" y=\"336\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">result = 30</text><text x=\"0\" y=\"360\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">while(4 &gt; 1) {</text><text x=\"0\" y=\"384\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  result *= 4</text><text x=\"0\" y=\"408\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  4--</text><text x=\"0\" y=\"432\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">}</text><text x=\"0\" y=\"456\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\"></text><text x=\"0\" y=\"480\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">result = 120</text><text x=\"0\" y=\"504\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">while(3 &gt; 1) {</text><text x=\"0\" y=\"528\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  result *= 3</text><text x=\"0\" y=\"552\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  3--</text><text x=\"0\" y=\"576\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">}</text><text x=\"0\" y=\"600\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\"></text><text x=\"0\" y=\"624\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">result = 360</text><text x=\"0\" y=\"648\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">while(2 &gt; 1) {</text><text x=\"0\" y=\"672\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  result *= 2</text><text x=\"0\" y=\"696\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">  2--</text><text x=\"0\" y=\"720\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">}</text><text x=\"0\" y=\"744\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\"></text><text x=\"0\" y=\"768\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">result = 720</text></g><g stroke-linecap=\"round\" transform=\"translate(10.6328125 10) rotate(0 91.837890625 409.23828125)\"><path d=\"M0 0 C48.5 0, 97 0, 183.68 0 M0 0 C38.1 0, 76.21 0, 183.68 0 M183.68 0 C183.68 322.39, 183.68 644.78, 183.68 818.48 M183.68 0 C183.68 209.12, 183.68 418.24, 183.68 818.48 M183.68 818.48 C136.65 818.48, 89.63 818.48, 0 818.48 M183.68 818.48 C139.2 818.48, 94.72 818.48, 0 818.48 M0 818.48 C0 520.36, 0 222.25, 0 0 M0 818.48 C0 552.95, 0 287.41, 0 0\" stroke=\"#1e1e1e\" stroke-width=\"2\" fill=\"none\"></path></g><g stroke-linecap=\"round\"><g transform=\"translate(10.42578125 59.25) rotate(0 91.15625 -0.71875)\"><path d=\"M0 0 C72.12 -0.57, 144.24 -1.14, 182.31 -1.44 M0 0 C71.69 -0.57, 143.39 -1.13, 182.31 -1.44\" stroke=\"#1e1e1e\" stroke-width=\"2\" fill=\"none\"></path></g></g><mask></mask><g stroke-linecap=\"round\"><g transform=\"translate(12.23046875 202.26953125) rotate(0 91.15625 -0.71875)\"><path d=\"M0 0 C36.59 -0.29, 73.19 -0.58, 182.31 -1.44\" stroke=\"#1e1e1e\" stroke-width=\"2.5\" fill=\"none\" stroke-dasharray=\"8 10\"></path></g></g><mask></mask><g stroke-linecap=\"round\"><g transform=\"translate(10.625 347.87109375) rotate(0 91.15625 -0.71875)\"><path d=\"M0 0 C51.33 -0.4, 102.66 -0.81, 182.31 -1.44\" stroke=\"#1e1e1e\" stroke-width=\"2.5\" fill=\"none\" stroke-dasharray=\"8 10\"></path></g></g><mask></mask><g stroke-linecap=\"round\"><g transform=\"translate(11.01953125 492.28125) rotate(0 91.15625 -0.71875)\"><path d=\"M0 0 C57.44 -0.45, 114.88 -0.91, 182.31 -1.44\" stroke=\"#1e1e1e\" stroke-width=\"2.5\" fill=\"none\" stroke-dasharray=\"8 10\"></path></g></g><mask></mask><g stroke-linecap=\"round\"><g transform=\"translate(10 638.734375) rotate(0 91.15625 -0.71875)\"><path d=\"M0 0 C69.77 -0.55, 139.54 -1.1, 182.31 -1.44\" stroke=\"#1e1e1e\" stroke-width=\"2.5\" fill=\"none\" stroke-dasharray=\"8 10\"></path></g></g><mask></mask><g stroke-linecap=\"round\"><g transform=\"translate(10.375 779.0859375) rotate(0 91.716796875 -0.111328125)\"><path d=\"M0 0 C60.87 -0.07, 121.75 -0.15, 183.43 -0.22 M0 0 C42.98 -0.05, 85.97 -0.1, 183.43 -0.22\" stroke=\"#1e1e1e\" stroke-width=\"2\" fill=\"none\"></path></g></g><mask></mask><g stroke-linecap=\"round\"><g transform=\"translate(253.8515625 18.4609375) rotate(0 -21.484375 392.23828125)\"><path d=\"M0 0 C0.51 193.83, 1.02 387.65, 2.05 783.86 M0 0 C0.77 295.38, 1.55 590.76, 2.05 783.86 M2.05 783.86 C-13.35 784.06, -28.75 784.26, -45.02 784.48 M2.05 783.86 C-8.14 783.99, -18.33 784.12, -45.02 784.48\" stroke=\"#e03131\" stroke-width=\"2\" fill=\"none\"></path></g><g transform=\"translate(253.8515625 18.4609375) rotate(0 -21.484375 392.23828125)\"><path d=\"M-45.02 784.48 L-31.51 777.96 L-31.35 790.64 L-45.02 784.48\" stroke=\"none\" stroke-width=\"0\" fill=\"#e03131\" fill-rule=\"evenodd\"></path><path d=\"M-45.02 784.48 C-41.68 782.86, -38.34 781.25, -31.51 777.96 M-45.02 784.48 C-39.93 782.02, -34.84 779.56, -31.51 777.96 M-31.51 777.96 C-31.46 782.11, -31.4 786.25, -31.35 790.64 M-31.51 777.96 C-31.48 780.7, -31.44 783.45, -31.35 790.64 M-31.35 790.64 C-34.7 789.13, -38.05 787.62, -45.02 784.48 M-31.35 790.64 C-35.52 788.76, -39.69 786.88, -45.02 784.48 M-45.02 784.48 C-45.02 784.48, -45.02 784.48, -45.02 784.48 M-45.02 784.48 C-45.02 784.48, -45.02 784.48, -45.02 784.48\" stroke=\"#e03131\" stroke-width=\"2\" fill=\"none\"></path></g></g><mask></mask></svg></div><p>Now, compare it with the substitution model for calculating the factorial of 6 using the recursive function:\n<SVG64 content=\"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUyMy4xMjUwODcxODU1MzM5IDMwOCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTIzLjEyNTA4NzE4NTUzMzkiIGhlaWdodD0iMzA4IiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAgMTApIHJvdGF0ZSgwIDIzNC4zNzUgMTQ0KSI+PHRleHQgeD0iMCIgeT0iMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+ZmFjdG9yaWFsKDYpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjI0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogZmFjdG9yaWFsKDUpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjQ4IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiBmYWN0b3JpYWwoNCkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjcyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIGZhY3RvcmlhbCgzKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9Ijk2IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqICgzICogZmFjdG9yaWFsKDIpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjEyMCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqICgyICogZmFjdG9yaWFsKDEpKSkpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIxNDQiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqICg0ICogKDMgKiAoMiAqIDEpKSkpPC90ZXh0Pjx0ZXh0IHg9IjAiIHk9IjE2OCIgZm9udC1mYW1pbHk9IkNhc2NhZGlhLCBTZWdvZSBVSSBFbW9qaSxtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjBweCIgZmlsbD0iIzFlMWUxZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIiBkb21pbmFudC1iYXNlbGluZT0idGV4dC1iZWZvcmUtZWRnZSI+NiAqICg1ICogKDQgKiAoMyAqIDIpKSk8L3RleHQ+PHRleHQgeD0iMCIgeT0iMTkyIiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj42ICogKDUgKiAoNCAqIDYpKTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyMTYiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAoNSAqIDI0KTwvdGV4dD48dGV4dCB4PSIwIiB5PSIyNDAiIGZvbnQtZmFtaWx5PSJDYXNjYWRpYSwgU2Vnb2UgVUkgRW1vamksbW9ub3NwYWNlIiBmb250LXNpemU9IjIwcHgiIGZpbGw9IiMxZTFlMWUiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciIgZG9taW5hbnQtYmFzZWxpbmU9InRleHQtYmVmb3JlLWVkZ2UiPjYgKiAxMjA8L3RleHQ+PHRleHQgeD0iMCIgeT0iMjY0IiBmb250LWZhbWlseT0iQ2FzY2FkaWEsIFNlZ29lIFVJIEVtb2ppLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMHB4IiBmaWxsPSIjMWUxZTFlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiIGRvbWluYW50LWJhc2VsaW5lPSJ0ZXh0LWJlZm9yZS1lZGdlIj43MjA8L3RleHQ+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTTAgMCBDNjAuMTMgMjAuOTMsIDM3My41OCA4MS4wNywgMzYwLjc1IDEyNS41NyBDMzQ3LjkyIDE3MC4wNiwgLTQuMDMgMjQzLjQxLCAtNzYuOTggMjY2Ljk4IE0wIDAgQzYwLjEzIDIwLjkzLCAzNzMuNTggODEuMDcsIDM2MC43NSAxMjUuNTcgQzM0Ny45MiAxNzAuMDYsIC00LjAzIDI0My40MSwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjk5MjE4NzUgMTYuNjgzNTkzNzUpIHJvdGF0ZSgwIDE0Mi4wNzYyMTU0Njc3NjcwNCAxMzMuNDkwMjM0Mzc1KSI+PHBhdGggZD0iTS03Ni45OCAyNjYuOTggTC02NS40MyAyNTcuNDEgTC02Mi4yMiAyNjkuNjcgTC03Ni45OCAyNjYuOTgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTAzMTMxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48cGF0aCBkPSJNLTc2Ljk4IDI2Ni45OCBDLTc0LjEyIDI2NC42MSwgLTcxLjI3IDI2Mi4yNCwgLTY1LjQzIDI1Ny40MSBNLTc2Ljk4IDI2Ni45OCBDLTczLjk1IDI2NC40NywgLTcwLjkyIDI2MS45NiwgLTY1LjQzIDI1Ny40MSBNLTY1LjQzIDI1Ny40MSBDLTY0LjcgMjYwLjIsIC02My45NyAyNjMsIC02Mi4yMiAyNjkuNjcgTS02NS40MyAyNTcuNDEgQy02NC41OCAyNjAuNjcsIC02My43MyAyNjMuOTMsIC02Mi4yMiAyNjkuNjcgTS02Mi4yMiAyNjkuNjcgQy02Ny41NCAyNjguNywgLTcyLjg1IDI2Ny43MywgLTc2Ljk4IDI2Ni45OCBNLTYyLjIyIDI2OS42NyBDLTY3LjkzIDI2OC42MywgLTczLjYzIDI2Ny41OSwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCBNLTc2Ljk4IDI2Ni45OCBDLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCwgLTc2Ljk4IDI2Ni45OCIgc3Ryb2tlPSIjZTAzMTMxIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PC9nPjxtYXNrPjwvbWFzaz48L3N2Zz4=\" /></p>\n<p>Note that, in the iterative function, the arrow shape is linear and we can see the state of each variable at each step. In addition, at each iteration of our loop, a calculation is performed and the variables stored in memory are updated. In the recursive function, the arrow shape is exponential and we cannot see the state of all variables in the first half of the processing. In addition, each time the function is executed, more memory needs to be used to store the resulting values of each execution.</p>\n<p>But what does this mean? In order for JavaScript to calculate the factorial of 6 using the iterative function, the <code>while</code> condition is added to the stack, where its calculation is performed, the <code>result</code> variable is updated, and then the executed code block of the <code>while</code> is removed from the stack. This is done until the while condition is false, that is, until the value of <code>n</code> is less than or equal to 1.</p>\n<p>In the recursive function, each call to the <code>factorial</code> function is added to the stack as many times as necessary until the if condition is false, that is, until the value of <code>n</code> is less than or equal to 1. This means that, to calculate the factorial of 6, the <code>factorial</code> function is added to the stack 6 times before being executed. And that’s why, when we try to calculate the factorial of a large number (100,000, for example), we encounter the error <code>RangeError: Maximum call stack size exceeded</code>: there is not enough space in the stack to store all the calls to the <code>factorial</code> function.</p>\n<h2>Introducing Tail Call Optimization</h2>\n<p>As defined by <a href=\"https://dr-axel.de/\">Dr. Axel Rauschmayer</a>:</p>\n<blockquote>\n<p>[…] whenever the last thing a function does is call another function, then this last function does not need to return to its caller. As a consequence, no information needs to be stored on the call stack and the function call is more like a goto (a jump). This type of call is called a <em>tail call</em>; not increasing the stack is called tail call optimization (TCO).</p>\n</blockquote>\n<p>Now, we have discovered that our factorial calculation function is not tail recursive. But how can we make it tail recursive? With the help of another function:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(n, </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">x</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">accumulator</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>Now, our function is tail recursive: the last thing it does is call a function (and not calculate an expression, as in the first implementation). Now, let’s see the substitution model for calculating the factorial of 6 with our new <code>factorial</code> function:</p>\n<div class=\"flex align-center justify-center\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 321.31640625 228.421875\" style=\"max-width: 300px;\">\n  <rect x=\"0\" y=\"0\" width=\"321.31640625\" height=\"228.421875\" fill=\"#ffffff\"></rect><g transform=\"translate(10 26.421875) rotate(0 134.765625 96)\"><text x=\"0\" y=\"0\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorial(6)</text><text x=\"0\" y=\"24\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorialHelper(6, 1)</text><text x=\"0\" y=\"48\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorialHelper(5, 6)</text><text x=\"0\" y=\"72\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorialHelper(4, 30)</text><text x=\"0\" y=\"96\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorialHelper(3, 120)</text><text x=\"0\" y=\"120\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorialHelper(2, 360)</text><text x=\"0\" y=\"144\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">factorialHelper(1, 720)</text><text x=\"0\" y=\"168\" font-family=\"Cascadia, Segoe UI Emoji, monospace\" font-size=\"20px\" fill=\"#1e1e1e\" text-anchor=\"start\" style=\"white-space: pre;\" direction=\"ltr\" dominant-baseline=\"text-before-edge\">720</text></g><g stroke-linecap=\"round\"><g transform=\"translate(319.91015625 10) rotate(0 -24.41015625 99.6640625)\"><path d=\"M-8.59 0 C-8.77 77.75, -8.95 155.51, -9.05 199.33 M-8.59 0 C-8.72 57.11, -8.86 114.22, -9.05 199.33 M-9.05 199.33 C-17.24 199.22, -25.44 199.11, -40.23 198.91 M-9.05 199.33 C-20.96 199.17, -32.87 199.01, -40.23 198.91\" stroke=\"#e03131\" stroke-width=\"2\" fill=\"none\"></path></g><g transform=\"translate(319.91015625 10) rotate(0 -24.41015625 99.6640625)\"><path d=\"M-40.23 198.91 L-26.55 192.75 L-26.72 205.43 L-40.23 198.91\" stroke=\"none\" stroke-width=\"0\" fill=\"#e03131\" fill-rule=\"evenodd\"></path><path d=\"M-40.23 198.91 C-34.89 196.51, -29.56 194.11, -26.55 192.75 M-40.23 198.91 C-36.31 197.15, -32.39 195.38, -26.55 192.75 M-26.55 192.75 C-26.59 196.09, -26.64 199.42, -26.72 205.43 M-26.55 192.75 C-26.61 197.6, -26.68 202.44, -26.72 205.43 M-26.72 205.43 C-29.5 204.09, -32.27 202.75, -40.23 198.91 M-26.72 205.43 C-30.27 203.72, -33.81 202.01, -40.23 198.91 M-40.23 198.91 C-40.23 198.91, -40.23 198.91, -40.23 198.91 M-40.23 198.91 C-40.23 198.91, -40.23 198.91, -40.23 198.91\" stroke=\"#e03131\" stroke-width=\"2\" fill=\"none\"></path></g></g><mask></mask></svg></div><p><a href=\"https://jsben.ch/vOf9P\">The performance is superior</a> to our first implementation, although it still doesn’t beat the performance of the iterative function. However, we still encounter the error <code>RangeError: Maximum call stack size exceeded</code>. But why does this happen? Because, despite our function being tail recursive, current versions of Node.js and browsers (<a href=\"https://webkit.org/blog/6240/ecmascript-6-proper-tail-calls-in-webkit/\">with the exception of Safari</a>) do not implement Tail Call Optimization (despite its inclusion in the <a href=\"https://262.ecma-international.org/6.0/#sec-tail-position-calls\">EcmaScript</a> specification since 2015).</p>\n<p>But how will we solve this problem? With the help of another function, of course! For that, we will rely on the <a href=\"https://en.wikipedia.org/wiki/Trampoline_(computing)\">Trampoline</a> pattern:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">typeof</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">function</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>Our trampoline function consists of a loop that invokes a function that wraps another function (what we call a <a href=\"https://en.wikipedia.org/wiki/Thunk\">thunk</a>) until there are no more functions to execute. Let’s see how the implementation of our factorial function would look like with the Trampoline pattern:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">typeof</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">function</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">x</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">accumulator</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Now, a function returns another function</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> () </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(n, </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">))</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And now, we can call our factorial function with a large number, without encountering the error <code>RangeError: Maximum call stack size exceeded</code>. Of course, depending on the factorial we want to calculate, we will encounter an Infinity, as it is a very large number (a number greater than Number.MAX_SAFE_INTEGER: 253 - <sup>1</sup>). In this case, we can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\">BigInt</a>:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">typeof</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">function</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">x</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">accumulator</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> () </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // Converting values to BigInt</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  //-------------------------------\\/----------\\/</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">BigInt</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(n), </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">))</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>Typing our function</h2>\n<p>And finally, let’s add the necessary types to our factorial function:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Thunk</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> bigint</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (() </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Thunk</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">fn</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Thunk</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  while</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">typeof</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">function</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">x</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> bigint</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">accumulator</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> bigint</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Thunk</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x3C;=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> () </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 1</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, x </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> accumulator)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> factorial</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">n</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> trampoline</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">factorialHelper</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">BigInt</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(n), </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">1</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">n</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">))</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://www.mgmarlow.com/words/2021-03-27-proper-tail-calls-js/\">What happened to proper tail calls in JavaScript?</a></li>\n<li><a href=\"https://exploringjs.com/es6/ch_tail-calls.html\">Tail Call Optmization</a></li>\n<li><a href=\"http://cangaceirojavascript.com.br/limites-recursao-javascript-tco-e-pattern-trampoline/\">Limites da recursão em JavaScript, TCO e o pattern Trampoline</a></li>\n<li><a href=\"https://softwareengineering.stackexchange.com/a/189973/383960\">What is an Activation object in JavaScript?</a></li>\n<li><a href=\"https://mathworld.wolfram.com/Factorial.html\">Factorial</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=_JtPhF8MshA\">Tail Recursion Explained - Computerphile</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=-PX0BV9hGZY\">Tail Call Optimization: The Musical!!</a></li>\n</ul>\n",
    "tags": [
      "algorithms",
      "javascript",
      "mathematic",
      "Node.js"
    ],
    "translates": "rc3oq9fakzdn3ad"
  },
  {
    "id": "afekje3ez7b2byc",
    "title": "How to calculate the border-radius of nested elements",
    "slug": "how-to-calculate-the-border-radius-of-nested-elements",
    "locale": "en-US",
    "created": "2023-08-30T18:47:17.057Z",
    "updated": "2023-08-30T18:50:19.490Z",
    "content": "<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius\"><code>border-radius</code></a> property allows you to round the edges of an element. Giving the same <code>border-radius</code> value to the parent element and child element doesn’t result in the best appearance, so how do you calculate the border radius of nested elements?</p>\n<p>Check out the demo below:</p>\n<iframe loading=\"lazy\" allowtransparency allowfullscreen height=\"380px\" width=\"100%\" title=\"Styled Dialog\" src=\"https://codepen.io/douglasdemoura/embed/KKbzrER\n?default-tab=result&embed-version=2\"></iframe><p>In the example above, the two circles have the same radius and are inscribed in squares with rounded edges. Note that the radius of the border is the same as the radius of the circle. We want the end of the arc of the circle each edge starts to be coincident with both squares. This can be done in two ways:</p>\n<ol>\n<li>Radius of the border of the inner square (R<sub>i</sub>) + spacing between squares (E) = radius of the border of the outer square (R<sub>e</sub>);</li>\n<li>Outer square border radius (R<sub>e</sub>) - spacing between squares (E) = inner square border radius R<sub>i</sub>.</li>\n</ol>\n<p>Note that the center of the circles inscribed in the squares do not coincide, as well as the end of the border arc. Still, the result is satisfactory.</p>\n<h2>Bonus</h2>\n<p>In this interactive example, made by <a href=\"https://jhey.dev/\">Jhey Tompkins</a>, you can see how this rule applies in practice:</p>\n<CodePen user=\"jh3y\" id=\"KKrYaxx\n?default-tab=result&embed-version=2\"></iframe><h2>References</h2>\n<ul>\n<li><a href=\"https://twitter.com/jh3yy/status/1688542283602231296\">@jh3yy</a></li>\n<li><a href=\"https://www.30secondsofcode.org/css/s/nested-border-radius/\">Tip: Perfect nested border radius in CSS</a></li>\n<li><a href=\"https://www.w3schools.com/cssref/css3_pr_border-radius.asp\">CSS3 border-radius Property</a></li>\n<li><a href=\"https://www.w3.org/TR/css-backgrounds-3/#corners\">CSS Backgrounds and Borders Module Level 3</a></li>\n</ul>\n",
    "tags": [
      "CSS",
      "HTML"
    ],
    "translates": "jyetft1jka7szdn"
  },
  {
    "id": "pgltwbdkto3gado",
    "title": "The minimum you need to know to test your APIs with CURL",
    "slug": "the-minimum-you-need-to-know-to-test-your-apis-with-curl",
    "locale": "en-US",
    "created": "2023-08-30T18:41:29.529Z",
    "updated": "2024-06-02T00:25:38.664Z",
    "content": "<p><a href=\"https://github.com/curl/curl\">CURL</a> is a command-line tool that allows you to transmit data with URL syntax, supporting a myriad of protocols (DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTP, WS and WSS). In this article, I will focus on using CURL to make HTTP requests to APIs, which, at least for me, is the most common use.</p>\n<h2>Installation</h2>\n<p>CURL is already installed on most Linux distributions and <a href=\"https://techcommunity.microsoft.com/t5/containers/tar-and-curl-come-to-windows/ba-p/382409\">recent versions of Windows</a>. To check if it’s installed, just run the <code>curl</code> command in the terminal. If you don’t have CURL installed, you can install it with the command <code>sudo apt install curl</code> (Ubuntu/Debian) or <code>sudo yum install curl</code> (CentOS/Fedora) or <code>winget install curl</code> (Windows).</p>\n<p>Oh, and as it is common for us to work with REST APIs in web development, another command-line tool that will be useful to us is <a href=\"https://jqlang.github.io/jq/\"><code>jq</code></a>, which serves to format JSON in the terminal. To install <code>jq</code>, just run the command <code>sudo apt install jq</code> (Ubuntu/Debian) or <code>sudo yum install jq</code> (CentOS/Fedora) or <code>winget install jqlang.jq</code> (Windows).</p>\n<h2>Our example API</h2>\n<p>For didactic purposes, I will use <a href=\"https://dummyjson.com/\">DummyJSON</a> as an API.</p>\n<h2>Making a GET request</h2>\n<p>To make a GET request, just run the <code>curl</code> command followed by the URL you want to access. For example, to request data for product 1, just run the command <code>curl https://dummyjson.com/products/1</code>.</p>\n<p>And, to format the output, just add a <code>| jq</code> at the end of the command:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">curl</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://dummyjson.com/products/1</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> jq</span></span></code></pre>\n<h2>Making a POST, PUT, PATCH or DELETE request with JSON in the body</h2>\n<p>To make a POST request, just run:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">curl</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> --json</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">{\"title\": \"New product\"}</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://dummyjson.com/products/add</span></span></code></pre>\n<p>The <code>curl</code> will take care of adding the headers <code>Content-Type: application/json</code> and <code>Accept: application/json</code>. If you want to make a <code>PUT</code>, <code>PATCH</code> or <code>DELETE</code> request, add the <code>-X</code> option followed by the HTTP method you want to use. For example, to make a <code>PUT</code>, run:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">curl</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> -X</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> PUT</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> --json</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">{\"title\": \"New title\"}</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://dummyjson.com/products/1</span></span></code></pre>\n<p>You can also send a JSON file instead of typing the JSON in the terminal by putting an @ in front of the file name:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">curl</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> --json</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> @arquivo.json</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://dummyjson.com/products/add</span></span></code></pre>\n<p>Or passing data from <a href=\"https://man.archlinux.org/man/stdin.3.en\"><em>stdin</em></a> (note that I use <code>@-</code> instead of <code>@</code> to indicate that the data will come from <em>stdin</em>):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">curl</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> --json</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> @-</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://dummyjson.com/products/add</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> &#x3C;</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> file.json</span></span></code></pre>\n<h2>Making a request with headers</h2>\n<p>To make a request with headers, just run the <code>curl</code> command followed by the URL you want to access, and the <code>-H</code> option followed by the header you want to send. So, to send a Bearer Token, you would run the following command:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">curl</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> -H</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Authentication: Bearer token</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> --json</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">{\"title\": \"New product\"}</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://dummyjson.com/products/add</span></span></code></pre>\n<h2>Some Exercises</h2>\n<p>Julia Evans published a few exercises to help you become fluent in curl. It should be worth to take a look at <a href=\"https://jvns.ca/blog/2019/08/27/curl-exercises/\">this post</a> in her blog.</p>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://manpages.ubuntu.com/manpages/lunar/en/man1/curl.1.html\">curl manpage</a></li>\n</ul>\n",
    "tags": [
      "curl",
      "API",
      "HTTP"
    ],
    "translates": "5ufu9x2h9ilz2jr"
  },
  {
    "id": "pd682cq57ureywz",
    "title": "Creating native modals with the dialog element",
    "slug": "creating-native-modals-with-the-dialog-element",
    "locale": "en-US",
    "created": "2023-08-13T19:29:49.318Z",
    "updated": "2023-08-15T00:22:38.749Z",
    "content": "<p>Using custom dialog elements instead of native browser implementations, such as <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/alert\"><code>alert</code></a>,\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm\"><code>confirm</code></a>, or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt\"><code>prompt</code></a>,\nhas become the standard for web development for quite some time (popularized by various <a href=\"https://jqueryui.com/dialog/\">jQuery</a> plugins and by <a href=\"https://getbootstrap.com/2.3.2/javascript.html#modals\">Bootstrap</a> itself), so that with every new UI library that emerges[^1][^2][^3], it is common for its authors to re-implement a modal with the framework of the moment (which may or may not implement <a href=\"https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/\">WAI-ARIA accessibility</a>).</p>\n<p>[^1]: <a href=\"https://mui.com/material-ui/react-modal/\">Material UI Modal</a>\n[^2]: <a href=\"https://ant.design/components/modal\">Ant Design Modal</a>\n[^3]: <a href=\"https://carbondesignsystem.com/components/modal/usage/#live-demo\">Carbon Design System Modal</a></p>\n<p>But now, with the arrival of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog\"><code>&lt;dialog&gt;</code></a> element in HTML5 (supported by <a href=\"https://caniuse.com/dialog\">93.85%</a> of browsers in use), it is much easier to create dialogs natively. In this article, we will see how to create a simple modal (and non-modal) dialog with the <code>&lt;dialog&gt;</code> element.</p>\n<h2>Understanding the <em>dialog</em> element</h2>\n<p>In the sense employed in user interface development, a <strong>dialog</strong> is a <q>conversation</q> between the system and the user, where the system expects a response from the user to continue. A dialog can be <strong>modal</strong> or <strong>non-modal</strong>. A modal dialog (that is, one that changes the <strong>mode</strong> of interaction of the user with the system) is one that locks the interface, preventing the user from interacting with the rest of the page until it is closed. A non-modal dialog (that is, one that <em>does not</em> change the <strong>mode</strong> of interaction of the user with the system), on the other hand, allows the user to interact with the rest of the page while the dialog is open.</p>\n<p>The simplest way to put a non-modal dialog on the screen is as follows:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-html\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">dialog</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B;font-style:italic;--shiki-dark-font-style:italic\"> open</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">p</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>Olá, mundo!&#x3C;/</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">p</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">form</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B;font-style:italic;--shiki-dark-font-style:italic\"> method</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">dialog</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    &#x3C;</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">button</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>Fechar&#x3C;/</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">button</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;/</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">form</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;/</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">dialog</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span></code></pre>\n<p>Note the form, on line 5, with the <em>dialog</em> method. It is this form that sends actions to the <code>dialog</code>. It will be displayed like this:</p>\n<iframe loading=\"lazy\" allowtransparency allowfullscreen height=\"380px\" width=\"100%\" title=\"Styled Dialog\" src=\"https://codepen.io/douglasdemoura/embed/zYMgBOz\n?default-tab=result&embed-version=2\"></iframe><p>What makes the example above a non-modal dialog is the use of the <code>open</code> attribute (line 1), which also makes it unable to be closed with the <code>Esc</code> key. It’s possible to create a non-modal dialog using the JavaScript API:</p>\n<iframe loading=\"lazy\" allowtransparency allowfullscreen height=\"380px\" width=\"100%\" title=\"Styled Dialog\" src=\"https://codepen.io/douglasdemoura/embed/BaGXqjx\n?default-tab=result&embed-version=2\"></iframe><p>In order for it to behave like a modal, it is necessary to open it through its JavaScript API, as we will see next.</p>\n<iframe loading=\"lazy\" allowtransparency allowfullscreen height=\"380px\" width=\"100%\" title=\"Styled Dialog\" src=\"https://codepen.io/douglasdemoura/embed/VwVojZB\n?default-tab=result&embed-version=2\"></iframe><p>This time, we open and close the modal with JavaScript and put the form result in the <code>output</code> element when the modal is closed. Read the code carefully and try to understand what is happening.</p>\n<h2>Styling the modal</h2>\n<p>The <code>dialog</code> element can (of course), be styled like any other HTML element. However, note that, to style the overlay (the dark background behind the modal), it is necessary to use the <code>::backdrop</code> selector:</p>\n<iframe loading=\"lazy\" allowtransparency allowfullscreen height=\"380px\" width=\"100%\" title=\"Styled Dialog\" src=\"https://codepen.io/douglasdemoura/embed/gOQVMYE\n?default-tab=result&embed-version=2\"></iframe><h2>Polyfill</h2>\n<p>If you want to use <code>dialog</code> and don’t have compatibility issues in older browsers, you can use this <a href=\"https://github.com/GoogleChrome/dialog-polyfill\">polyfill</a>.</p>\n<hr />\n<h3>References</h3>\n<ul>\n<li><a href=\"https://web.dev/learn/html/dialog/\">Dialog</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog\">Dialog</a></li>\n<li><a href=\"https://www.nngroup.com/articles/modal-nonmodal-dialog/\">Modal &amp; Nonmodal Dialogs: When (&amp; When Not) to Use Them</a></li>\n</ul>\n",
    "tags": [
      "html",
      "javascript",
      "tutorial"
    ],
    "translates": "066kuym52jk3nbp"
  },
  {
    "id": "j5ouuw7zm51z2ts",
    "title": "Using fetch with TypeScript",
    "slug": "using-fetch-with-typescript",
    "locale": "en-US",
    "created": "2023-06-02T12:19:46.717Z",
    "updated": "2023-06-04T19:57:40.482Z",
    "content": "<p>Since <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\"><code>fetch</code></a>) is pratically <a href=\"https://caniuse.com/?search=fetch\">universally supported</a> on the most used web browsers, we may safely drop the use <a href=\"https://axios-http.com/\">Axios</a> and other similar libraries in favor of <code>fetch</code>. In this article, I’ll create a little wrapper for <code>fetch</code> that adds some conveniences to improve the developer experience.</p>\n<h2>The code</h2>\n<p>First, I will create a base function from where all the other shall be derived:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Extends the error class to throw HTTP Errors (any response with status > 299)</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">class</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> HTTPError</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> extends</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">//            A generic type to type the response</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// -----------\\/</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> query</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> &#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">T</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">init</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  fetch</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(url, init).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">then</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">res</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">res.ok)</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      throw</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-weight:bold;--shiki-dark-font-weight:bold\"> new</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> HTTPError</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(res.statusText, { cause</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> res })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> res.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">json</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">() </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">as</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Promise</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">T</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">> </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// &#x3C;--- Applying the generic type above</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  })</span></span></code></pre>\n<p>In the code above, we:</p>\n<ol>\n<li>Created a new <code>HTTPError</code> class, in order to throw <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\">HTTP Errors</a> as they appear;</li>\n<li>Use a <a href=\"https://www.typescriptlang.org/docs/handbook/2/generics.html\">generic type</a> in order to be able to type the response of the request.</li>\n</ol>\n<p>Now, let’s extend the query function to enable us to serialize and send data on our requests:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> makeRequest</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  // -----------\\/ RequestInit['method'] is a union of all the possible HTTP methods</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">method</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">method</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    //     | Those two generic types enables us to type the</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">    // \\/--  data input (TBody) and output (TResponse) of the function.</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    &#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TBody</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> Record</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>>(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TBody</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">      query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(url, {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">        method,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">        body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> JSON</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">stringify</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(body), </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// &#x3C;-- JSON Stringify any given object</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      })</span></span></code></pre>\n<p>In the code above, we:</p>\n<ol>\n<li>We build a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\">closure</a> that, first, receive the method we want to call and then returns a function where we pass the <code>url</code> and the <code>body</code> (which is, by default, <em>JSON-stringified</em>) of the request.</li>\n</ol>\n<p>At this point, we can use our newly created functions like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Adding type for the Product entity</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Product</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  description</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  price</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  discountPercentage</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  rating</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  stock</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  brand</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  category</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  thumbnail</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  images</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Getting a single product</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> product </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> await</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">Product</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">https://dummyjson.com/products/1</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">console.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">log</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(product)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Creates a function that makes POST requests</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> post </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">POST</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Adding a new product</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> newProduct </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> await</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> post</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">Product</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">Omit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">Product</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">id</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>>(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">https://dummyjson.com/products</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">New Product</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  description</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">This is a new product</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  price</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 100</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  discountPercentage</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  rating</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  stock</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  brand</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">New Brand</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  category</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">New Category</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  images</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [],</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  thumbnail</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> ''</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">console.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">log</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(newProduct)</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Fully functional, but not very “ergonomic”. I believe that our code should also be able to accept a base URL for all the requests, make it easier to add things on the header (like an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization\">authorization token</a>) and an easy way to make <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH\"><code>PATCH</code></a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT\"><code>PUT</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE\"><code>DELETE</code></a> requests.</p>\n<p>Let’s refactor the code above in order to make it easy to add a base URL and pass a common header to all requests:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { getToken } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">my-custom-auth</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">class</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> HTTPError</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> extends</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> createQuery </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">baseURL</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> ''</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">baseInit</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    &#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">T</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">init</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">      fetch</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">${</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">baseURL</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}${</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, { </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">baseInit, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">init }).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">then</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">res</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">        if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">res.ok)</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">          throw</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-weight:bold;--shiki-dark-font-weight:bold\"> new</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> HTTPError</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(res.statusText, { cause</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> res })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">         return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> res.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">json</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">() </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">as</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Promise</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">T</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">       })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// This is the function where we define our base URL and headers</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> query </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> createQuery</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">https://dummyjson.com</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    headers</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Content-Type</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">application/json</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Authorization</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> `Bearer </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">${</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">getToken</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// If you need to add a token to the header, you can do it here.</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    },</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">method</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">method</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TBody</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> Record</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>>(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TBody</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">    query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(url, {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      method,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> JSON</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">stringify</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(body),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">     })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> api </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  get</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> query,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  post</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">POST</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  delete</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">DELETE</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  put</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">PUT</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  patch</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">PATCH</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>In the code above, I:</p>\n<ol>\n<li>Created a <code>createQuery</code> function, a closure where I can set a default <a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/URL\"><code>url</code></a> and <code>init</code> parameters;</li>\n<li>Created a new <code>query</code> function, where I use the <code>createQuery</code> function to define the base URL and the default parameters that all requests should have (note the dummy <code>getToken</code> function that adds a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication\">Bearer Token</a> to each request);</li>\n<li>In the end, I export the <code>api</code> object all the commonly used function to make requests.</li>\n</ol>\n<p>You may want to return the body of a request that returned an error, like, for example, when your backend returns the standardized <a href=\"https://datatracker.ietf.org/doc/html/rfc7807\">problem details</a>. So, the refactored code would be:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { getToken } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">my-custom-auth</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Extends the return of the HTTPError class</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">class</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> HTTPError</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> extends</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  readonly</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> response</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> any</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  readonly</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> status</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  readonly</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> statusText</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  constructor</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">status</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">statusText</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">response</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> any</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9;font-style:italic;--shiki-dark-font-style:italic\">    super</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(statusText);</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9;font-style:italic;--shiki-dark-font-style:italic\">    this</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.status </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> status;</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9;font-style:italic;--shiki-dark-font-style:italic\">    this</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.statusText </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> statusText;</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9;font-style:italic;--shiki-dark-font-style:italic\">    this</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.response </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> response;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> createQuery </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">baseURL</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> ''</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">baseInit</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    &#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">init</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">      fetch</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">${</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">baseURL</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}${</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, { </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">baseInit, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">init }).</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">then</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">async</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">res</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">        // Now, we get the JSON response early</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">        const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> response </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> await</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> res.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">json</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">        if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">res.ok)</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">          throw</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-weight:bold;--shiki-dark-font-weight:bold\"> new</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> HTTPError</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(res.status, res.statusText, response);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">         return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> response </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">as</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TResponse</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">       })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// In this function, we define our base URL and headers.</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> query </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> createQuery</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">  '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">https://dummyjson.com</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    headers</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Content-Type</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">application/json</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span></span>\n<span class=\"line\"><span style=\"color:#E9F284;--shiki-dark:#E9F284\">      '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Authorization</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> `Bearer </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">${</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">getToken</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">}</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">`</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// If you need to add a token to the header, you can do it here.</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    },</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">method</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInit</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">method</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  &#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TBody</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> Record</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">unknown</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>>(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> RequestInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> |</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> URL</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TBody</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">    query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">TResponse</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(url, {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      method,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      body</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> JSON</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">stringify</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(body),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">     })</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> api </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  get</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> query,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  post</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">POST</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  delete</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">DELETE</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  put</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">PUT</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  patch</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> makeRequest</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">PATCH</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">),</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And now, you can use your new wrapper around fetch like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Product</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  description</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  price</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  discountPercentage</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  rating</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  stock</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> number</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  brand</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  category</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  thumbnail</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  images</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> string</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">[]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// GET https://dummyjson.com/products/1</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">api</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  .</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">get</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">Product</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">/products/1</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  .</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">then</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">console</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">log</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  .</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">catch</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">((</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">err</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">    if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">err</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> instanceof</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> HTTPError</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Handle HTTP Errors</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      console.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">HTTPError</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, err);</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">    if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">err</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> instanceof</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> SyntaxError</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">      // Handle error parsing of the response</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      console.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">SyntaxError</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, err);</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">    console</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">error</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Other errors</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">err</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">);</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">});</span></span></code></pre>\n<h2>Final thoughts</h2>\n<p>The code above is not full-featured as <a href=\"https://axios-http.com/\">Axios</a>, <a href=\"https://github.com/developit/redaxios\">redaxios</a>, <a href=\"https://github.com/sindresorhus/ky\">ky</a> or <a href=\"https://github.com/elbywan/wretch\">wretch</a>, but, most of the time, it is all need when I’m working with React using <a href=\"https://swr.vercel.app/\">SWR</a> or <a href=\"https://tanstack.com/query/latest\">TanStack Query</a> (and on the backend too). Give me your thoughts about the code and show me your improvements (if you want). You can access this code on this <a href=\"https://gist.github.com/DouglasdeMoura/59ce418672d0e33dda7056b382b01de9\">gist</a>.</p>\n",
    "tags": [
      "typescript",
      "javascript"
    ],
    "translates": "k9f6b2e2nioulc6"
  },
  {
    "id": "l63ql849ju0fg4l",
    "title": "How to push an empty commit on Git?",
    "slug": "how-to-push-an-empty-commit-on-git",
    "locale": "en-US",
    "created": "2023-01-13T21:03:48.079Z",
    "updated": "2023-01-13T21:03:48.079Z",
    "content": "<p>Have you ever had to run a <a href=\"https://www.redhat.com/pt-br/topics/devops/what-cicd-pipeline\">CI/CD pipeline</a> that is triggered by a commit, when\nthere is no code changes to be commited?</p>\n<p>Well, just use the command below:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">git</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> commit</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> --allow-empty</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> -m</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">ci: trigger pipeline with an empty commit</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span></code></pre>\n<p>And then, just push the commit to the remote repository:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">git</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> push</span></span></code></pre>\n<p>That’s it!</p>\n",
    "tags": [
      "Git"
    ],
    "translates": "e62l4z2ckms6roz"
  },
  {
    "id": "l1ko9m5j8svvm88",
    "title": "New year, new blog (or how I created this blog for 2023)",
    "slug": "new-year-new-blog-or-how-i-created-this-blog-for-2023",
    "locale": "en-US",
    "created": "2023-01-01T18:29:53.355Z",
    "updated": "2023-08-12T13:31:07.448Z",
    "content": "<p>New year, new blog! After delaying the publication of my blog for a long time, I finally finished developing it using <a href=\"https://nextjs.org/\">Next.js</a>, <a href=\"https://pocketbase.io/\">PocketBase</a>, and <a href=\"https://mantine.dev/\">Mantine</a>. Want to know why I chose these tools? Then, keep reading here with me.</p>\n<p>I’ve been creating blogs for a long time (since 2007). I started with Blogger, but then I migrated to WordPress. And that’s when I started to be interested in Linux and programming. I spent a lot of time creating themes, customizing plugins, reading documentation, and translating themes and plugins for WordPress. And, although WordPress is an excellent CMS for those who just want to publish a website as quickly as possible, this time I wanted something more personalized, containing all the features I would like to have and nothing more. From there, I started researching.</p>\n<p>I tried several CMSs (<a href=\"https://directus.io/\">Directus</a>, <a href=\"https://keystonejs.com/\">KeystoneJS</a>,\n<a href=\"https://strapi.io/\">Strapi</a> and <a href=\"https://getcockpit.com/\">Cockpit</a>), but what I found most simple to meet my need was <a href=\"https://pocketbase.io/\">PocketBase</a>, mainly because I intended to self-host my solution. The other CMSs are great, but when you’re a team of one, you have to choose the right tools. And what’s easier for one person to manage than an SQLite database? PocketBase already exposes database updates in real time with SSE, provides authentication and file management (with integration with S3), SDK for JavaScript and Flutter, and can even be used as a framework. All this within a small binary written in Go (if you want to know more about PocketBase, <a href=\"https://pocketbase.io/docs/\">read the documentation</a> and watch this video from <a href=\"https://www.youtube.com/watch?v=Wqy3PBEglXQ\">FireShip</a>, where he shows how to create a real-time chat system with PocketBase). And finally, in order to have real-time backups of my SQLite database and send them to S3, I use <a href=\"https://litestream.io/\">Litestream</a>. Well, having made the choice for the backend, let’s move on to the frontend.</p>\n<p>I tried <a href=\"https://astro.build/\">Astro</a> (which is excellent!) and <a href=\"https://remix.run/\">Remix</a>, but I ended up choosing Next.js, mainly because of the Vercel image generation library, which I use to generate images of the post, like this one:</p>\n<img src=\"https://douglasmoura.dev/api/v1/og?ok\" alt=\"The job that's never started as takes longest to finish\" />\n<p>And here we come to the choice of what I would use to create the styles of the blog. In recent years, I styled React applications with <a href=\"https://github.com/css-modules/css-modules\">CSS Modules</a>, <a href=\"https://styled-components.com/\">Styled Components</a>, <a href=\"https://stitches.dev/\">Stitches</a>, <a href=\"https://tailwindcss.com/\">Tailwind</a> and <a href=\"https://chakra-ui.com/\">Chakra UI</a>. I even stated to create a Design System with Stitches and Tailwind, but create an entire Design System all by myself would take a long time, so, I decided to take the shorter route.</p>\n<p>I have tried a few libraries until I found <a href=\"https://mantine.dev/\">Mantine</a>, which is an excellent library packaged with everything I wanted to use.\nFrom there, the work consisted of implementing the blog with the basic initial features:</p>\n<ul>\n<li><a href=\"https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration\">Incremental Static Regeneration</a> of posts;</li>\n<li>Form validation with <a href=\"https://github.com/colinhacks/zod\">Zod</a>;</li>\n<li>Nested comment system with anti-spam verification provided by <a href=\"https://akismet.com/\">Akismet</a>;</li>\n<li>Display of commentator avatars with <a href=\"http://pt.gravatar.com/\">Gravatar</a>;</li>\n<li>SVG Favicon with light/dark mode;</li>\n<li>I18n (Portuguese and English).</li>\n</ul>\n<p>With all that ready, I changed the canonical URLs of my articles on <a href=\"https://dev.to/douglasdemoura\">Dev.to</a> to point to the new URLs and finally published my blog.</p>\n<p>Of course, if you’re reading this on my blog now, you’ll see that an important feature is still missing: search. I’ll be studying possible solutions for this in the coming days, but I’ll already let you know that you can preview the functionality by pressing the <kbd>/</kbd> key on any page.</p>\n<p>Happy 2023, everyone 🎉.</p>\n",
    "tags": [
      "designsystem",
      "webdev",
      "programming"
    ],
    "translates": "6cotdaubg05n32i"
  },
  {
    "id": "i9fkingsi8pcbqk",
    "title": " Introduction to GraphQL",
    "slug": "introduction-to-graphql",
    "locale": "en-US",
    "created": "2022-11-17T15:00:00.000Z",
    "updated": "2022-12-29T14:51:23.352Z",
    "content": "<p><a href=\"https://graphql.org/\">GraphQL</a> is a query language for APIs and a runtime for fulfilling those queries with your existing data, developed by Facebook in 2012 and open sourced in 2015. The goal was to create a query language that allowed fine-grained control over the needed data a client can request to an API server.</p>\n<p>A GraphQL service is created by defining <strong>types</strong> and <strong>fields</strong> to those types in a <strong>schema</strong>. A commom way to defining the schema of your GraphQL service is through the GraphQL Schema Definition Language (SDL).</p>\n<p>In this article, I’ll show how to create a GraphQL schema compliant with the <a href=\"https://relay.dev/docs/guides/graphql-server-specification/\">Relay GraphQL Server</a> specification.</p>\n<h2>Defining your schema in GraphQL</h2>\n<p>A GraphQL schema should informe the users about all the types and objects that can be queried and mutated on the graph. GraphQL even provides a feature to query metadata about those types and objects, which can be used to document the GraphQL.</p>\n<p>Let’s define a simple schema using GraphQL SDL (Schema Definition Language):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-graphql\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Serialize and validate JavaScript dates.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">scalar</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Date</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Node interface</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">interface</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Node</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ID</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Priority level</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">enum</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Priority</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  LOW</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  MEDIUM</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  HIGH</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">A task that the user should complete</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> implements</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Node</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task ID\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  id ID!</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> # ID is a GraphQL special type for IDs.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task title\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title String!</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task creation date\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  created</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Date</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task modification date\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  modified</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Date</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  priority</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Priority</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Needed input data to add a new task.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">input</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> AddTaskInput</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> String</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  priority</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Priority</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Get a task by ID\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  task(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ID</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Mutation</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  addTask(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">input</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> AddTaskInput</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<ol>\n<li>First we define a <a href=\"https://graphql.org/learn/schema/#scalar-types\">custom Date scalar</a> that should validate and serialize Date objects;</li>\n<li>We define a <code>Node</code> interface. I’ll explain more on why I’m defining this interface the next topic;</li>\n<li>We define an <a href=\"https://graphql.org/learn/schema/#enumeration-types\">enumeration type</a> to define the valid priority status of a task;</li>\n<li>We create our <code>Task</code> type with all the field it should contain. Notice that all field with the exclamation mark at the end are obligatory;</li>\n<li>We add an input called <code>AddTaskInput</code> that defines the obligatory data to add a new <code>Task</code>;</li>\n<li>In the Query type (which is a GraphQL reserved type), we define what queries are available from our root object;</li>\n<li>In the Mutation type (which is a GraphQL reserved type), we define which operations to alter our data are available. Such operations are called <a href=\"https://graphql.org/learn/queries/#mutations\">mutations</a>.</li>\n</ol>\n<p>Notice that, in GraphQL, comments between quotes serve as documentation (it’ll be parsed and displayed in your GraphiQL web documentation interface), while the comments that start with <code>#</code> are ignored.</p>\n<h2>Querying your data in GraphQL</h2>\n<p>Tipically, you’d query a GraphQL server like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-graphql\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">  task</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">2</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">    title</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>Which would return the following, in JSON format:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">data</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">task</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">      \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">title</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Write GraphQL tutorial</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>In the query above, we started with a special “root” object, from where we select the <code>task</code> field with the id equals to <code>2</code> Then, we select the <code>title</code> field from the <code>task</code> object. But, if no task has an id equals to 2? In this case, our response would be:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">data</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">task</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> null</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>Or, in case of a error, we would receive this response:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">data</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">task</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> null</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  },</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">errors</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">      \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">message</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Internal server error.</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  ]</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>You may want rename a field before using your data. Well, you can create your <a href=\"https://graphql.org/learn/queries/#aliases\">aliases</a> just like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-graphql\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">  todo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> task</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">2</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">    name</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> title</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And that would be the return:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-json\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">  \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">data</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">    \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">todo</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">      \"</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">name</span><span style=\"color:#8BE9FE;--shiki-dark:#8BE9FE\">\"</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> \"</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Write GraphQL tutorial</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>GraphQL also provides the feature of create <a href=\"https://graphql.org/learn/queries/#fragments\">query fragments</a> and setting up  <a href=\"https://graphql.org/learn/queries/#directives\">directives</a> to query your data. I’ll need to add more complexity to our current schema in order to explain that, so, for while, let’s move to the next topic.</p>\n<h2>The Relay GraphQL Server specification</h2>\n<p>Despite you may not want to use <a href=\"https://relay.dev/\">Relay</a> (or even React) to consume your GraphQL data, their specification is very useful and provides a common ground of what developers should expect from a GraphQL server.</p>\n<p>Remember that <code>Node</code> interface we defined above? Its purpose is to provide a <a href=\"https://graphql.org/learn/global-object-identification/\">global object identification</a> for all the GraphQL nodes in our server. Therefore, a GraphQL client can handle re-fetching and caching in a more standardized way. Notice that each ID must be globally unique on your application.</p>\n<p>As the <code>Node</code> interface will be used for all objects in our server, GraphQL provides a reusable unit called <a href=\"https://graphql.org/learn/queries/#fragments\">fragment</a>. Now, let’s add a new way the query nodes on our schema:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-graphql\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># ...</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Get a node by ID\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  node(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ID</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Node</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># ...</span></span></code></pre>\n<p>Notice that the <code>task</code> query was removed, as it is no more needed. And now, we will re-do our query using a fragment:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-graphql\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># We name the query and pass a variable</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># to improve the development experience.</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">query</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> getTask</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ID</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">  node</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> $id</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    ...</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">taskFields</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">fragment</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> taskFields</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> on</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">  title</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And now, we will change our schema to comply with the Relay GraphQL Server specification. Take some time to read the comments in order to understand what is being done here.</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-graphql\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Serialize and validate JavaScript dates.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">scalar</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Date</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Node interface</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">interface</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Node</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ID</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Priority level</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">enum</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Priority</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  LOW</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  MEDIUM</span></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">  HIGH</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">A task that the user should complete</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> implements</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Node</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task ID\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  id ID!</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> # ID is a GraphQL special type for IDs.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task title\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title String!</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task creation date\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  created</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Date</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  \"Task modification date\"</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  modified</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Date</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  priority</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Priority</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Define an edge of the task,</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">containing a node and a pagination cursor.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TaskEdge</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  cursor</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> String</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  node</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Define a connection between the</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">task edges, including the PageInfo</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">object for pagination info.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TaskConnection</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  edges</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">TaskEdge</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> # Yes, we use brackets to define arrays in GraphQL</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  pageInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> PageInfo</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Provides pagination info</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">for a cursor-based pagination</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> PageInfo</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  hasNextPage</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Boolean</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  hasPreviousPage</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Boolean</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  startCursor</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> String</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  endCursor</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> String</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">Needed input data to add a new task.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">input</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> AddTaskInput</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  title</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> String</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  priority</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Priority</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Query</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  node(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">id</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ID</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Node</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  tasks(</span></span>\n<span class=\"line\"><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">    first</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Int</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">,</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> # The amount of tasks requested</span></span>\n<span class=\"line\"><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">    after</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> String</span><span style=\"color:#6272A4;--shiki-dark:#6272A4\"> # Cursor to mark the point</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  )</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> TaskConnection</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Mutation</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  addTask(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">input</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> AddTaskInput</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> Task</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>At this point, the metaphor of <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\">graphs</a> used here should be very clear. Each <strong>edge</strong> of your graph has a node and a <strong>connection</strong> of edges has a collection of nodes that can be paginated. Note that, in this specification, is expected that you implement a <a href=\"https://www.prisma.io/docs/concepts/components/prisma-client/pagination#cursor-based-pagination\">cursor based pagination</a>, rather than a <a href=\"https://www.prisma.io/docs/concepts/components/prisma-client/pagination#offset-pagination\">offset pagination</a> (follow the previous link to have more information about their differences.</p>\n<p>And that’s all we need to comply with the <a href=\"https://relay.dev/docs/guides/graphql-server-specification/\">Relay GraphQL Server Specification</a>.</p>\n<p>In the next article, I’ll implement a GraphQL server using all the concepts that we learned here.</p>\n<p>Source:</p>\n<p><a href=\"https://graphql.org/\">GraphQL</a></p>\n",
    "tags": [
      "graphql",
      "webdev"
    ],
    "translates": null
  },
  {
    "id": "wcz61fkqkj5y6se",
    "title": "What is a first-class citizen in computer science?",
    "slug": "what-is-a-first-class-citizen-in-computer-science",
    "locale": "en-US",
    "created": "2022-10-08T15:00:00.000Z",
    "updated": "2022-12-29T14:51:27.174Z",
    "content": "<p>In computer science, a <strong>first-class citizen</strong> is an entity that supports all operations available to other entities. Some of the available operations are:</p>\n<ul>\n<li>They may be named by variables;</li>\n<li>They may be passed as arguments to procedures;</li>\n<li>They may be returned as the results of procedures;</li>\n<li>They may be included in data structures.</li>\n</ul>\n<p>It was the British computer scientist Christopher Strachey (1916-1975) <a href=\"https://link.springer.com/article/10.1023/A:1010052305354\">who first</a> coined this notion of first-class citizen status of elements in a programming language in the 1960s.</p>\n<p>In JavaScript, for example, functions are first-class citizens, as all of the operations cited above can be applied to them. Let’s see some examples:</p>\n<p><strong>A simple function definition in JavaScript</strong></p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> sum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p><strong>Assigning a constant to a function</strong></p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> sum</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// or</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// </span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// const sum = function (a, b) {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">//   a + b</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// }</span></span></code></pre>\n<p><strong>Passing a function as an argument</strong></p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> sum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">callback</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">typeof</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> callback </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">===</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">function</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">    callback</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(result) </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// pass the result as an argument of `callback`</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">//        Pass `console.log` as the callback function</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// -------\\/</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">sum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">2</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">2</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, console.log) </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// => 4</span></span></code></pre>\n<p><strong>Return a function</strong></p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">function</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> sum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">callback</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (callback) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> () </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> callback</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(result)</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> result</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">//            The callback is the sum of the result with 2.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// ------------------\\/</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> fn </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> sum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">2</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">2</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">result</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> sum</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">2</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, result))</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">//    ^---- Store the returned function in a variable</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">//          Execute the function</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// ---------\\/</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">console.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">log</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">fn</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">()) </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// => 6</span></span></code></pre>\n<p><strong>Including a function in a data structure</strong></p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-javascript\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// Store the basic operations in an object</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> operations </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  sum</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">+</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b,</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  sub</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b,</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  mul</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">*</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b,</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">  div</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">a</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">b</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> a </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> b,</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n",
    "tags": [
      "javascript",
      "computerscience",
      "programming",
      "beginners"
    ],
    "translates": null
  },
  {
    "id": "2jd9yuw0klpgymp",
    "title": "What is a RPC (Remote Procedure Call)?",
    "slug": "what-is-a-rpc-remote-procedure-call",
    "locale": "en-US",
    "created": "2022-10-07T15:00:00.000Z",
    "updated": "2022-12-29T14:51:32.038Z",
    "content": "<p>A <strong>remote procedure call</strong> (RPC) is a mechanism of communication between two computational environments, where one can be identified as a client, while the other can be identified as a server.</p>\n<p>From the client’s point of view, the RPC is just a matter of calling a function with the desired arguments and await for the response, in order to continue the program’s execution.</p>\n<p><img src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/p3733ruz3n51tadloaaq.png\" alt=\"Diagram on how a RPC (remote procedure call) works\"></p>\n<p>Thus, using an RPC allows one programmer to distribute the system, according to their needs.</p>\n<p><strong>References:</strong></p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=gr7oaiUsxSU\">RPC Vs Simple Procedure Call - Georgia Tech - Advanced Operating Systems</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/rpc/how-rpc-works\">How RPC works</a></li>\n<li><a href=\"https://users.cs.cf.ac.uk/Dave.Marshall/C/node33.html\">Remote Procedure Calls (RPC)</a></li>\n<li><a href=\"https://web.archive.org/web/20030404113118/http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=0650&amp;db=bks&amp;srch=&amp;fname=/SGI_Developer/IRIX_NetPG/sgi_html/ch04.html\">Introduction to RPC Programming</a></li>\n<li><a href=\"https://colinhacks.com/essays/painless-typesafety\">Building an end-to-end typesafe API — without GraphQL</a></li>\n</ul>\n",
    "tags": [
      "programming",
      "computerscience",
      "rpc",
      "beginners"
    ],
    "translates": null
  },
  {
    "id": "fccw7a1zbkshukm",
    "title": "Use GitHub actions to publish your package on NPM",
    "slug": "use-github-actions-to-publish-your-package-on-npm",
    "locale": "en-US",
    "created": "2022-10-04T15:00:00.000Z",
    "updated": "2022-12-29T14:51:36.616Z",
    "content": "<p>Recently, I created a package with the <a href=\"https://eslint.org\">ESLint</a> settings I like to use in my React projects, as I was tired of always having to configure it when I start new React projects. Publishing a NPM package is just a matter of running <code>npm publish</code> on the directory of your package (considering, of course, that you already have an NPM account and is authenticated on your terminal). But I wanted to automatize this publishing everytime I created a new release.</p>\n<p>In order to do that, I used the following GitHub Action:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-yaml\"><span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># File: .github/workflows/npm-publish.yml</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># This workflow will publish a package to NPM when a release is created</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\"># For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">name</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> Publish Package to npmjs</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">on</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  release</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">    types</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> [</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">created</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">]</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">jobs</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  build</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">    runs-on</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">    steps</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      -</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> uses</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      -</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> uses</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> actions/setup-node@v3</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">        with</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">          node-version</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 16</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">          registry-url</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> https://registry.npmjs.org/</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      -</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> run</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> npm publish</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">        env</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">          NODE_AUTH_TOKEN</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\"> ${{secrets.NODE_AUTH_TOKEN}}</span></span></code></pre>\n<p>If you read the YAML file above (that you should put on the <code>.github/workflows/npm-publish.yml</code> directory of your git repository), you should have noted that the environment variable <code>NODE_AUTH_TOKEN</code> should be defined. Create a new automation access token on the control panel of NPM:</p>\n<ol>\n<li>\n<p>Access your NPM account and click in “Access tokens”:\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hddbdiev3xhhrl0s09km.png\" alt=\"Access tokens on NPM\"></p>\n</li>\n<li>\n<p>Name your new access token and select the “Automation” type for it:</p>\n</li>\n</ol>\n<p><img src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4oect8iqd17igcbnrrg1.png\" alt=\"Creating access token on NPM\"></p>\n<ol start=\"3\">\n<li>Go to your GitHub repository, click in “Settings &gt; Secrets &gt; Actions &gt; New repository secret”, name it as NODE_AUTH_TOKEN and paste the access token you just got from NPM:</li>\n</ol>\n<p><img src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wv7pw3j8elyjeoaeehif.png\" alt=\"Create a new secret on the GitHub repository\"></p>\n<ol start=\"4\">\n<li>Create a new release for your package. This should trigger our GitHub Action and publish to NPM.</li>\n</ol>\n<p><img src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/31fsgle783ujl75stld1.png\" alt=\"Creating a new release on GitHub\"></p>\n",
    "tags": [
      "javascript",
      "typescript",
      "npm"
    ],
    "translates": null
  },
  {
    "id": "x09m6ctgj8r7ebz",
    "title": "Create beautiful placeholders for your images ",
    "slug": "create-beautiful-placeholders-for-your-images",
    "locale": "en-US",
    "created": "2022-09-29T15:00:00.000Z",
    "updated": "2023-08-12T13:33:26.541Z",
    "content": "<p>Have you ever faced the situation where the layout of your beautifully crafted interface “breaks” if the image (depeding on the quality of your user’s connections) takes some time to load? Something like the example below:</p>\n<p><a href=\"https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif\"><img src=\"https://media.giphy.com/media/Q7B0kOHlC7akJmwTCW/giphy.gif\" /></a></p>\n<p>This happens because the browser has no clue about the dimensions of the image you want to display on your content beforehand.</p>\n<p>The easiest way to solve this issue is using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio\"><code>aspect-ratio</code></a> property to tell the browser how much space (based on the user’s size display) it should reserve before the image is loaded. Check the difference:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-css\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">img</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/* Makes all images responsive */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  width</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 100</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  height</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> auto</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/*</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  Here, I'm using the image's width and height,</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  but you can come up with diference aspect ratios.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">*/</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  aspect-ratio</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 760</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> / </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">235</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p><a href=\"https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif\"><img src=\"https://media.giphy.com/media/X4dBoFehuhSrpUIdIA/giphy.gif\" width=\"100%\" /></a></p>\n<p>So, it solves the sudden layout change, but we can do even better do better adding an animated background.</p>\n<h2>Displaying an animated background</h2>\n<p>You can give a hint for the user that the blank space on your app should be filled with something by adding a background color or animating the transition between two o more colors, like in the example below:</p>\n<iframe height=\"300\" style={{width:'100%'}} scrolling=\"no\" title=\"Animated placeholder\" src=\"https://codepen.io/douglasdemoura/embed/RwyWzEr?default-tab=\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/douglasdemoura/pen/RwyWzEr\">\n  Animated placeholder</a> by Douglas Moura (<a href=\"https://codepen.io/douglasdemoura\">@douglasdemoura</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n<p>And our code will look like this:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-css\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6;font-style:italic;--shiki-dark-font-style:italic\">:</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B;font-style:italic;--shiki-dark-font-style:italic\">root</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  /*</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  Set the default aspect ratio. You can change</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  this CSS variable per class/id or event</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  creating diferente classes.</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">  */</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  --aspect-ratio</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 16</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">/</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">9</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">img</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/* Makes all images responsive */</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  width</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 100</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">%</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  height</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> auto</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/* Put all your images inside this container */</span></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B;font-style:italic;--shiki-dark-font-style:italic\">.image-container</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {  </span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  aspect-ratio</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\"> var</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(--aspect-ratio);</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  position</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> relative</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  animation</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> background-loading </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">.8</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">s</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> linear</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> infinite</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> alternate</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#50FA7B;--shiki-dark:#50FA7B;font-style:italic;--shiki-dark-font-style:italic\">.image-container</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> img</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  position</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> absolute</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  top</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">  left</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6272A4;--shiki-dark:#6272A4\">/* The placeholder animation */</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">@keyframes</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\"> background-loading</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  0% {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">    background-color</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> #f9fafb</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  100% {</span></span>\n<span class=\"line\"><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD\">    background-color</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> #d1d5db</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span></code></pre>\n<p>And this is the result (check the code on <a href=\"https://codepen.io/douglasdemoura/pen/RwyWBOR\">CodePen</a>):</p>\n<img src=\"https://media.giphy.com/media/9yYPBL1X9wnAKzhVfE/giphy.gif\" />\n<p>Yet, this can be even better by displaying a colorful background that matches the image colors.</p>\n<h2>Displaying colorful image placeholders</h2>\n<p><a href=\"https://github.com/woltapp/blurhash\">BlurHash</a> is a compact representation of a placeholder for a image. You use it to process your image before sending it to the browser and you’ll get a string of 20-30 characters that the algorithm can turn into a blurred image that you can show to your user before the actual image is downloaded. Check how it looks like:</p>\n<img src=\"https://media.giphy.com/media/1RSpYFokgWI2tKRKHk/giphy.gif\" />\n<p>I have implemented that last effect in React for the sake of simplicity and time, but you can re-implement it in whatever framework you like. Just pay attention to the <code>onLoad</code> event that changes the opacity of the image.</p>\n<iframe src=\"https://stackblitz.com/edit/vitejs-vite-enczef?embed=1&file=src/Image.module.css\" height=\"500\" style={{width: '100%'}} scrolling=\"no\" title=\"Animated placeholder\"  frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"></iframe>\n",
    "tags": [
      "javascript",
      "typescript",
      "react",
      "tutorial"
    ],
    "translates": null
  },
  {
    "id": "7p8vdcau7gg894b",
    "title": " How to extend HTML elements with React",
    "slug": "how-to-extend-html-elements-with-react",
    "locale": "en-US",
    "created": "2022-09-26T00:00:00.000Z",
    "updated": "2022-12-29T14:51:44.872Z",
    "content": "<p>Most of the work needed to create custom HTML elements that fit the design system of your company resides styling and adding your own props. So, let’s say you have to create a custom <code>Button</code>, that should receive a <code>children</code> prop and should have DOM access via <a href=\"https://reactjs.org/docs/refs-and-the-dom.html\">ref</a>. That’s how you can do it:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">import</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> { forwardRef } </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">from</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\"> '</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">react</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ButtonProps</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  loading</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> boolean</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">; </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// custom prop</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x26;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">PropsWithChildren</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">ComponentPropsWithRef</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">button</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Button</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">FC</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">ButtonProps</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">> </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> forwardRef</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  ({ </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">loading</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">props</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">ref</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">button data</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">loading</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{loading} {</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">props</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} ref</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{ref}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">        {</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">      &#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">button</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    );</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> default</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Button;</span></span></code></pre>\n<p>We use the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L822\"><code>PropsWithChildren</code></a> generic interface that gives the <code>children</code> prop and receive <code>React.ComponentPropsWithRef&lt;'button'&gt;</code>, that passes all props that a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button\"><code>button</code></a> can receive.</p>\n<p>Of course, you can change the interface <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L834\"><code>ComponentPropsWithRef</code></a> for <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/d076add9f29db350a19bd94c37b197729cc02f87/types/react/index.d.ts#L838\"><code>ComponentPropsWithoutRef</code></a> and drop the <a href=\"https://reactjs.org/docs/forwarding-refs.html\"><code>forwardRef</code></a> function on the definition of your component (although, I do not recomend it - <em>refs</em> may be useful later on your application):</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ButtonProps</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  loading</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> boolean</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">; </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// custom prop</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x26;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">PropsWithChildren</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">ComponentPropsWithoutRef</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">button</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> Button</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">FC</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">ButtonProps</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">> </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> ({ </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">loading</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">props</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">button data</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">loading</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{loading} {</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">props</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} ref</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{ref}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      {</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">button</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  );</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> default</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Button;</span></span></code></pre>\n<p>You may, even, drop the interface <code>PropsWithChildren</code>, but on doing that, you’d have to implement the <code>children</code> prop by yourself:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-typescript\"><span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">type</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> ButtonProps</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> =</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  loading</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> boolean</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">; </span><span style=\"color:#6272A4;--shiki-dark:#6272A4\">// custom prop</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  children</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">?:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">ReactNode</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">&#x26;</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">ComponentPropsWithoutRef</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">button</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">>;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">const</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> Button</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">:</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\"> React</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">.</span><span style=\"color:#8BE9FD;--shiki-dark:#8BE9FD;font-style:italic;--shiki-dark-font-style:italic\">FC</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">&#x3C;</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">ButtonProps</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">> </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> ({ </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">loading</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">props</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> }) </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=></span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  return</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">button data</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">-</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">loading</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{loading} {</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">...</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">props</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">} ref</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">{ref}</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">      {</span><span style=\"color:#FFB86C;--shiki-dark:#FFB86C;font-style:italic;--shiki-dark-font-style:italic\">children</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    &#x3C;/</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">button</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">></span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  );</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">export</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\"> default</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> Button;</span></span></code></pre>\n<p>Want more? Check the live implementation on <a href=\"https://stackblitz.com/edit/vitejs-vite-warc15?file=src%2Fcomponents%2Fbutton.tsx&amp;terminal=dev\">StackBlitz</a></p>\n",
    "tags": [
      "javascript",
      "typescript",
      "react"
    ],
    "translates": null
  },
  {
    "id": "fyuo9wob9vf9fz3",
    "title": "Use this NPM script to create your EditorConfig files ",
    "slug": "use-this-npm-script-to-create-your-editorconfig-files",
    "locale": "en-US",
    "created": "2022-01-09T15:00:00.000Z",
    "updated": "2023-01-04T15:16:37.227Z",
    "content": "<p>Have you ever needed to create an <a href=\"https://editorconfig.org/\">EditorConfig</a> to your programming projects but can never remember all the options you can use? Worry no more: just type <code>npx create-editorconfig -y</code> in your terminal and have one generated for you. Those are the default options:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-text\"><span class=\"line\"><span># editorconfig.org</span></span>\n<span class=\"line\"><span>root = true</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>[*]</span></span>\n<span class=\"line\"><span>charset = utf-8</span></span>\n<span class=\"line\"><span>end_of_line = lf</span></span>\n<span class=\"line\"><span>insert_final_newline = true</span></span>\n<span class=\"line\"><span>indent_style = space</span></span>\n<span class=\"line\"><span>indent_size = 2</span></span>\n<span class=\"line\"><span>trim_trailing_whitespace = true</span></span></code></pre>\n<p>If you want to customize the settings or even add more for a different set of files (by defining a glob pattern), just ommit the <code>-y</code> argument in the terminal and answer the prompted questions.</p>\n<img src=\"https://github.com/DouglasdeMoura/create-editorconfig/raw/main/usage.svg\" alt=\"Using create-editorconfig on ZSH\" />\n<h2>What is EditorConfig?</h2>\n<p>EditorConfig is a configuration file (the <code>.editorconfig</code>) that defines the coding styles that a given code editor (such as <a href=\"https://code.visualstudio.com/\">VS Code</a>) should apply in the files. You can even set a different set of rules for the files of your project according to your their extension or directory, by using a <a href=\"https://en.wikipedia.org/wiki/Glob_(programming)\">glob pattern</a>.</p>\n<h2>My code editor is not applying the EditorConfig settings</h2>\n<p>To apply your <code>.editorconfig</code> rules, your code editor should have a plugin or have EditorConfig rule parsing implemented natively (if you are using VS Code, you must install <a href=\"https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig\">this extension</a>.</p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig\"><img src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/641onx2wrltmoq1ze501.png\" alt=\"EditorConfig extension on VS Code Marketplace\"></a></p>\n<h2>How can I contribute to <code>create-editorconfig</code>?</h2>\n<p>Please, go to the official <a href=\"https://github.com/douglasdeMoura/create-editorconfig\">GitHub repository</a> and open an issue.</p>\n<h2></h2>\n",
    "tags": [
      "javascript",
      "editorconfig",
      "npm",
      "npx"
    ],
    "translates": "1z3ovbccz4z4tmh"
  },
  {
    "id": "02cjfu0pbl38fsa",
    "title": "Increase YouTube video playback rate up to 2x",
    "slug": "increase-youtube-video-playback-rate-up-to-2x",
    "locale": "en-US",
    "created": "2020-10-25T00:00:00.000Z",
    "updated": "2022-12-29T14:52:21.704Z",
    "content": "<p>YouTube videos (along with all modern video implementations on the web) uses the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\">HTML5 video element</a>. This new media tag implements the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement\">HTMLMediaElement API</a>, which gives a plenty of media-related methods common to audio and video.</p>\n<p>The standard YouTube player just allow us to increase video speed up to 2x, but, if you want to increase it even more? Well, there’s a solution for that: just set the playback rate to whatever number you want!</p>\n<p>In order to do that, you need to select the <code>&lt;video&gt;</code> element in the page and change its playback rate to the desired speed:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-js\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">document.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">getElementsByTagName</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">video</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)[</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">].playbackRate </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> 2.5</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">;</span></span></code></pre>\n<p>It’s a good solution, but not a practical one. Gracefully, there’s a better way to make use of this functionality without having to open the console of your browser.</p>\n<h2>JavaScript bookmarklet</h2>\n<figure>\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/hjvcu6sqxp24u5emozsb.png\" alt=\"Adding the bookmarklet on Firefox\" />\n  <figcaption>\n    Adding the bookmarklet on Firefox\n  </figcaption>\n</figure>\n<p>If you want to have this script always at hand, the best way is to put it inside a JavaScript <a href=\"https://en.wikipedia.org/wiki/Bookmarklet\">bookmarklet</a>. Just create a new bookmark in you favorite browser and add the code below:</p>\n<pre class=\"shiki shiki-themes dracula dracula\" style=\"background-color:#282A36;--shiki-dark-bg:#282A36;color:#F8F8F2;--shiki-dark:#F8F8F2\" tabindex=\"0\"><code class=\"language-js\"><span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">javascript:(</span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">function</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">() {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> rate </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> prompt</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">Set the new playback rate</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">, </span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">2.5</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">  if</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> (rate </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">!=</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\"> null</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">    const</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> video </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\"> document.</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\">getElementsByTagName</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F1FA8C;--shiki-dark:#F1FA8C\">video</span><span style=\"color:#E9F284;--shiki-dark:#E9F284\">'</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">)[</span><span style=\"color:#BD93F9;--shiki-dark:#BD93F9\">0</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">];</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">    video.playbackRate </span><span style=\"color:#FF79C6;--shiki-dark:#FF79C6\">=</span><span style=\"color:#50FA7B;--shiki-dark:#50FA7B\"> parseFloat</span><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">(rate);</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">  }</span></span>\n<span class=\"line\"><span style=\"color:#F8F8F2;--shiki-dark:#F8F8F2\">})();</span></span></code></pre>\n<p>And here is an screenshot of the bookmarklet working:</p>\n<figure>\n<img src=\"https://dev-to-uploads.s3.amazonaws.com/i/erxbc4xcxdk7v0gun8z1.png\" alt=\"Video speed bookmarklet working\" />\n  <figcaption>\n    Changing the speed of an (awesome) <a href=\"https://www.youtube.com/watch?v=G4MvFT8TGII\">YouTube video</a>\n  </figcaption>\n</figure>\n<p>Feel free to contribute with this code in <a href=\"https://gist.github.com/DouglasdeMoura/052456a93f93d47982ccb5eefc602eb1\" target=\"_blank\">my public gist</a>.</p>\n",
    "tags": [
      "javascript",
      "html",
      "video",
      "youtube"
    ],
    "translates": null
  }
]